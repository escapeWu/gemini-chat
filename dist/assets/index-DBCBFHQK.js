var O5=Object.defineProperty;var D5=(e,t,n)=>t in e?O5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ps=(e,t,n)=>D5(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ud={exports:{}},bo={},cd={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function z5(){if(y1)return dt;y1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function N(H,ne,R){this.props=H,this.context=ne,this.refs=E,this.updater=R||x}N.prototype.isReactComponent={},N.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function T(){}T.prototype=N.prototype;function I(H,ne,R){this.props=H,this.context=ne,this.refs=E,this.updater=R||x}var L=I.prototype=new T;L.constructor=I,w(L,N.prototype),L.isPureReactComponent=!0;var B=Array.isArray,D=Object.prototype.hasOwnProperty,O={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function G(H,ne,R){var xe,Ae={},ce=null,fe=null;if(ne!=null)for(xe in ne.ref!==void 0&&(fe=ne.ref),ne.key!==void 0&&(ce=""+ne.key),ne)D.call(ne,xe)&&!te.hasOwnProperty(xe)&&(Ae[xe]=ne[xe]);var Me=arguments.length-2;if(Me===1)Ae.children=R;else if(1<Me){for(var $e=Array(Me),Qe=0;Qe<Me;Qe++)$e[Qe]=arguments[Qe+2];Ae.children=$e}if(H&&H.defaultProps)for(xe in Me=H.defaultProps,Me)Ae[xe]===void 0&&(Ae[xe]=Me[xe]);return{$$typeof:e,type:H,key:ce,ref:fe,props:Ae,_owner:O.current}}function J(H,ne){return{$$typeof:e,type:H.type,key:ne,ref:H.ref,props:H.props,_owner:H._owner}}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function ie(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(R){return ne[R]})}var se=/\/+/g;function de(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?ie(""+H.key):ne.toString(36)}function K(H,ne,R,xe,Ae){var ce=typeof H;(ce==="undefined"||ce==="boolean")&&(H=null);var fe=!1;if(H===null)fe=!0;else switch(ce){case"string":case"number":fe=!0;break;case"object":switch(H.$$typeof){case e:case t:fe=!0}}if(fe)return fe=H,Ae=Ae(fe),H=xe===""?"."+de(fe,0):xe,B(Ae)?(R="",H!=null&&(R=H.replace(se,"$&/")+"/"),K(Ae,ne,R,"",function(Qe){return Qe})):Ae!=null&&(z(Ae)&&(Ae=J(Ae,R+(!Ae.key||fe&&fe.key===Ae.key?"":(""+Ae.key).replace(se,"$&/")+"/")+H)),ne.push(Ae)),1;if(fe=0,xe=xe===""?".":xe+":",B(H))for(var Me=0;Me<H.length;Me++){ce=H[Me];var $e=xe+de(ce,Me);fe+=K(ce,ne,R,$e,Ae)}else if($e=v(H),typeof $e=="function")for(H=$e.call(H),Me=0;!(ce=H.next()).done;)ce=ce.value,$e=xe+de(ce,Me++),fe+=K(ce,ne,R,$e,Ae);else if(ce==="object")throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return fe}function P(H,ne,R){if(H==null)return H;var xe=[],Ae=0;return K(H,xe,"","",function(ce){return ne.call(R,ce,Ae++)}),xe}function Y(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(R){(H._status===0||H._status===-1)&&(H._status=1,H._result=R)},function(R){(H._status===0||H._status===-1)&&(H._status=2,H._result=R)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var ee={current:null},W={transition:null},Q={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:W,ReactCurrentOwner:O};function A(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:P,forEach:function(H,ne,R){P(H,function(){ne.apply(this,arguments)},R)},count:function(H){var ne=0;return P(H,function(){ne++}),ne},toArray:function(H){return P(H,function(ne){return ne})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},dt.Component=N,dt.Fragment=n,dt.Profiler=a,dt.PureComponent=I,dt.StrictMode=r,dt.Suspense=d,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,dt.act=A,dt.cloneElement=function(H,ne,R){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var xe=w({},H.props),Ae=H.key,ce=H.ref,fe=H._owner;if(ne!=null){if(ne.ref!==void 0&&(ce=ne.ref,fe=O.current),ne.key!==void 0&&(Ae=""+ne.key),H.type&&H.type.defaultProps)var Me=H.type.defaultProps;for($e in ne)D.call(ne,$e)&&!te.hasOwnProperty($e)&&(xe[$e]=ne[$e]===void 0&&Me!==void 0?Me[$e]:ne[$e])}var $e=arguments.length-2;if($e===1)xe.children=R;else if(1<$e){Me=Array($e);for(var Qe=0;Qe<$e;Qe++)Me[Qe]=arguments[Qe+2];xe.children=Me}return{$$typeof:e,type:H.type,key:Ae,ref:ce,props:xe,_owner:fe}},dt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},dt.createElement=G,dt.createFactory=function(H){var ne=G.bind(null,H);return ne.type=H,ne},dt.createRef=function(){return{current:null}},dt.forwardRef=function(H){return{$$typeof:c,render:H}},dt.isValidElement=z,dt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:Y}},dt.memo=function(H,ne){return{$$typeof:f,type:H,compare:ne===void 0?null:ne}},dt.startTransition=function(H){var ne=W.transition;W.transition={};try{H()}finally{W.transition=ne}},dt.unstable_act=A,dt.useCallback=function(H,ne){return ee.current.useCallback(H,ne)},dt.useContext=function(H){return ee.current.useContext(H)},dt.useDebugValue=function(){},dt.useDeferredValue=function(H){return ee.current.useDeferredValue(H)},dt.useEffect=function(H,ne){return ee.current.useEffect(H,ne)},dt.useId=function(){return ee.current.useId()},dt.useImperativeHandle=function(H,ne,R){return ee.current.useImperativeHandle(H,ne,R)},dt.useInsertionEffect=function(H,ne){return ee.current.useInsertionEffect(H,ne)},dt.useLayoutEffect=function(H,ne){return ee.current.useLayoutEffect(H,ne)},dt.useMemo=function(H,ne){return ee.current.useMemo(H,ne)},dt.useReducer=function(H,ne,R){return ee.current.useReducer(H,ne,R)},dt.useRef=function(H){return ee.current.useRef(H)},dt.useState=function(H){return ee.current.useState(H)},dt.useSyncExternalStore=function(H,ne,R){return ee.current.useSyncExternalStore(H,ne,R)},dt.useTransition=function(){return ee.current.useTransition()},dt.version="18.3.1",dt}var k1;function Xm(){return k1||(k1=1,cd.exports=z5()),cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function P5(){if(w1)return bo;w1=1;var e=Xm(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var h,g={},v=null,x=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(h in d)r.call(d,h)&&!s.hasOwnProperty(h)&&(g[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)g[h]===void 0&&(g[h]=d[h]);return{$$typeof:t,type:c,key:v,ref:x,props:g,_owner:a.current}}return bo.Fragment=n,bo.jsx=l,bo.jsxs=l,bo}var S1;function B5(){return S1||(S1=1,ud.exports=P5()),ud.exports}var u=B5(),C=Xm();const Ts=rc(C);var eu={},dd={exports:{}},Jn={},md={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function F5(){return E1||(E1=1,(function(e){function t(W,Q){var A=W.length;W.push(Q);e:for(;0<A;){var H=A-1>>>1,ne=W[H];if(0<a(ne,Q))W[H]=Q,W[A]=ne,A=H;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Q=W[0],A=W.pop();if(A!==Q){W[0]=A;e:for(var H=0,ne=W.length,R=ne>>>1;H<R;){var xe=2*(H+1)-1,Ae=W[xe],ce=xe+1,fe=W[ce];if(0>a(Ae,A))ce<ne&&0>a(fe,Ae)?(W[H]=fe,W[ce]=A,H=ce):(W[H]=Ae,W[xe]=A,H=xe);else if(ce<ne&&0>a(fe,A))W[H]=fe,W[ce]=A,H=ce;else break e}}return Q}function a(W,Q){var A=W.sortIndex-Q.sortIndex;return A!==0?A:W.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,g=null,v=3,x=!1,w=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(W){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=W)r(f),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(f)}}function B(W){if(E=!1,L(W),!w)if(n(d)!==null)w=!0,Y(D);else{var Q=n(f);Q!==null&&ee(B,Q.startTime-W)}}function D(W,Q){w=!1,E&&(E=!1,T(G),G=-1),x=!0;var A=v;try{for(L(Q),g=n(d);g!==null&&(!(g.expirationTime>Q)||W&&!ie());){var H=g.callback;if(typeof H=="function"){g.callback=null,v=g.priorityLevel;var ne=H(g.expirationTime<=Q);Q=e.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(d)&&r(d),L(Q)}else r(d);g=n(d)}if(g!==null)var R=!0;else{var xe=n(f);xe!==null&&ee(B,xe.startTime-Q),R=!1}return R}finally{g=null,v=A,x=!1}}var O=!1,te=null,G=-1,J=5,z=-1;function ie(){return!(e.unstable_now()-z<J)}function se(){if(te!==null){var W=e.unstable_now();z=W;var Q=!0;try{Q=te(!0,W)}finally{Q?de():(O=!1,te=null)}}else O=!1}var de;if(typeof I=="function")de=function(){I(se)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,P=K.port2;K.port1.onmessage=se,de=function(){P.postMessage(null)}}else de=function(){N(se,0)};function Y(W){te=W,O||(O=!0,de())}function ee(W,Q){G=N(function(){W(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,Y(D))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(W){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var A=v;v=Q;try{return W()}finally{v=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var A=v;v=W;try{return Q()}finally{v=A}},e.unstable_scheduleCallback=function(W,Q,A){var H=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?H+A:H):A=H,W){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=A+ne,W={id:h++,callback:Q,priorityLevel:W,startTime:A,expirationTime:ne,sortIndex:-1},A>H?(W.sortIndex=A,t(f,W),n(d)===null&&W===n(f)&&(E?(T(G),G=-1):E=!0,ee(B,A-H))):(W.sortIndex=ne,t(d,W),w||x||(w=!0,Y(D))),W},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(W){var Q=v;return function(){var A=v;v=Q;try{return W.apply(this,arguments)}finally{v=A}}}})(fd)),fd}var N1;function $5(){return N1||(N1=1,md.exports=F5()),md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function H5(){if(T1)return Jn;T1=1;var e=Xm(),t=$5();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,m=1;m<arguments.length;m++)o+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function s(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(a[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function v(i){return d.call(g,i)?!0:d.call(h,i)?!1:f.test(i)?g[i]=!0:(h[i]=!0,!1)}function x(i,o,m,p){if(m!==null&&m.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:m!==null?!m.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,o,m,p){if(o===null||typeof o>"u"||x(i,o,m,p))return!0;if(p)return!1;if(m!==null)switch(m.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function E(i,o,m,p,b,k,M){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=b,this.mustUseProperty=m,this.propertyName=i,this.type=o,this.sanitizeURL=k,this.removeEmptyString=M}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new E(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function I(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(T,I);N[o]=new E(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(T,I);N[o]=new E(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(T,I);N[o]=new E(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,o,m,p){var b=N.hasOwnProperty(o)?N[o]:null;(b!==null?b.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,m,b,p)&&(m=null),p||b===null?v(o)&&(m===null?i.removeAttribute(o):i.setAttribute(o,""+m)):b.mustUseProperty?i[b.propertyName]=m===null?b.type===3?!1:"":m:(o=b.attributeName,p=b.attributeNamespace,m===null?i.removeAttribute(o):(b=b.type,m=b===3||b===4&&m===!0?"":""+m,p?i.setAttributeNS(p,o,m):i.setAttribute(o,m))))}var B=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),O=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),W=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,H;function ne(i){if(H===void 0)try{throw Error()}catch(m){var o=m.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+i}var R=!1;function xe(i,o){if(!i||R)return"";R=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(le){var p=le}Reflect.construct(i,[],o)}else{try{o.call()}catch(le){p=le}i.call(o.prototype)}else{try{throw Error()}catch(le){p=le}i()}}catch(le){if(le&&p&&typeof le.stack=="string"){for(var b=le.stack.split(`
`),k=p.stack.split(`
`),M=b.length-1,F=k.length-1;1<=M&&0<=F&&b[M]!==k[F];)F--;for(;1<=M&&0<=F;M--,F--)if(b[M]!==k[F]){if(M!==1||F!==1)do if(M--,F--,0>F||b[M]!==k[F]){var V=`
`+b[M].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=M&&0<=F);break}}}finally{R=!1,Error.prepareStackTrace=m}return(i=i?i.displayName||i.name:"")?ne(i):""}function Ae(i){switch(i.tag){case 5:return ne(i.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case te:return"Fragment";case O:return"Portal";case J:return"Profiler";case G:return"StrictMode";case de:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ie:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case se:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:ce(i.type)||"Memo";case Y:o=i._payload,i=i._init;try{return ce(i(o))}catch{}}return null}function fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(o);case 8:return o===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $e(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qe(i){var o=$e(i)?"checked":"value",m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,k=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(M){p=""+M,k.call(this,M)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(M){p=""+M},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function kt(i){i._valueTracker||(i._valueTracker=Qe(i))}function Kt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var m=o.getValue(),p="";return i&&(p=$e(i)?i.checked?"true":"false":i.value),i=p,i!==m?(o.setValue(i),!0):!1}function cn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function dn(i,o){var m=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??i._wrapperState.initialChecked})}function wn(i,o){var m=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;m=Me(o.value!=null?o.value:m),i._wrapperState={initialChecked:p,initialValue:m,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function at(i,o){o=o.checked,o!=null&&L(i,"checked",o,!1)}function We(i,o){at(i,o);var m=Me(o.value),p=o.type;if(m!=null)p==="number"?(m===0&&i.value===""||i.value!=m)&&(i.value=""+m):i.value!==""+m&&(i.value=""+m);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?jt(i,o.type,m):o.hasOwnProperty("defaultValue")&&jt(i,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ct(i,o,m){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,m||o===i.value||(i.value=o),i.defaultValue=o}m=i.name,m!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,m!==""&&(i.name=m)}function jt(i,o,m){(o!=="number"||cn(i.ownerDocument)!==i)&&(m==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+m&&(i.defaultValue=""+m))}var je=Array.isArray;function en(i,o,m,p){if(i=i.options,o){o={};for(var b=0;b<m.length;b++)o["$"+m[b]]=!0;for(m=0;m<i.length;m++)b=o.hasOwnProperty("$"+i[m].value),i[m].selected!==b&&(i[m].selected=b),b&&p&&(i[m].defaultSelected=!0)}else{for(m=""+Me(m),o=null,b=0;b<i.length;b++){if(i[b].value===m){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function tn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ft(i,o){var m=o.value;if(m==null){if(m=o.children,o=o.defaultValue,m!=null){if(o!=null)throw Error(n(92));if(je(m)){if(1<m.length)throw Error(n(93));m=m[0]}o=m}o==null&&(o=""),m=o}i._wrapperState={initialValue:Me(m)}}function $t(i,o){var m=Me(o.value),p=Me(o.defaultValue);m!=null&&(m=""+m,m!==i.value&&(i.value=m),o.defaultValue==null&&i.defaultValue!==m&&(i.defaultValue=m)),p!=null&&(i.defaultValue=""+p)}function gn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ue(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ke(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ue(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var be,Je=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,m,p,b){MSApp.execUnsafeLocalFunction(function(){return i(o,m,p,b)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=be.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function st(i,o){if(o){var m=i.firstChild;if(m&&m===i.lastChild&&m.nodeType===3){m.nodeValue=o;return}}i.textContent=o}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(i){jr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Yt[o]=Yt[i]})});function Vn(i,o,m){return o==null||typeof o=="boolean"||o===""?"":m||typeof o!="number"||o===0||Yt.hasOwnProperty(i)&&Yt[i]?(""+o).trim():o+"px"}function Rr(i,o){i=i.style;for(var m in o)if(o.hasOwnProperty(m)){var p=m.indexOf("--")===0,b=Vn(m,o[m],p);m==="float"&&(m="cssFloat"),p?i.setProperty(m,b):i[m]=b}}var oi=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(i,o){if(o){if(oi[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function br(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _n=null;function Ha(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ua=null,Ai=null,li=null;function ui(i){if(i=no(i)){if(typeof Ua!="function")throw Error(n(280));var o=i.stateNode;o&&(o=pl(o),Ua(i.stateNode,i.type,o))}}function q(i){Ai?li?li.push(i):li=[i]:Ai=i}function me(){if(Ai){var i=Ai,o=li;if(li=Ai=null,ui(i),o)for(i=0;i<o.length;i++)ui(o[i])}}function _e(i,o){return i(o)}function nt(){}var Rt=!1;function Dt(i,o,m){if(Rt)return i(o,m);Rt=!0;try{return _e(i,o,m)}finally{Rt=!1,(Ai!==null||li!==null)&&(nt(),me())}}function De(i,o){var m=i.stateNode;if(m===null)return null;var p=pl(m);if(p===null)return null;m=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(m&&typeof m!="function")throw Error(n(231,o,typeof m));return m}var Le=!1;if(c)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch{Le=!1}function mn(i,o,m,p,b,k,M,F,V){var le=Array.prototype.slice.call(arguments,3);try{o.apply(m,le)}catch(ge){this.onError(ge)}}var _t=!1,Wr=null,Ii=!1,da=null,Mc={onError:function(i){_t=!0,Wr=i}};function Ds(i,o,m,p,b,k,M,F,V){_t=!1,Wr=null,mn.apply(Mc,arguments)}function Ac(i,o,m,p,b,k,M,F,V){if(Ds.apply(this,arguments),_t){if(_t){var le=Wr;_t=!1,Wr=null}else throw Error(n(198));Ii||(Ii=!0,da=le)}}function ci(i){var o=i,m=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(m=o.return),i=o.return;while(i)}return o.tag===3?m:null}function Vo(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function zs(i){if(ci(i)!==i)throw Error(n(188))}function Wa(i){var o=i.alternate;if(!o){if(o=ci(i),o===null)throw Error(n(188));return o!==i?null:i}for(var m=i,p=o;;){var b=m.return;if(b===null)break;var k=b.alternate;if(k===null){if(p=b.return,p!==null){m=p;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===m)return zs(b),i;if(k===p)return zs(b),o;k=k.sibling}throw Error(n(188))}if(m.return!==p.return)m=b,p=k;else{for(var M=!1,F=b.child;F;){if(F===m){M=!0,m=b,p=k;break}if(F===p){M=!0,p=b,m=k;break}F=F.sibling}if(!M){for(F=k.child;F;){if(F===m){M=!0,m=k,p=b;break}if(F===p){M=!0,p=k,m=b;break}F=F.sibling}if(!M)throw Error(n(189))}}if(m.alternate!==p)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?i:o}function Ko(i){return i=Wa(i),i!==null?Yo(i):null}function Yo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Yo(i);if(o!==null)return o;i=i.sibling}return null}var Xo=t.unstable_scheduleCallback,Lr=t.unstable_cancelCallback,Zo=t.unstable_shouldYield,Qo=t.unstable_requestPaint,Ht=t.unstable_now,Ic=t.unstable_getCurrentPriorityLevel,Ps=t.unstable_ImmediatePriority,ma=t.unstable_UserBlockingPriority,qa=t.unstable_NormalPriority,Ee=t.unstable_LowPriority,qe=t.unstable_IdlePriority,ut=null,ft=null;function nn(i){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Pn,qr=Math.log,Ga=Math.LN2;function Pn(i){return i>>>=0,i===0?32:31-(qr(i)/Ga|0)|0}var Bn=64,fa=4194304;function ji(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ha(i,o){var m=i.pendingLanes;if(m===0)return 0;var p=0,b=i.suspendedLanes,k=i.pingedLanes,M=m&268435455;if(M!==0){var F=M&~b;F!==0?p=ji(F):(k&=M,k!==0&&(p=ji(k)))}else M=m&~b,M!==0?p=ji(M):k!==0&&(p=ji(k));if(p===0)return 0;if(o!==0&&o!==p&&(o&b)===0&&(b=p&-p,k=o&-o,b>=k||b===16&&(k&4194240)!==0))return o;if((p&4)!==0&&(p|=m&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)m=31-Ut(o),b=1<<m,p|=i[m],o&=~b;return p}function jc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rc(i,o){for(var m=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,k=i.pendingLanes;0<k;){var M=31-Ut(k),F=1<<M,V=b[M];V===-1?((F&m)===0||(F&p)!==0)&&(b[M]=jc(F,o)):V<=o&&(i.expiredLanes|=F),k&=~F}}function Bs(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Jo(){var i=Bn;return Bn<<=1,(Bn&4194240)===0&&(Bn=64),i}function Ri(i){for(var o=[],m=0;31>m;m++)o.push(i);return o}function Li(i,o,m){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Ut(o),i[o]=m}function vr(i,o){var m=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<m;){var b=31-Ut(m),k=1<<b;o[b]=0,p[b]=-1,i[b]=-1,m&=~k}}function Fs(i,o){var m=i.entangledLanes|=o;for(i=i.entanglements;m;){var p=31-Ut(m),b=1<<p;b&o|i[p]&o&&(i[p]|=o),m&=~b}}var gt=0;function it(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var $s,rn,wt,pa,Gr,ga=!1,Oi=[],Ce=null,ze=null,et=null,pt=new Map,Xt=new Map,Sn=[],Lc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(i,o){switch(i){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":ze=null;break;case"mouseover":case"mouseout":et=null;break;case"pointerover":case"pointerout":pt.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(o.pointerId)}}function Hs(i,o,m,p,b,k){return i===null||i.nativeEvent!==k?(i={blockedOn:o,domEventName:m,eventSystemFlags:p,nativeEvent:k,targetContainers:[b]},o!==null&&(o=no(o),o!==null&&rn(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function iy(i,o,m,p,b){switch(o){case"focusin":return Ce=Hs(Ce,i,o,m,p,b),!0;case"dragenter":return ze=Hs(ze,i,o,m,p,b),!0;case"mouseover":return et=Hs(et,i,o,m,p,b),!0;case"pointerover":var k=b.pointerId;return pt.set(k,Hs(pt.get(k)||null,i,o,m,p,b)),!0;case"gotpointercapture":return k=b.pointerId,Xt.set(k,Hs(Xt.get(k)||null,i,o,m,p,b)),!0}return!1}function ih(i){var o=xa(i.target);if(o!==null){var m=ci(o);if(m!==null){if(o=m.tag,o===13){if(o=Vo(m),o!==null){i.blockedOn=o,Gr(i.priority,function(){wt(m)});return}}else if(o===3&&m.stateNode.current.memoizedState.isDehydrated){i.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var m=Dc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(m===null){m=i.nativeEvent;var p=new m.constructor(m.type,m);_n=p,m.target.dispatchEvent(p),_n=null}else return o=no(m),o!==null&&rn(o),i.blockedOn=m,!1;o.shift()}return!0}function ah(i,o,m){tl(i)&&m.delete(o)}function ay(){ga=!1,Ce!==null&&tl(Ce)&&(Ce=null),ze!==null&&tl(ze)&&(ze=null),et!==null&&tl(et)&&(et=null),pt.forEach(ah),Xt.forEach(ah)}function Us(i,o){i.blockedOn===o&&(i.blockedOn=null,ga||(ga=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ay)))}function Ws(i){function o(b){return Us(b,i)}if(0<Oi.length){Us(Oi[0],i);for(var m=1;m<Oi.length;m++){var p=Oi[m];p.blockedOn===i&&(p.blockedOn=null)}}for(Ce!==null&&Us(Ce,i),ze!==null&&Us(ze,i),et!==null&&Us(et,i),pt.forEach(o),Xt.forEach(o),m=0;m<Sn.length;m++)p=Sn[m],p.blockedOn===i&&(p.blockedOn=null);for(;0<Sn.length&&(m=Sn[0],m.blockedOn===null);)ih(m),m.blockedOn===null&&Sn.shift()}var Va=B.ReactCurrentBatchConfig,nl=!0;function sy(i,o,m,p){var b=gt,k=Va.transition;Va.transition=null;try{gt=1,Oc(i,o,m,p)}finally{gt=b,Va.transition=k}}function oy(i,o,m,p){var b=gt,k=Va.transition;Va.transition=null;try{gt=4,Oc(i,o,m,p)}finally{gt=b,Va.transition=k}}function Oc(i,o,m,p){if(nl){var b=Dc(i,o,m,p);if(b===null)Jc(i,o,p,rl,m),el(i,p);else if(iy(b,i,o,m,p))p.stopPropagation();else if(el(i,p),o&4&&-1<Lc.indexOf(i)){for(;b!==null;){var k=no(b);if(k!==null&&$s(k),k=Dc(i,o,m,p),k===null&&Jc(i,o,p,rl,m),k===b)break;b=k}b!==null&&p.stopPropagation()}else Jc(i,o,p,null,m)}}var rl=null;function Dc(i,o,m,p){if(rl=null,i=Ha(p),i=xa(i),i!==null)if(o=ci(i),o===null)i=null;else if(m=o.tag,m===13){if(i=Vo(o),i!==null)return i;i=null}else if(m===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return rl=i,null}function sh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ic()){case Ps:return 1;case ma:return 4;case qa:case Ee:return 16;case qe:return 536870912;default:return 16}default:return 16}}var Di=null,zc=null,il=null;function oh(){if(il)return il;var i,o=zc,m=o.length,p,b="value"in Di?Di.value:Di.textContent,k=b.length;for(i=0;i<m&&o[i]===b[i];i++);var M=m-i;for(p=1;p<=M&&o[m-p]===b[k-p];p++);return il=b.slice(i,1<p?1-p:void 0)}function al(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function sl(){return!0}function lh(){return!1}function or(i){function o(m,p,b,k,M){this._reactName=m,this._targetInst=b,this.type=p,this.nativeEvent=k,this.target=M,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(m=i[F],this[F]=m?m(k):k[F]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?sl:lh,this.isPropagationStopped=lh,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),o}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=or(Ka),qs=A({},Ka,{view:0,detail:0}),ly=or(qs),Bc,Fc,Gs,ol=A({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gs&&(Gs&&i.type==="mousemove"?(Bc=i.screenX-Gs.screenX,Fc=i.screenY-Gs.screenY):Fc=Bc=0,Gs=i),Bc)},movementY:function(i){return"movementY"in i?i.movementY:Fc}}),uh=or(ol),uy=A({},ol,{dataTransfer:0}),cy=or(uy),dy=A({},qs,{relatedTarget:0}),$c=or(dy),my=A({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),fy=or(my),hy=A({},Ka,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),py=or(hy),gy=A({},Ka,{data:0}),ch=or(gy),xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},by={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yy(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=vy[i])?!!o[i]:!1}function Hc(){return yy}var ky=A({},qs,{key:function(i){if(i.key){var o=xy[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=al(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?by[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(i){return i.type==="keypress"?al(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?al(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wy=or(ky),Sy=A({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=or(Sy),Ey=A({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),Ny=or(Ey),Ty=A({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cy=or(Ty),_y=A({},ol,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),My=or(_y),Ay=[9,13,27,32],Uc=c&&"CompositionEvent"in window,Vs=null;c&&"documentMode"in document&&(Vs=document.documentMode);var Iy=c&&"TextEvent"in window&&!Vs,mh=c&&(!Uc||Vs&&8<Vs&&11>=Vs),fh=" ",hh=!1;function ph(i,o){switch(i){case"keyup":return Ay.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ya=!1;function jy(i,o){switch(i){case"compositionend":return gh(o);case"keypress":return o.which!==32?null:(hh=!0,fh);case"textInput":return i=o.data,i===fh&&hh?null:i;default:return null}}function Ry(i,o){if(Ya)return i==="compositionend"||!Uc&&ph(i,o)?(i=oh(),il=zc=Di=null,Ya=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mh&&o.locale!=="ko"?null:o.data;default:return null}}var Ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Ly[i.type]:o==="textarea"}function bh(i,o,m,p){q(p),o=ml(o,"onChange"),0<o.length&&(m=new Pc("onChange","change",null,m,p),i.push({event:m,listeners:o}))}var Ks=null,Ys=null;function Oy(i){Dh(i,0)}function ll(i){var o=es(i);if(Kt(o))return i}function Dy(i,o){if(i==="change")return o}var vh=!1;if(c){var Wc;if(c){var qc="oninput"in document;if(!qc){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),qc=typeof yh.oninput=="function"}Wc=qc}else Wc=!1;vh=Wc&&(!document.documentMode||9<document.documentMode)}function kh(){Ks&&(Ks.detachEvent("onpropertychange",wh),Ys=Ks=null)}function wh(i){if(i.propertyName==="value"&&ll(Ys)){var o=[];bh(o,Ys,i,Ha(i)),Dt(Oy,o)}}function zy(i,o,m){i==="focusin"?(kh(),Ks=o,Ys=m,Ks.attachEvent("onpropertychange",wh)):i==="focusout"&&kh()}function Py(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ll(Ys)}function By(i,o){if(i==="click")return ll(o)}function Fy(i,o){if(i==="input"||i==="change")return ll(o)}function $y(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Or=typeof Object.is=="function"?Object.is:$y;function Xs(i,o){if(Or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var m=Object.keys(i),p=Object.keys(o);if(m.length!==p.length)return!1;for(p=0;p<m.length;p++){var b=m[p];if(!d.call(o,b)||!Or(i[b],o[b]))return!1}return!0}function Sh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Eh(i,o){var m=Sh(i);i=0;for(var p;m;){if(m.nodeType===3){if(p=i+m.textContent.length,i<=o&&p>=o)return{node:m,offset:o-i};i=p}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Sh(m)}}function Nh(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Nh(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Th(){for(var i=window,o=cn();o instanceof i.HTMLIFrameElement;){try{var m=typeof o.contentWindow.location.href=="string"}catch{m=!1}if(m)i=o.contentWindow;else break;o=cn(i.document)}return o}function Gc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Hy(i){var o=Th(),m=i.focusedElem,p=i.selectionRange;if(o!==m&&m&&m.ownerDocument&&Nh(m.ownerDocument.documentElement,m)){if(p!==null&&Gc(m)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in m)m.selectionStart=o,m.selectionEnd=Math.min(i,m.value.length);else if(i=(o=m.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var b=m.textContent.length,k=Math.min(p.start,b);p=p.end===void 0?k:Math.min(p.end,b),!i.extend&&k>p&&(b=p,p=k,k=b),b=Eh(m,k);var M=Eh(m,p);b&&M&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(b.node,b.offset),i.removeAllRanges(),k>p?(i.addRange(o),i.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),i.addRange(o)))}}for(o=[],i=m;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<o.length;m++)i=o[m],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Uy=c&&"documentMode"in document&&11>=document.documentMode,Xa=null,Vc=null,Zs=null,Kc=!1;function Ch(i,o,m){var p=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Kc||Xa==null||Xa!==cn(p)||(p=Xa,"selectionStart"in p&&Gc(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zs&&Xs(Zs,p)||(Zs=p,p=ml(Vc,"onSelect"),0<p.length&&(o=new Pc("onSelect","select",null,o,m),i.push({event:o,listeners:p}),o.target=Xa)))}function ul(i,o){var m={};return m[i.toLowerCase()]=o.toLowerCase(),m["Webkit"+i]="webkit"+o,m["Moz"+i]="moz"+o,m}var Za={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},Yc={},_h={};c&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function cl(i){if(Yc[i])return Yc[i];if(!Za[i])return i;var o=Za[i],m;for(m in o)if(o.hasOwnProperty(m)&&m in _h)return Yc[i]=o[m];return i}var Mh=cl("animationend"),Ah=cl("animationiteration"),Ih=cl("animationstart"),jh=cl("transitionend"),Rh=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(i,o){Rh.set(i,o),s(o,[i])}for(var Xc=0;Xc<Lh.length;Xc++){var Zc=Lh[Xc],Wy=Zc.toLowerCase(),qy=Zc[0].toUpperCase()+Zc.slice(1);zi(Wy,"on"+qy)}zi(Mh,"onAnimationEnd"),zi(Ah,"onAnimationIteration"),zi(Ih,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(jh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Oh(i,o,m){var p=i.type||"unknown-event";i.currentTarget=m,Ac(p,o,void 0,i),i.currentTarget=null}function Dh(i,o){o=(o&4)!==0;for(var m=0;m<i.length;m++){var p=i[m],b=p.event;p=p.listeners;e:{var k=void 0;if(o)for(var M=p.length-1;0<=M;M--){var F=p[M],V=F.instance,le=F.currentTarget;if(F=F.listener,V!==k&&b.isPropagationStopped())break e;Oh(b,F,le),k=V}else for(M=0;M<p.length;M++){if(F=p[M],V=F.instance,le=F.currentTarget,F=F.listener,V!==k&&b.isPropagationStopped())break e;Oh(b,F,le),k=V}}}if(Ii)throw i=da,Ii=!1,da=null,i}function Lt(i,o){var m=o[a0];m===void 0&&(m=o[a0]=new Set);var p=i+"__bubble";m.has(p)||(zh(o,i,2,!1),m.add(p))}function Qc(i,o,m){var p=0;o&&(p|=4),zh(m,i,p,o)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Js(i){if(!i[dl]){i[dl]=!0,r.forEach(function(m){m!=="selectionchange"&&(Gy.has(m)||Qc(m,!1,i),Qc(m,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[dl]||(o[dl]=!0,Qc("selectionchange",!1,o))}}function zh(i,o,m,p){switch(sh(o)){case 1:var b=sy;break;case 4:b=oy;break;default:b=Oc}m=b.bind(null,o,m,i),b=void 0,!Le||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(o,m,{capture:!0,passive:b}):i.addEventListener(o,m,!0):b!==void 0?i.addEventListener(o,m,{passive:b}):i.addEventListener(o,m,!1)}function Jc(i,o,m,p,b){var k=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var F=p.stateNode.containerInfo;if(F===b||F.nodeType===8&&F.parentNode===b)break;if(M===4)for(M=p.return;M!==null;){var V=M.tag;if((V===3||V===4)&&(V=M.stateNode.containerInfo,V===b||V.nodeType===8&&V.parentNode===b))return;M=M.return}for(;F!==null;){if(M=xa(F),M===null)return;if(V=M.tag,V===5||V===6){p=k=M;continue e}F=F.parentNode}}p=p.return}Dt(function(){var le=k,ge=Ha(m),ve=[];e:{var he=Rh.get(i);if(he!==void 0){var Re=Pc,Be=i;switch(i){case"keypress":if(al(m)===0)break e;case"keydown":case"keyup":Re=wy;break;case"focusin":Be="focus",Re=$c;break;case"focusout":Be="blur",Re=$c;break;case"beforeblur":case"afterblur":Re=$c;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Ny;break;case Mh:case Ah:case Ih:Re=fy;break;case jh:Re=Cy;break;case"scroll":Re=ly;break;case"wheel":Re=My;break;case"copy":case"cut":case"paste":Re=py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=dh}var Fe=(o&4)!==0,an=!Fe&&i==="scroll",re=Fe?he!==null?he+"Capture":null:he;Fe=[];for(var Z=le,oe;Z!==null;){oe=Z;var Ne=oe.stateNode;if(oe.tag===5&&Ne!==null&&(oe=Ne,re!==null&&(Ne=De(Z,re),Ne!=null&&Fe.push(eo(Z,Ne,oe)))),an)break;Z=Z.return}0<Fe.length&&(he=new Re(he,Be,null,m,ge),ve.push({event:he,listeners:Fe}))}}if((o&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",Re=i==="mouseout"||i==="pointerout",he&&m!==_n&&(Be=m.relatedTarget||m.fromElement)&&(xa(Be)||Be[di]))break e;if((Re||he)&&(he=ge.window===ge?ge:(he=ge.ownerDocument)?he.defaultView||he.parentWindow:window,Re?(Be=m.relatedTarget||m.toElement,Re=le,Be=Be?xa(Be):null,Be!==null&&(an=ci(Be),Be!==an||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Re=null,Be=le),Re!==Be)){if(Fe=uh,Ne="onMouseLeave",re="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=dh,Ne="onPointerLeave",re="onPointerEnter",Z="pointer"),an=Re==null?he:es(Re),oe=Be==null?he:es(Be),he=new Fe(Ne,Z+"leave",Re,m,ge),he.target=an,he.relatedTarget=oe,Ne=null,xa(ge)===le&&(Fe=new Fe(re,Z+"enter",Be,m,ge),Fe.target=oe,Fe.relatedTarget=an,Ne=Fe),an=Ne,Re&&Be)t:{for(Fe=Re,re=Be,Z=0,oe=Fe;oe;oe=Qa(oe))Z++;for(oe=0,Ne=re;Ne;Ne=Qa(Ne))oe++;for(;0<Z-oe;)Fe=Qa(Fe),Z--;for(;0<oe-Z;)re=Qa(re),oe--;for(;Z--;){if(Fe===re||re!==null&&Fe===re.alternate)break t;Fe=Qa(Fe),re=Qa(re)}Fe=null}else Fe=null;Re!==null&&Ph(ve,he,Re,Fe,!1),Be!==null&&an!==null&&Ph(ve,an,Be,Fe,!0)}}e:{if(he=le?es(le):window,Re=he.nodeName&&he.nodeName.toLowerCase(),Re==="select"||Re==="input"&&he.type==="file")var He=Dy;else if(xh(he))if(vh)He=Fy;else{He=Py;var Ke=zy}else(Re=he.nodeName)&&Re.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(He=By);if(He&&(He=He(i,le))){bh(ve,He,m,ge);break e}Ke&&Ke(i,he,le),i==="focusout"&&(Ke=he._wrapperState)&&Ke.controlled&&he.type==="number"&&jt(he,"number",he.value)}switch(Ke=le?es(le):window,i){case"focusin":(xh(Ke)||Ke.contentEditable==="true")&&(Xa=Ke,Vc=le,Zs=null);break;case"focusout":Zs=Vc=Xa=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Ch(ve,m,ge);break;case"selectionchange":if(Uy)break;case"keydown":case"keyup":Ch(ve,m,ge)}var Ye;if(Uc)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Ya?ph(i,m)&&(rt="onCompositionEnd"):i==="keydown"&&m.keyCode===229&&(rt="onCompositionStart");rt&&(mh&&m.locale!=="ko"&&(Ya||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Ya&&(Ye=oh()):(Di=ge,zc="value"in Di?Di.value:Di.textContent,Ya=!0)),Ke=ml(le,rt),0<Ke.length&&(rt=new ch(rt,i,null,m,ge),ve.push({event:rt,listeners:Ke}),Ye?rt.data=Ye:(Ye=gh(m),Ye!==null&&(rt.data=Ye)))),(Ye=Iy?jy(i,m):Ry(i,m))&&(le=ml(le,"onBeforeInput"),0<le.length&&(ge=new ch("onBeforeInput","beforeinput",null,m,ge),ve.push({event:ge,listeners:le}),ge.data=Ye))}Dh(ve,o)})}function eo(i,o,m){return{instance:i,listener:o,currentTarget:m}}function ml(i,o){for(var m=o+"Capture",p=[];i!==null;){var b=i,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=De(i,m),k!=null&&p.unshift(eo(i,k,b)),k=De(i,o),k!=null&&p.push(eo(i,k,b))),i=i.return}return p}function Qa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ph(i,o,m,p,b){for(var k=o._reactName,M=[];m!==null&&m!==p;){var F=m,V=F.alternate,le=F.stateNode;if(V!==null&&V===p)break;F.tag===5&&le!==null&&(F=le,b?(V=De(m,k),V!=null&&M.unshift(eo(m,V,F))):b||(V=De(m,k),V!=null&&M.push(eo(m,V,F)))),m=m.return}M.length!==0&&i.push({event:o,listeners:M})}var Vy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function Bh(i){return(typeof i=="string"?i:""+i).replace(Vy,`
`).replace(Ky,"")}function fl(i,o,m){if(o=Bh(o),Bh(i)!==o&&m)throw Error(n(425))}function hl(){}var e0=null,t0=null;function n0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var r0=typeof setTimeout=="function"?setTimeout:void 0,Yy=typeof clearTimeout=="function"?clearTimeout:void 0,Fh=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Fh<"u"?function(i){return Fh.resolve(null).then(i).catch(Zy)}:r0;function Zy(i){setTimeout(function(){throw i})}function i0(i,o){var m=o,p=0;do{var b=m.nextSibling;if(i.removeChild(m),b&&b.nodeType===8)if(m=b.data,m==="/$"){if(p===0){i.removeChild(b),Ws(o);return}p--}else m!=="$"&&m!=="$?"&&m!=="$!"||p++;m=b}while(m);Ws(o)}function Pi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function $h(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var m=i.data;if(m==="$"||m==="$!"||m==="$?"){if(o===0)return i;o--}else m==="/$"&&o++}i=i.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Ja,to="__reactProps$"+Ja,di="__reactContainer$"+Ja,a0="__reactEvents$"+Ja,Qy="__reactListeners$"+Ja,Jy="__reactHandles$"+Ja;function xa(i){var o=i[Vr];if(o)return o;for(var m=i.parentNode;m;){if(o=m[di]||m[Vr]){if(m=o.alternate,o.child!==null||m!==null&&m.child!==null)for(i=$h(i);i!==null;){if(m=i[Vr])return m;i=$h(i)}return o}i=m,m=i.parentNode}return null}function no(i){return i=i[Vr]||i[di],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function es(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function pl(i){return i[to]||null}var s0=[],ts=-1;function Bi(i){return{current:i}}function Ot(i){0>ts||(i.current=s0[ts],s0[ts]=null,ts--)}function Mt(i,o){ts++,s0[ts]=i.current,i.current=o}var Fi={},jn=Bi(Fi),Kn=Bi(!1),ba=Fi;function ns(i,o){var m=i.type.contextTypes;if(!m)return Fi;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in m)b[k]=o[k];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=b),b}function Yn(i){return i=i.childContextTypes,i!=null}function gl(){Ot(Kn),Ot(jn)}function Hh(i,o,m){if(jn.current!==Fi)throw Error(n(168));Mt(jn,o),Mt(Kn,m)}function Uh(i,o,m){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return m;p=p.getChildContext();for(var b in p)if(!(b in o))throw Error(n(108,fe(i)||"Unknown",b));return A({},m,p)}function xl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Fi,ba=jn.current,Mt(jn,i),Mt(Kn,Kn.current),!0}function Wh(i,o,m){var p=i.stateNode;if(!p)throw Error(n(169));m?(i=Uh(i,o,ba),p.__reactInternalMemoizedMergedChildContext=i,Ot(Kn),Ot(jn),Mt(jn,i)):Ot(Kn),Mt(Kn,m)}var mi=null,bl=!1,o0=!1;function qh(i){mi===null?mi=[i]:mi.push(i)}function e5(i){bl=!0,qh(i)}function $i(){if(!o0&&mi!==null){o0=!0;var i=0,o=gt;try{var m=mi;for(gt=1;i<m.length;i++){var p=m[i];do p=p(!0);while(p!==null)}mi=null,bl=!1}catch(b){throw mi!==null&&(mi=mi.slice(i+1)),Xo(Ps,$i),b}finally{gt=o,o0=!1}}return null}var rs=[],is=0,vl=null,yl=0,yr=[],kr=0,va=null,fi=1,hi="";function ya(i,o){rs[is++]=yl,rs[is++]=vl,vl=i,yl=o}function Gh(i,o,m){yr[kr++]=fi,yr[kr++]=hi,yr[kr++]=va,va=i;var p=fi;i=hi;var b=32-Ut(p)-1;p&=~(1<<b),m+=1;var k=32-Ut(o)+b;if(30<k){var M=b-b%5;k=(p&(1<<M)-1).toString(32),p>>=M,b-=M,fi=1<<32-Ut(o)+b|m<<b|p,hi=k+i}else fi=1<<k|m<<b|p,hi=i}function l0(i){i.return!==null&&(ya(i,1),Gh(i,1,0))}function u0(i){for(;i===vl;)vl=rs[--is],rs[is]=null,yl=rs[--is],rs[is]=null;for(;i===va;)va=yr[--kr],yr[kr]=null,hi=yr[--kr],yr[kr]=null,fi=yr[--kr],yr[kr]=null}var lr=null,ur=null,zt=!1,Dr=null;function Vh(i,o){var m=Nr(5,null,null,0);m.elementType="DELETED",m.stateNode=o,m.return=i,o=i.deletions,o===null?(i.deletions=[m],i.flags|=16):o.push(m)}function Kh(i,o){switch(i.tag){case 5:var m=i.type;return o=o.nodeType!==1||m.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,lr=i,ur=Pi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,lr=i,ur=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(m=va!==null?{id:fi,overflow:hi}:null,i.memoizedState={dehydrated:o,treeContext:m,retryLane:1073741824},m=Nr(18,null,null,0),m.stateNode=o,m.return=i,i.child=m,lr=i,ur=null,!0):!1;default:return!1}}function c0(i){return(i.mode&1)!==0&&(i.flags&128)===0}function d0(i){if(zt){var o=ur;if(o){var m=o;if(!Kh(i,o)){if(c0(i))throw Error(n(418));o=Pi(m.nextSibling);var p=lr;o&&Kh(i,o)?Vh(p,m):(i.flags=i.flags&-4097|2,zt=!1,lr=i)}}else{if(c0(i))throw Error(n(418));i.flags=i.flags&-4097|2,zt=!1,lr=i}}}function Yh(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;lr=i}function kl(i){if(i!==lr)return!1;if(!zt)return Yh(i),zt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!n0(i.type,i.memoizedProps)),o&&(o=ur)){if(c0(i))throw Xh(),Error(n(418));for(;o;)Vh(i,o),o=Pi(o.nextSibling)}if(Yh(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var m=i.data;if(m==="/$"){if(o===0){ur=Pi(i.nextSibling);break e}o--}else m!=="$"&&m!=="$!"&&m!=="$?"||o++}i=i.nextSibling}ur=null}}else ur=lr?Pi(i.stateNode.nextSibling):null;return!0}function Xh(){for(var i=ur;i;)i=Pi(i.nextSibling)}function as(){ur=lr=null,zt=!1}function m0(i){Dr===null?Dr=[i]:Dr.push(i)}var t5=B.ReactCurrentBatchConfig;function ro(i,o,m){if(i=m.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var p=m.stateNode}if(!p)throw Error(n(147,i));var b=p,k=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===k?o.ref:(o=function(M){var F=b.refs;M===null?delete F[k]:F[k]=M},o._stringRef=k,o)}if(typeof i!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,i))}return i}function wl(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Zh(i){var o=i._init;return o(i._payload)}function Qh(i){function o(re,Z){if(i){var oe=re.deletions;oe===null?(re.deletions=[Z],re.flags|=16):oe.push(Z)}}function m(re,Z){if(!i)return null;for(;Z!==null;)o(re,Z),Z=Z.sibling;return null}function p(re,Z){for(re=new Map;Z!==null;)Z.key!==null?re.set(Z.key,Z):re.set(Z.index,Z),Z=Z.sibling;return re}function b(re,Z){return re=Yi(re,Z),re.index=0,re.sibling=null,re}function k(re,Z,oe){return re.index=oe,i?(oe=re.alternate,oe!==null?(oe=oe.index,oe<Z?(re.flags|=2,Z):oe):(re.flags|=2,Z)):(re.flags|=1048576,Z)}function M(re){return i&&re.alternate===null&&(re.flags|=2),re}function F(re,Z,oe,Ne){return Z===null||Z.tag!==6?(Z=rd(oe,re.mode,Ne),Z.return=re,Z):(Z=b(Z,oe),Z.return=re,Z)}function V(re,Z,oe,Ne){var He=oe.type;return He===te?ge(re,Z,oe.props.children,Ne,oe.key):Z!==null&&(Z.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===Y&&Zh(He)===Z.type)?(Ne=b(Z,oe.props),Ne.ref=ro(re,Z,oe),Ne.return=re,Ne):(Ne=Gl(oe.type,oe.key,oe.props,null,re.mode,Ne),Ne.ref=ro(re,Z,oe),Ne.return=re,Ne)}function le(re,Z,oe,Ne){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=id(oe,re.mode,Ne),Z.return=re,Z):(Z=b(Z,oe.children||[]),Z.return=re,Z)}function ge(re,Z,oe,Ne,He){return Z===null||Z.tag!==7?(Z=_a(oe,re.mode,Ne,He),Z.return=re,Z):(Z=b(Z,oe),Z.return=re,Z)}function ve(re,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=rd(""+Z,re.mode,oe),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return oe=Gl(Z.type,Z.key,Z.props,null,re.mode,oe),oe.ref=ro(re,null,Z),oe.return=re,oe;case O:return Z=id(Z,re.mode,oe),Z.return=re,Z;case Y:var Ne=Z._init;return ve(re,Ne(Z._payload),oe)}if(je(Z)||Q(Z))return Z=_a(Z,re.mode,oe,null),Z.return=re,Z;wl(re,Z)}return null}function he(re,Z,oe,Ne){var He=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return He!==null?null:F(re,Z,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:return oe.key===He?V(re,Z,oe,Ne):null;case O:return oe.key===He?le(re,Z,oe,Ne):null;case Y:return He=oe._init,he(re,Z,He(oe._payload),Ne)}if(je(oe)||Q(oe))return He!==null?null:ge(re,Z,oe,Ne,null);wl(re,oe)}return null}function Re(re,Z,oe,Ne,He){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return re=re.get(oe)||null,F(Z,re,""+Ne,He);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case D:return re=re.get(Ne.key===null?oe:Ne.key)||null,V(Z,re,Ne,He);case O:return re=re.get(Ne.key===null?oe:Ne.key)||null,le(Z,re,Ne,He);case Y:var Ke=Ne._init;return Re(re,Z,oe,Ke(Ne._payload),He)}if(je(Ne)||Q(Ne))return re=re.get(oe)||null,ge(Z,re,Ne,He,null);wl(Z,Ne)}return null}function Be(re,Z,oe,Ne){for(var He=null,Ke=null,Ye=Z,rt=Z=0,Tn=null;Ye!==null&&rt<oe.length;rt++){Ye.index>rt?(Tn=Ye,Ye=null):Tn=Ye.sibling;var vt=he(re,Ye,oe[rt],Ne);if(vt===null){Ye===null&&(Ye=Tn);break}i&&Ye&&vt.alternate===null&&o(re,Ye),Z=k(vt,Z,rt),Ke===null?He=vt:Ke.sibling=vt,Ke=vt,Ye=Tn}if(rt===oe.length)return m(re,Ye),zt&&ya(re,rt),He;if(Ye===null){for(;rt<oe.length;rt++)Ye=ve(re,oe[rt],Ne),Ye!==null&&(Z=k(Ye,Z,rt),Ke===null?He=Ye:Ke.sibling=Ye,Ke=Ye);return zt&&ya(re,rt),He}for(Ye=p(re,Ye);rt<oe.length;rt++)Tn=Re(Ye,re,rt,oe[rt],Ne),Tn!==null&&(i&&Tn.alternate!==null&&Ye.delete(Tn.key===null?rt:Tn.key),Z=k(Tn,Z,rt),Ke===null?He=Tn:Ke.sibling=Tn,Ke=Tn);return i&&Ye.forEach(function(Xi){return o(re,Xi)}),zt&&ya(re,rt),He}function Fe(re,Z,oe,Ne){var He=Q(oe);if(typeof He!="function")throw Error(n(150));if(oe=He.call(oe),oe==null)throw Error(n(151));for(var Ke=He=null,Ye=Z,rt=Z=0,Tn=null,vt=oe.next();Ye!==null&&!vt.done;rt++,vt=oe.next()){Ye.index>rt?(Tn=Ye,Ye=null):Tn=Ye.sibling;var Xi=he(re,Ye,vt.value,Ne);if(Xi===null){Ye===null&&(Ye=Tn);break}i&&Ye&&Xi.alternate===null&&o(re,Ye),Z=k(Xi,Z,rt),Ke===null?He=Xi:Ke.sibling=Xi,Ke=Xi,Ye=Tn}if(vt.done)return m(re,Ye),zt&&ya(re,rt),He;if(Ye===null){for(;!vt.done;rt++,vt=oe.next())vt=ve(re,vt.value,Ne),vt!==null&&(Z=k(vt,Z,rt),Ke===null?He=vt:Ke.sibling=vt,Ke=vt);return zt&&ya(re,rt),He}for(Ye=p(re,Ye);!vt.done;rt++,vt=oe.next())vt=Re(Ye,re,rt,vt.value,Ne),vt!==null&&(i&&vt.alternate!==null&&Ye.delete(vt.key===null?rt:vt.key),Z=k(vt,Z,rt),Ke===null?He=vt:Ke.sibling=vt,Ke=vt);return i&&Ye.forEach(function(L5){return o(re,L5)}),zt&&ya(re,rt),He}function an(re,Z,oe,Ne){if(typeof oe=="object"&&oe!==null&&oe.type===te&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:e:{for(var He=oe.key,Ke=Z;Ke!==null;){if(Ke.key===He){if(He=oe.type,He===te){if(Ke.tag===7){m(re,Ke.sibling),Z=b(Ke,oe.props.children),Z.return=re,re=Z;break e}}else if(Ke.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===Y&&Zh(He)===Ke.type){m(re,Ke.sibling),Z=b(Ke,oe.props),Z.ref=ro(re,Ke,oe),Z.return=re,re=Z;break e}m(re,Ke);break}else o(re,Ke);Ke=Ke.sibling}oe.type===te?(Z=_a(oe.props.children,re.mode,Ne,oe.key),Z.return=re,re=Z):(Ne=Gl(oe.type,oe.key,oe.props,null,re.mode,Ne),Ne.ref=ro(re,Z,oe),Ne.return=re,re=Ne)}return M(re);case O:e:{for(Ke=oe.key;Z!==null;){if(Z.key===Ke)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){m(re,Z.sibling),Z=b(Z,oe.children||[]),Z.return=re,re=Z;break e}else{m(re,Z);break}else o(re,Z);Z=Z.sibling}Z=id(oe,re.mode,Ne),Z.return=re,re=Z}return M(re);case Y:return Ke=oe._init,an(re,Z,Ke(oe._payload),Ne)}if(je(oe))return Be(re,Z,oe,Ne);if(Q(oe))return Fe(re,Z,oe,Ne);wl(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Z!==null&&Z.tag===6?(m(re,Z.sibling),Z=b(Z,oe),Z.return=re,re=Z):(m(re,Z),Z=rd(oe,re.mode,Ne),Z.return=re,re=Z),M(re)):m(re,Z)}return an}var ss=Qh(!0),Jh=Qh(!1),Sl=Bi(null),El=null,os=null,f0=null;function h0(){f0=os=El=null}function p0(i){var o=Sl.current;Ot(Sl),i._currentValue=o}function g0(i,o,m){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===m)break;i=i.return}}function ls(i,o){El=i,f0=os=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Xn=!0),i.firstContext=null)}function wr(i){var o=i._currentValue;if(f0!==i)if(i={context:i,memoizedValue:o,next:null},os===null){if(El===null)throw Error(n(308));os=i,El.dependencies={lanes:0,firstContext:i}}else os=os.next=i;return o}var ka=null;function x0(i){ka===null?ka=[i]:ka.push(i)}function ep(i,o,m,p){var b=o.interleaved;return b===null?(m.next=m,x0(o)):(m.next=b.next,b.next=m),o.interleaved=m,pi(i,p)}function pi(i,o){i.lanes|=o;var m=i.alternate;for(m!==null&&(m.lanes|=o),m=i,i=i.return;i!==null;)i.childLanes|=o,m=i.alternate,m!==null&&(m.childLanes|=o),m=i,i=i.return;return m.tag===3?m.stateNode:null}var Hi=!1;function b0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function gi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ui(i,o,m){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(xt&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,pi(i,m)}return b=p.interleaved,b===null?(o.next=o,x0(p)):(o.next=b.next,b.next=o),p.interleaved=o,pi(i,m)}function Nl(i,o,m){if(o=o.updateQueue,o!==null&&(o=o.shared,(m&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,m|=p,o.lanes=m,Fs(i,m)}}function np(i,o){var m=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,m===p)){var b=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var M={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};k===null?b=k=M:k=k.next=M,m=m.next}while(m!==null);k===null?b=k=o:k=k.next=o}else b=k=o;m={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:p.shared,effects:p.effects},i.updateQueue=m;return}i=m.lastBaseUpdate,i===null?m.firstBaseUpdate=o:i.next=o,m.lastBaseUpdate=o}function Tl(i,o,m,p){var b=i.updateQueue;Hi=!1;var k=b.firstBaseUpdate,M=b.lastBaseUpdate,F=b.shared.pending;if(F!==null){b.shared.pending=null;var V=F,le=V.next;V.next=null,M===null?k=le:M.next=le,M=V;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,F=ge.lastBaseUpdate,F!==M&&(F===null?ge.firstBaseUpdate=le:F.next=le,ge.lastBaseUpdate=V))}if(k!==null){var ve=b.baseState;M=0,ge=le=V=null,F=k;do{var he=F.lane,Re=F.eventTime;if((p&he)===he){ge!==null&&(ge=ge.next={eventTime:Re,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Be=i,Fe=F;switch(he=o,Re=m,Fe.tag){case 1:if(Be=Fe.payload,typeof Be=="function"){ve=Be.call(Re,ve,he);break e}ve=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Fe.payload,he=typeof Be=="function"?Be.call(Re,ve,he):Be,he==null)break e;ve=A({},ve,he);break e;case 2:Hi=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,he=b.effects,he===null?b.effects=[F]:he.push(F))}else Re={eventTime:Re,lane:he,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ge===null?(le=ge=Re,V=ve):ge=ge.next=Re,M|=he;if(F=F.next,F===null){if(F=b.shared.pending,F===null)break;he=F,F=he.next,he.next=null,b.lastBaseUpdate=he,b.shared.pending=null}}while(!0);if(ge===null&&(V=ve),b.baseState=V,b.firstBaseUpdate=le,b.lastBaseUpdate=ge,o=b.shared.interleaved,o!==null){b=o;do M|=b.lane,b=b.next;while(b!==o)}else k===null&&(b.shared.lanes=0);Ea|=M,i.lanes=M,i.memoizedState=ve}}function rp(i,o,m){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],b=p.callback;if(b!==null){if(p.callback=null,p=m,typeof b!="function")throw Error(n(191,b));b.call(p)}}}var io={},Kr=Bi(io),ao=Bi(io),so=Bi(io);function wa(i){if(i===io)throw Error(n(174));return i}function v0(i,o){switch(Mt(so,o),Mt(ao,i),Mt(Kr,io),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ke(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ke(o,i)}Ot(Kr),Mt(Kr,o)}function us(){Ot(Kr),Ot(ao),Ot(so)}function ip(i){wa(so.current);var o=wa(Kr.current),m=ke(o,i.type);o!==m&&(Mt(ao,i),Mt(Kr,m))}function y0(i){ao.current===i&&(Ot(Kr),Ot(ao))}var Wt=Bi(0);function Cl(i){for(var o=i;o!==null;){if(o.tag===13){var m=o.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var k0=[];function w0(){for(var i=0;i<k0.length;i++)k0[i]._workInProgressVersionPrimary=null;k0.length=0}var _l=B.ReactCurrentDispatcher,S0=B.ReactCurrentBatchConfig,Sa=0,qt=null,bn=null,En=null,Ml=!1,oo=!1,lo=0,n5=0;function Rn(){throw Error(n(321))}function E0(i,o){if(o===null)return!1;for(var m=0;m<o.length&&m<i.length;m++)if(!Or(i[m],o[m]))return!1;return!0}function N0(i,o,m,p,b,k){if(Sa=k,qt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_l.current=i===null||i.memoizedState===null?s5:o5,i=m(p,b),oo){k=0;do{if(oo=!1,lo=0,25<=k)throw Error(n(301));k+=1,En=bn=null,o.updateQueue=null,_l.current=l5,i=m(p,b)}while(oo)}if(_l.current=jl,o=bn!==null&&bn.next!==null,Sa=0,En=bn=qt=null,Ml=!1,o)throw Error(n(300));return i}function T0(){var i=lo!==0;return lo=0,i}function Yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?qt.memoizedState=En=i:En=En.next=i,En}function Sr(){if(bn===null){var i=qt.alternate;i=i!==null?i.memoizedState:null}else i=bn.next;var o=En===null?qt.memoizedState:En.next;if(o!==null)En=o,bn=i;else{if(i===null)throw Error(n(310));bn=i,i={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},En===null?qt.memoizedState=En=i:En=En.next=i}return En}function uo(i,o){return typeof o=="function"?o(i):o}function C0(i){var o=Sr(),m=o.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=i;var p=bn,b=p.baseQueue,k=m.pending;if(k!==null){if(b!==null){var M=b.next;b.next=k.next,k.next=M}p.baseQueue=b=k,m.pending=null}if(b!==null){k=b.next,p=p.baseState;var F=M=null,V=null,le=k;do{var ge=le.lane;if((Sa&ge)===ge)V!==null&&(V=V.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),p=le.hasEagerState?le.eagerState:i(p,le.action);else{var ve={lane:ge,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};V===null?(F=V=ve,M=p):V=V.next=ve,qt.lanes|=ge,Ea|=ge}le=le.next}while(le!==null&&le!==k);V===null?M=p:V.next=F,Or(p,o.memoizedState)||(Xn=!0),o.memoizedState=p,o.baseState=M,o.baseQueue=V,m.lastRenderedState=p}if(i=m.interleaved,i!==null){b=i;do k=b.lane,qt.lanes|=k,Ea|=k,b=b.next;while(b!==i)}else b===null&&(m.lanes=0);return[o.memoizedState,m.dispatch]}function _0(i){var o=Sr(),m=o.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=i;var p=m.dispatch,b=m.pending,k=o.memoizedState;if(b!==null){m.pending=null;var M=b=b.next;do k=i(k,M.action),M=M.next;while(M!==b);Or(k,o.memoizedState)||(Xn=!0),o.memoizedState=k,o.baseQueue===null&&(o.baseState=k),m.lastRenderedState=k}return[k,p]}function ap(){}function sp(i,o){var m=qt,p=Sr(),b=o(),k=!Or(p.memoizedState,b);if(k&&(p.memoizedState=b,Xn=!0),p=p.queue,M0(up.bind(null,m,p,i),[i]),p.getSnapshot!==o||k||En!==null&&En.memoizedState.tag&1){if(m.flags|=2048,co(9,lp.bind(null,m,p,b,o),void 0,null),Nn===null)throw Error(n(349));(Sa&30)!==0||op(m,o,b)}return b}function op(i,o,m){i.flags|=16384,i={getSnapshot:o,value:m},o=qt.updateQueue,o===null?(o={lastEffect:null,stores:null},qt.updateQueue=o,o.stores=[i]):(m=o.stores,m===null?o.stores=[i]:m.push(i))}function lp(i,o,m,p){o.value=m,o.getSnapshot=p,cp(o)&&dp(i)}function up(i,o,m){return m(function(){cp(o)&&dp(i)})}function cp(i){var o=i.getSnapshot;i=i.value;try{var m=o();return!Or(i,m)}catch{return!0}}function dp(i){var o=pi(i,1);o!==null&&Fr(o,i,1,-1)}function mp(i){var o=Yr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:i},o.queue=i,i=i.dispatch=a5.bind(null,qt,i),[o.memoizedState,i]}function co(i,o,m,p){return i={tag:i,create:o,destroy:m,deps:p,next:null},o=qt.updateQueue,o===null?(o={lastEffect:null,stores:null},qt.updateQueue=o,o.lastEffect=i.next=i):(m=o.lastEffect,m===null?o.lastEffect=i.next=i:(p=m.next,m.next=i,i.next=p,o.lastEffect=i)),i}function fp(){return Sr().memoizedState}function Al(i,o,m,p){var b=Yr();qt.flags|=i,b.memoizedState=co(1|o,m,void 0,p===void 0?null:p)}function Il(i,o,m,p){var b=Sr();p=p===void 0?null:p;var k=void 0;if(bn!==null){var M=bn.memoizedState;if(k=M.destroy,p!==null&&E0(p,M.deps)){b.memoizedState=co(o,m,k,p);return}}qt.flags|=i,b.memoizedState=co(1|o,m,k,p)}function hp(i,o){return Al(8390656,8,i,o)}function M0(i,o){return Il(2048,8,i,o)}function pp(i,o){return Il(4,2,i,o)}function gp(i,o){return Il(4,4,i,o)}function xp(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function bp(i,o,m){return m=m!=null?m.concat([i]):null,Il(4,4,xp.bind(null,o,i),m)}function A0(){}function vp(i,o){var m=Sr();o=o===void 0?null:o;var p=m.memoizedState;return p!==null&&o!==null&&E0(o,p[1])?p[0]:(m.memoizedState=[i,o],i)}function yp(i,o){var m=Sr();o=o===void 0?null:o;var p=m.memoizedState;return p!==null&&o!==null&&E0(o,p[1])?p[0]:(i=i(),m.memoizedState=[i,o],i)}function kp(i,o,m){return(Sa&21)===0?(i.baseState&&(i.baseState=!1,Xn=!0),i.memoizedState=m):(Or(m,o)||(m=Jo(),qt.lanes|=m,Ea|=m,i.baseState=!0),o)}function r5(i,o){var m=gt;gt=m!==0&&4>m?m:4,i(!0);var p=S0.transition;S0.transition={};try{i(!1),o()}finally{gt=m,S0.transition=p}}function wp(){return Sr().memoizedState}function i5(i,o,m){var p=Vi(i);if(m={lane:p,action:m,hasEagerState:!1,eagerState:null,next:null},Sp(i))Ep(o,m);else if(m=ep(i,o,m,p),m!==null){var b=$n();Fr(m,i,p,b),Np(m,o,p)}}function a5(i,o,m){var p=Vi(i),b={lane:p,action:m,hasEagerState:!1,eagerState:null,next:null};if(Sp(i))Ep(o,b);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=o.lastRenderedReducer,k!==null))try{var M=o.lastRenderedState,F=k(M,m);if(b.hasEagerState=!0,b.eagerState=F,Or(F,M)){var V=o.interleaved;V===null?(b.next=b,x0(o)):(b.next=V.next,V.next=b),o.interleaved=b;return}}catch{}finally{}m=ep(i,o,b,p),m!==null&&(b=$n(),Fr(m,i,p,b),Np(m,o,p))}}function Sp(i){var o=i.alternate;return i===qt||o!==null&&o===qt}function Ep(i,o){oo=Ml=!0;var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}function Np(i,o,m){if((m&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,m|=p,o.lanes=m,Fs(i,m)}}var jl={readContext:wr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},s5={readContext:wr,useCallback:function(i,o){return Yr().memoizedState=[i,o===void 0?null:o],i},useContext:wr,useEffect:hp,useImperativeHandle:function(i,o,m){return m=m!=null?m.concat([i]):null,Al(4194308,4,xp.bind(null,o,i),m)},useLayoutEffect:function(i,o){return Al(4194308,4,i,o)},useInsertionEffect:function(i,o){return Al(4,2,i,o)},useMemo:function(i,o){var m=Yr();return o=o===void 0?null:o,i=i(),m.memoizedState=[i,o],i},useReducer:function(i,o,m){var p=Yr();return o=m!==void 0?m(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=i5.bind(null,qt,i),[p.memoizedState,i]},useRef:function(i){var o=Yr();return i={current:i},o.memoizedState=i},useState:mp,useDebugValue:A0,useDeferredValue:function(i){return Yr().memoizedState=i},useTransition:function(){var i=mp(!1),o=i[0];return i=r5.bind(null,i[1]),Yr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,m){var p=qt,b=Yr();if(zt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=o(),Nn===null)throw Error(n(349));(Sa&30)!==0||op(p,o,m)}b.memoizedState=m;var k={value:m,getSnapshot:o};return b.queue=k,hp(up.bind(null,p,k,i),[i]),p.flags|=2048,co(9,lp.bind(null,p,k,m,o),void 0,null),m},useId:function(){var i=Yr(),o=Nn.identifierPrefix;if(zt){var m=hi,p=fi;m=(p&~(1<<32-Ut(p)-1)).toString(32)+m,o=":"+o+"R"+m,m=lo++,0<m&&(o+="H"+m.toString(32)),o+=":"}else m=n5++,o=":"+o+"r"+m.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},o5={readContext:wr,useCallback:vp,useContext:wr,useEffect:M0,useImperativeHandle:bp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:yp,useReducer:C0,useRef:fp,useState:function(){return C0(uo)},useDebugValue:A0,useDeferredValue:function(i){var o=Sr();return kp(o,bn.memoizedState,i)},useTransition:function(){var i=C0(uo)[0],o=Sr().memoizedState;return[i,o]},useMutableSource:ap,useSyncExternalStore:sp,useId:wp,unstable_isNewReconciler:!1},l5={readContext:wr,useCallback:vp,useContext:wr,useEffect:M0,useImperativeHandle:bp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:yp,useReducer:_0,useRef:fp,useState:function(){return _0(uo)},useDebugValue:A0,useDeferredValue:function(i){var o=Sr();return bn===null?o.memoizedState=i:kp(o,bn.memoizedState,i)},useTransition:function(){var i=_0(uo)[0],o=Sr().memoizedState;return[i,o]},useMutableSource:ap,useSyncExternalStore:sp,useId:wp,unstable_isNewReconciler:!1};function zr(i,o){if(i&&i.defaultProps){o=A({},o),i=i.defaultProps;for(var m in i)o[m]===void 0&&(o[m]=i[m]);return o}return o}function I0(i,o,m,p){o=i.memoizedState,m=m(p,o),m=m==null?o:A({},o,m),i.memoizedState=m,i.lanes===0&&(i.updateQueue.baseState=m)}var Rl={isMounted:function(i){return(i=i._reactInternals)?ci(i)===i:!1},enqueueSetState:function(i,o,m){i=i._reactInternals;var p=$n(),b=Vi(i),k=gi(p,b);k.payload=o,m!=null&&(k.callback=m),o=Ui(i,k,b),o!==null&&(Fr(o,i,b,p),Nl(o,i,b))},enqueueReplaceState:function(i,o,m){i=i._reactInternals;var p=$n(),b=Vi(i),k=gi(p,b);k.tag=1,k.payload=o,m!=null&&(k.callback=m),o=Ui(i,k,b),o!==null&&(Fr(o,i,b,p),Nl(o,i,b))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var m=$n(),p=Vi(i),b=gi(m,p);b.tag=2,o!=null&&(b.callback=o),o=Ui(i,b,p),o!==null&&(Fr(o,i,p,m),Nl(o,i,p))}};function Tp(i,o,m,p,b,k,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,k,M):o.prototype&&o.prototype.isPureReactComponent?!Xs(m,p)||!Xs(b,k):!0}function Cp(i,o,m){var p=!1,b=Fi,k=o.contextType;return typeof k=="object"&&k!==null?k=wr(k):(b=Yn(o)?ba:jn.current,p=o.contextTypes,k=(p=p!=null)?ns(i,b):Fi),o=new o(m,k),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rl,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=k),o}function _p(i,o,m,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(m,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(m,p),o.state!==i&&Rl.enqueueReplaceState(o,o.state,null)}function j0(i,o,m,p){var b=i.stateNode;b.props=m,b.state=i.memoizedState,b.refs={},b0(i);var k=o.contextType;typeof k=="object"&&k!==null?b.context=wr(k):(k=Yn(o)?ba:jn.current,b.context=ns(i,k)),b.state=i.memoizedState,k=o.getDerivedStateFromProps,typeof k=="function"&&(I0(i,o,k,m),b.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(o=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),o!==b.state&&Rl.enqueueReplaceState(b,b.state,null),Tl(i,m,b,p),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function cs(i,o){try{var m="",p=o;do m+=Ae(p),p=p.return;while(p);var b=m}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:o,stack:b,digest:null}}function R0(i,o,m){return{value:i,source:null,stack:m??null,digest:o??null}}function L0(i,o){try{console.error(o.value)}catch(m){setTimeout(function(){throw m})}}var u5=typeof WeakMap=="function"?WeakMap:Map;function Mp(i,o,m){m=gi(-1,m),m.tag=3,m.payload={element:null};var p=o.value;return m.callback=function(){Fl||(Fl=!0,Y0=p),L0(i,o)},m}function Ap(i,o,m){m=gi(-1,m),m.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var b=o.value;m.payload=function(){return p(b)},m.callback=function(){L0(i,o)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(m.callback=function(){L0(i,o),typeof p!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})}),m}function Ip(i,o,m){var p=i.pingCache;if(p===null){p=i.pingCache=new u5;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(m)||(b.add(m),i=S5.bind(null,i,o,m),o.then(i,i))}function jp(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Rp(i,o,m,p,b){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(o=gi(-1,1),o.tag=2,Ui(m,o,1))),m.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var c5=B.ReactCurrentOwner,Xn=!1;function Fn(i,o,m,p){o.child=i===null?Jh(o,null,m,p):ss(o,i.child,m,p)}function Lp(i,o,m,p,b){m=m.render;var k=o.ref;return ls(o,b),p=N0(i,o,m,p,k,b),m=T0(),i!==null&&!Xn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~b,xi(i,o,b)):(zt&&m&&l0(o),o.flags|=1,Fn(i,o,p,b),o.child)}function Op(i,o,m,p,b){if(i===null){var k=m.type;return typeof k=="function"&&!nd(k)&&k.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(o.tag=15,o.type=k,Dp(i,o,k,p,b)):(i=Gl(m.type,null,p,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(k=i.child,(i.lanes&b)===0){var M=k.memoizedProps;if(m=m.compare,m=m!==null?m:Xs,m(M,p)&&i.ref===o.ref)return xi(i,o,b)}return o.flags|=1,i=Yi(k,p),i.ref=o.ref,i.return=o,o.child=i}function Dp(i,o,m,p,b){if(i!==null){var k=i.memoizedProps;if(Xs(k,p)&&i.ref===o.ref)if(Xn=!1,o.pendingProps=p=k,(i.lanes&b)!==0)(i.flags&131072)!==0&&(Xn=!0);else return o.lanes=i.lanes,xi(i,o,b)}return O0(i,o,m,p,b)}function zp(i,o,m){var p=o.pendingProps,b=p.children,k=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(ms,cr),cr|=m;else{if((m&1073741824)===0)return i=k!==null?k.baseLanes|m:m,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Mt(ms,cr),cr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=k!==null?k.baseLanes:m,Mt(ms,cr),cr|=p}else k!==null?(p=k.baseLanes|m,o.memoizedState=null):p=m,Mt(ms,cr),cr|=p;return Fn(i,o,b,m),o.child}function Pp(i,o){var m=o.ref;(i===null&&m!==null||i!==null&&i.ref!==m)&&(o.flags|=512,o.flags|=2097152)}function O0(i,o,m,p,b){var k=Yn(m)?ba:jn.current;return k=ns(o,k),ls(o,b),m=N0(i,o,m,p,k,b),p=T0(),i!==null&&!Xn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~b,xi(i,o,b)):(zt&&p&&l0(o),o.flags|=1,Fn(i,o,m,b),o.child)}function Bp(i,o,m,p,b){if(Yn(m)){var k=!0;xl(o)}else k=!1;if(ls(o,b),o.stateNode===null)Ol(i,o),Cp(o,m,p),j0(o,m,p,b),p=!0;else if(i===null){var M=o.stateNode,F=o.memoizedProps;M.props=F;var V=M.context,le=m.contextType;typeof le=="object"&&le!==null?le=wr(le):(le=Yn(m)?ba:jn.current,le=ns(o,le));var ge=m.getDerivedStateFromProps,ve=typeof ge=="function"||typeof M.getSnapshotBeforeUpdate=="function";ve||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(F!==p||V!==le)&&_p(o,M,p,le),Hi=!1;var he=o.memoizedState;M.state=he,Tl(o,p,M,b),V=o.memoizedState,F!==p||he!==V||Kn.current||Hi?(typeof ge=="function"&&(I0(o,m,ge,p),V=o.memoizedState),(F=Hi||Tp(o,m,F,p,he,V,le))?(ve||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(o.flags|=4194308)):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=V),M.props=p,M.state=V,M.context=le,p=F):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{M=o.stateNode,tp(i,o),F=o.memoizedProps,le=o.type===o.elementType?F:zr(o.type,F),M.props=le,ve=o.pendingProps,he=M.context,V=m.contextType,typeof V=="object"&&V!==null?V=wr(V):(V=Yn(m)?ba:jn.current,V=ns(o,V));var Re=m.getDerivedStateFromProps;(ge=typeof Re=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(F!==ve||he!==V)&&_p(o,M,p,V),Hi=!1,he=o.memoizedState,M.state=he,Tl(o,p,M,b);var Be=o.memoizedState;F!==ve||he!==Be||Kn.current||Hi?(typeof Re=="function"&&(I0(o,m,Re,p),Be=o.memoizedState),(le=Hi||Tp(o,m,le,p,he,Be,V)||!1)?(ge||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(p,Be,V),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(p,Be,V)),typeof M.componentDidUpdate=="function"&&(o.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof M.componentDidUpdate!="function"||F===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Be),M.props=p,M.state=Be,M.context=V,p=le):(typeof M.componentDidUpdate!="function"||F===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),p=!1)}return D0(i,o,m,p,k,b)}function D0(i,o,m,p,b,k){Pp(i,o);var M=(o.flags&128)!==0;if(!p&&!M)return b&&Wh(o,m,!1),xi(i,o,k);p=o.stateNode,c5.current=o;var F=M&&typeof m.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&M?(o.child=ss(o,i.child,null,k),o.child=ss(o,null,F,k)):Fn(i,o,F,k),o.memoizedState=p.state,b&&Wh(o,m,!0),o.child}function Fp(i){var o=i.stateNode;o.pendingContext?Hh(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Hh(i,o.context,!1),v0(i,o.containerInfo)}function $p(i,o,m,p,b){return as(),m0(b),o.flags|=256,Fn(i,o,m,p),o.child}var z0={dehydrated:null,treeContext:null,retryLane:0};function P0(i){return{baseLanes:i,cachePool:null,transitions:null}}function Hp(i,o,m){var p=o.pendingProps,b=Wt.current,k=!1,M=(o.flags&128)!==0,F;if((F=M)||(F=i!==null&&i.memoizedState===null?!1:(b&2)!==0),F?(k=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),Mt(Wt,b&1),i===null)return d0(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(M=p.children,i=p.fallback,k?(p=o.mode,k=o.child,M={mode:"hidden",children:M},(p&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=M):k=Vl(M,p,0,null),i=_a(i,p,m,null),k.return=o,i.return=o,k.sibling=i,o.child=k,o.child.memoizedState=P0(m),o.memoizedState=z0,i):B0(o,M));if(b=i.memoizedState,b!==null&&(F=b.dehydrated,F!==null))return d5(i,o,M,p,F,b,m);if(k){k=p.fallback,M=o.mode,b=i.child,F=b.sibling;var V={mode:"hidden",children:p.children};return(M&1)===0&&o.child!==b?(p=o.child,p.childLanes=0,p.pendingProps=V,o.deletions=null):(p=Yi(b,V),p.subtreeFlags=b.subtreeFlags&14680064),F!==null?k=Yi(F,k):(k=_a(k,M,m,null),k.flags|=2),k.return=o,p.return=o,p.sibling=k,o.child=p,p=k,k=o.child,M=i.child.memoizedState,M=M===null?P0(m):{baseLanes:M.baseLanes|m,cachePool:null,transitions:M.transitions},k.memoizedState=M,k.childLanes=i.childLanes&~m,o.memoizedState=z0,p}return k=i.child,i=k.sibling,p=Yi(k,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=m),p.return=o,p.sibling=null,i!==null&&(m=o.deletions,m===null?(o.deletions=[i],o.flags|=16):m.push(i)),o.child=p,o.memoizedState=null,p}function B0(i,o){return o=Vl({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ll(i,o,m,p){return p!==null&&m0(p),ss(o,i.child,null,m),i=B0(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function d5(i,o,m,p,b,k,M){if(m)return o.flags&256?(o.flags&=-257,p=R0(Error(n(422))),Ll(i,o,M,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(k=p.fallback,b=o.mode,p=Vl({mode:"visible",children:p.children},b,0,null),k=_a(k,b,M,null),k.flags|=2,p.return=o,k.return=o,p.sibling=k,o.child=p,(o.mode&1)!==0&&ss(o,i.child,null,M),o.child.memoizedState=P0(M),o.memoizedState=z0,k);if((o.mode&1)===0)return Ll(i,o,M,null);if(b.data==="$!"){if(p=b.nextSibling&&b.nextSibling.dataset,p)var F=p.dgst;return p=F,k=Error(n(419)),p=R0(k,p,void 0),Ll(i,o,M,p)}if(F=(M&i.childLanes)!==0,Xn||F){if(p=Nn,p!==null){switch(M&-M){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(p.suspendedLanes|M))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,pi(i,b),Fr(p,i,b,-1))}return td(),p=R0(Error(n(421))),Ll(i,o,M,p)}return b.data==="$?"?(o.flags|=128,o.child=i.child,o=E5.bind(null,i),b._reactRetry=o,null):(i=k.treeContext,ur=Pi(b.nextSibling),lr=o,zt=!0,Dr=null,i!==null&&(yr[kr++]=fi,yr[kr++]=hi,yr[kr++]=va,fi=i.id,hi=i.overflow,va=o),o=B0(o,p.children),o.flags|=4096,o)}function Up(i,o,m){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),g0(i.return,o,m)}function F0(i,o,m,p,b){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:m,tailMode:b}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=m,k.tailMode=b)}function Wp(i,o,m){var p=o.pendingProps,b=p.revealOrder,k=p.tail;if(Fn(i,o,p.children,m),p=Wt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Up(i,m,o);else if(i.tag===19)Up(i,m,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Mt(Wt,p),(o.mode&1)===0)o.memoizedState=null;else switch(b){case"forwards":for(m=o.child,b=null;m!==null;)i=m.alternate,i!==null&&Cl(i)===null&&(b=m),m=m.sibling;m=b,m===null?(b=o.child,o.child=null):(b=m.sibling,m.sibling=null),F0(o,!1,b,m,k);break;case"backwards":for(m=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&Cl(i)===null){o.child=b;break}i=b.sibling,b.sibling=m,m=b,b=i}F0(o,!0,m,null,k);break;case"together":F0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ol(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function xi(i,o,m){if(i!==null&&(o.dependencies=i.dependencies),Ea|=o.lanes,(m&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,m=Yi(i,i.pendingProps),o.child=m,m.return=o;i.sibling!==null;)i=i.sibling,m=m.sibling=Yi(i,i.pendingProps),m.return=o;m.sibling=null}return o.child}function m5(i,o,m){switch(o.tag){case 3:Fp(o),as();break;case 5:ip(o);break;case 1:Yn(o.type)&&xl(o);break;case 4:v0(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,b=o.memoizedProps.value;Mt(Sl,p._currentValue),p._currentValue=b;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Mt(Wt,Wt.current&1),o.flags|=128,null):(m&o.child.childLanes)!==0?Hp(i,o,m):(Mt(Wt,Wt.current&1),i=xi(i,o,m),i!==null?i.sibling:null);Mt(Wt,Wt.current&1);break;case 19:if(p=(m&o.childLanes)!==0,(i.flags&128)!==0){if(p)return Wp(i,o,m);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Mt(Wt,Wt.current),p)break;return null;case 22:case 23:return o.lanes=0,zp(i,o,m)}return xi(i,o,m)}var qp,$0,Gp,Vp;qp=function(i,o){for(var m=o.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break;for(;m.sibling===null;){if(m.return===null||m.return===o)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},$0=function(){},Gp=function(i,o,m,p){var b=i.memoizedProps;if(b!==p){i=o.stateNode,wa(Kr.current);var k=null;switch(m){case"input":b=dn(i,b),p=dn(i,p),k=[];break;case"select":b=A({},b,{value:void 0}),p=A({},p,{value:void 0}),k=[];break;case"textarea":b=tn(i,b),p=tn(i,p),k=[];break;default:typeof b.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=hl)}xn(m,p);var M;m=null;for(le in b)if(!p.hasOwnProperty(le)&&b.hasOwnProperty(le)&&b[le]!=null)if(le==="style"){var F=b[le];for(M in F)F.hasOwnProperty(M)&&(m||(m={}),m[M]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(a.hasOwnProperty(le)?k||(k=[]):(k=k||[]).push(le,null));for(le in p){var V=p[le];if(F=b!=null?b[le]:void 0,p.hasOwnProperty(le)&&V!==F&&(V!=null||F!=null))if(le==="style")if(F){for(M in F)!F.hasOwnProperty(M)||V&&V.hasOwnProperty(M)||(m||(m={}),m[M]="");for(M in V)V.hasOwnProperty(M)&&F[M]!==V[M]&&(m||(m={}),m[M]=V[M])}else m||(k||(k=[]),k.push(le,m)),m=V;else le==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,F=F?F.__html:void 0,V!=null&&F!==V&&(k=k||[]).push(le,V)):le==="children"?typeof V!="string"&&typeof V!="number"||(k=k||[]).push(le,""+V):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(a.hasOwnProperty(le)?(V!=null&&le==="onScroll"&&Lt("scroll",i),k||F===V||(k=[])):(k=k||[]).push(le,V))}m&&(k=k||[]).push("style",m);var le=k;(o.updateQueue=le)&&(o.flags|=4)}},Vp=function(i,o,m,p){m!==p&&(o.flags|=4)};function mo(i,o){if(!zt)switch(i.tailMode){case"hidden":o=i.tail;for(var m=null;o!==null;)o.alternate!==null&&(m=o),o=o.sibling;m===null?i.tail=null:m.sibling=null;break;case"collapsed":m=i.tail;for(var p=null;m!==null;)m.alternate!==null&&(p=m),m=m.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Ln(i){var o=i.alternate!==null&&i.alternate.child===i.child,m=0,p=0;if(o)for(var b=i.child;b!==null;)m|=b.lanes|b.childLanes,p|=b.subtreeFlags&14680064,p|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)m|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=m,o}function f5(i,o,m){var p=o.pendingProps;switch(u0(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(o),null;case 1:return Yn(o.type)&&gl(),Ln(o),null;case 3:return p=o.stateNode,us(),Ot(Kn),Ot(jn),w0(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(kl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Dr!==null&&(Q0(Dr),Dr=null))),$0(i,o),Ln(o),null;case 5:y0(o);var b=wa(so.current);if(m=o.type,i!==null&&o.stateNode!=null)Gp(i,o,m,p,b),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Ln(o),null}if(i=wa(Kr.current),kl(o)){p=o.stateNode,m=o.type;var k=o.memoizedProps;switch(p[Vr]=o,p[to]=k,i=(o.mode&1)!==0,m){case"dialog":Lt("cancel",p),Lt("close",p);break;case"iframe":case"object":case"embed":Lt("load",p);break;case"video":case"audio":for(b=0;b<Qs.length;b++)Lt(Qs[b],p);break;case"source":Lt("error",p);break;case"img":case"image":case"link":Lt("error",p),Lt("load",p);break;case"details":Lt("toggle",p);break;case"input":wn(p,k),Lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!k.multiple},Lt("invalid",p);break;case"textarea":Ft(p,k),Lt("invalid",p)}xn(m,k),b=null;for(var M in k)if(k.hasOwnProperty(M)){var F=k[M];M==="children"?typeof F=="string"?p.textContent!==F&&(k.suppressHydrationWarning!==!0&&fl(p.textContent,F,i),b=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(k.suppressHydrationWarning!==!0&&fl(p.textContent,F,i),b=["children",""+F]):a.hasOwnProperty(M)&&F!=null&&M==="onScroll"&&Lt("scroll",p)}switch(m){case"input":kt(p),Ct(p,k,!0);break;case"textarea":kt(p),gn(p);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(p.onclick=hl)}p=b,o.updateQueue=p,p!==null&&(o.flags|=4)}else{M=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ue(m)),i==="http://www.w3.org/1999/xhtml"?m==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=M.createElement(m,{is:p.is}):(i=M.createElement(m),m==="select"&&(M=i,p.multiple?M.multiple=!0:p.size&&(M.size=p.size))):i=M.createElementNS(i,m),i[Vr]=o,i[to]=p,qp(i,o,!1,!1),o.stateNode=i;e:{switch(M=br(m,p),m){case"dialog":Lt("cancel",i),Lt("close",i),b=p;break;case"iframe":case"object":case"embed":Lt("load",i),b=p;break;case"video":case"audio":for(b=0;b<Qs.length;b++)Lt(Qs[b],i);b=p;break;case"source":Lt("error",i),b=p;break;case"img":case"image":case"link":Lt("error",i),Lt("load",i),b=p;break;case"details":Lt("toggle",i),b=p;break;case"input":wn(i,p),b=dn(i,p),Lt("invalid",i);break;case"option":b=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},b=A({},p,{value:void 0}),Lt("invalid",i);break;case"textarea":Ft(i,p),b=tn(i,p),Lt("invalid",i);break;default:b=p}xn(m,b),F=b;for(k in F)if(F.hasOwnProperty(k)){var V=F[k];k==="style"?Rr(i,V):k==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Je(i,V)):k==="children"?typeof V=="string"?(m!=="textarea"||V!=="")&&st(i,V):typeof V=="number"&&st(i,""+V):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(a.hasOwnProperty(k)?V!=null&&k==="onScroll"&&Lt("scroll",i):V!=null&&L(i,k,V,M))}switch(m){case"input":kt(i),Ct(i,p,!1);break;case"textarea":kt(i),gn(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Me(p.value));break;case"select":i.multiple=!!p.multiple,k=p.value,k!=null?en(i,!!p.multiple,k,!1):p.defaultValue!=null&&en(i,!!p.multiple,p.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=hl)}switch(m){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ln(o),null;case 6:if(i&&o.stateNode!=null)Vp(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(m=wa(so.current),wa(Kr.current),kl(o)){if(p=o.stateNode,m=o.memoizedProps,p[Vr]=o,(k=p.nodeValue!==m)&&(i=lr,i!==null))switch(i.tag){case 3:fl(p.nodeValue,m,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fl(p.nodeValue,m,(i.mode&1)!==0)}k&&(o.flags|=4)}else p=(m.nodeType===9?m:m.ownerDocument).createTextNode(p),p[Vr]=o,o.stateNode=p}return Ln(o),null;case 13:if(Ot(Wt),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(zt&&ur!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Xh(),as(),o.flags|=98560,k=!1;else if(k=kl(o),p!==null&&p.dehydrated!==null){if(i===null){if(!k)throw Error(n(318));if(k=o.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Vr]=o}else as(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ln(o),k=!1}else Dr!==null&&(Q0(Dr),Dr=null),k=!0;if(!k)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=m,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Wt.current&1)!==0?vn===0&&(vn=3):td())),o.updateQueue!==null&&(o.flags|=4),Ln(o),null);case 4:return us(),$0(i,o),i===null&&Js(o.stateNode.containerInfo),Ln(o),null;case 10:return p0(o.type._context),Ln(o),null;case 17:return Yn(o.type)&&gl(),Ln(o),null;case 19:if(Ot(Wt),k=o.memoizedState,k===null)return Ln(o),null;if(p=(o.flags&128)!==0,M=k.rendering,M===null)if(p)mo(k,!1);else{if(vn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(M=Cl(i),M!==null){for(o.flags|=128,mo(k,!1),p=M.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=m,m=o.child;m!==null;)k=m,i=p,k.flags&=14680066,M=k.alternate,M===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=M.childLanes,k.lanes=M.lanes,k.child=M.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=M.memoizedProps,k.memoizedState=M.memoizedState,k.updateQueue=M.updateQueue,k.type=M.type,i=M.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),m=m.sibling;return Mt(Wt,Wt.current&1|2),o.child}i=i.sibling}k.tail!==null&&Ht()>fs&&(o.flags|=128,p=!0,mo(k,!1),o.lanes=4194304)}else{if(!p)if(i=Cl(M),i!==null){if(o.flags|=128,p=!0,m=i.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),mo(k,!0),k.tail===null&&k.tailMode==="hidden"&&!M.alternate&&!zt)return Ln(o),null}else 2*Ht()-k.renderingStartTime>fs&&m!==1073741824&&(o.flags|=128,p=!0,mo(k,!1),o.lanes=4194304);k.isBackwards?(M.sibling=o.child,o.child=M):(m=k.last,m!==null?m.sibling=M:o.child=M,k.last=M)}return k.tail!==null?(o=k.tail,k.rendering=o,k.tail=o.sibling,k.renderingStartTime=Ht(),o.sibling=null,m=Wt.current,Mt(Wt,p?m&1|2:m&1),o):(Ln(o),null);case 22:case 23:return ed(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(cr&1073741824)!==0&&(Ln(o),o.subtreeFlags&6&&(o.flags|=8192)):Ln(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function h5(i,o){switch(u0(o),o.tag){case 1:return Yn(o.type)&&gl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return us(),Ot(Kn),Ot(jn),w0(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return y0(o),null;case 13:if(Ot(Wt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));as()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ot(Wt),null;case 4:return us(),null;case 10:return p0(o.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var Dl=!1,On=!1,p5=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ds(i,o){var m=i.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(p){Zt(i,o,p)}else m.current=null}function H0(i,o,m){try{m()}catch(p){Zt(i,o,p)}}var Kp=!1;function g5(i,o){if(e0=nl,i=Th(),Gc(i)){if("selectionStart"in i)var m={start:i.selectionStart,end:i.selectionEnd};else e:{m=(m=i.ownerDocument)&&m.defaultView||window;var p=m.getSelection&&m.getSelection();if(p&&p.rangeCount!==0){m=p.anchorNode;var b=p.anchorOffset,k=p.focusNode;p=p.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var M=0,F=-1,V=-1,le=0,ge=0,ve=i,he=null;t:for(;;){for(var Re;ve!==m||b!==0&&ve.nodeType!==3||(F=M+b),ve!==k||p!==0&&ve.nodeType!==3||(V=M+p),ve.nodeType===3&&(M+=ve.nodeValue.length),(Re=ve.firstChild)!==null;)he=ve,ve=Re;for(;;){if(ve===i)break t;if(he===m&&++le===b&&(F=M),he===k&&++ge===p&&(V=M),(Re=ve.nextSibling)!==null)break;ve=he,he=ve.parentNode}ve=Re}m=F===-1||V===-1?null:{start:F,end:V}}else m=null}m=m||{start:0,end:0}}else m=null;for(t0={focusedElem:i,selectionRange:m},nl=!1,Pe=o;Pe!==null;)if(o=Pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Pe=i;else for(;Pe!==null;){o=Pe;try{var Be=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Fe=Be.memoizedProps,an=Be.memoizedState,re=o.stateNode,Z=re.getSnapshotBeforeUpdate(o.elementType===o.type?Fe:zr(o.type,Fe),an);re.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var oe=o.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ne){Zt(o,o.return,Ne)}if(i=o.sibling,i!==null){i.return=o.return,Pe=i;break}Pe=o.return}return Be=Kp,Kp=!1,Be}function fo(i,o,m){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&i)===i){var k=b.destroy;b.destroy=void 0,k!==void 0&&H0(o,m,k)}b=b.next}while(b!==p)}}function zl(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var m=o=o.next;do{if((m.tag&i)===i){var p=m.create;m.destroy=p()}m=m.next}while(m!==o)}}function U0(i){var o=i.ref;if(o!==null){var m=i.stateNode;switch(i.tag){case 5:i=m;break;default:i=m}typeof o=="function"?o(i):o.current=i}}function Yp(i){var o=i.alternate;o!==null&&(i.alternate=null,Yp(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Vr],delete o[to],delete o[a0],delete o[Qy],delete o[Jy])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Xp(i){return i.tag===5||i.tag===3||i.tag===4}function Zp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function W0(i,o,m){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?m.nodeType===8?m.parentNode.insertBefore(i,o):m.insertBefore(i,o):(m.nodeType===8?(o=m.parentNode,o.insertBefore(i,m)):(o=m,o.appendChild(i)),m=m._reactRootContainer,m!=null||o.onclick!==null||(o.onclick=hl));else if(p!==4&&(i=i.child,i!==null))for(W0(i,o,m),i=i.sibling;i!==null;)W0(i,o,m),i=i.sibling}function q0(i,o,m){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?m.insertBefore(i,o):m.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(q0(i,o,m),i=i.sibling;i!==null;)q0(i,o,m),i=i.sibling}var Mn=null,Pr=!1;function Wi(i,o,m){for(m=m.child;m!==null;)Qp(i,o,m),m=m.sibling}function Qp(i,o,m){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ut,m)}catch{}switch(m.tag){case 5:On||ds(m,o);case 6:var p=Mn,b=Pr;Mn=null,Wi(i,o,m),Mn=p,Pr=b,Mn!==null&&(Pr?(i=Mn,m=m.stateNode,i.nodeType===8?i.parentNode.removeChild(m):i.removeChild(m)):Mn.removeChild(m.stateNode));break;case 18:Mn!==null&&(Pr?(i=Mn,m=m.stateNode,i.nodeType===8?i0(i.parentNode,m):i.nodeType===1&&i0(i,m),Ws(i)):i0(Mn,m.stateNode));break;case 4:p=Mn,b=Pr,Mn=m.stateNode.containerInfo,Pr=!0,Wi(i,o,m),Mn=p,Pr=b;break;case 0:case 11:case 14:case 15:if(!On&&(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){b=p=p.next;do{var k=b,M=k.destroy;k=k.tag,M!==void 0&&((k&2)!==0||(k&4)!==0)&&H0(m,o,M),b=b.next}while(b!==p)}Wi(i,o,m);break;case 1:if(!On&&(ds(m,o),p=m.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(F){Zt(m,o,F)}Wi(i,o,m);break;case 21:Wi(i,o,m);break;case 22:m.mode&1?(On=(p=On)||m.memoizedState!==null,Wi(i,o,m),On=p):Wi(i,o,m);break;default:Wi(i,o,m)}}function Jp(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var m=i.stateNode;m===null&&(m=i.stateNode=new p5),o.forEach(function(p){var b=N5.bind(null,i,p);m.has(p)||(m.add(p),p.then(b,b))})}}function Br(i,o){var m=o.deletions;if(m!==null)for(var p=0;p<m.length;p++){var b=m[p];try{var k=i,M=o,F=M;e:for(;F!==null;){switch(F.tag){case 5:Mn=F.stateNode,Pr=!1;break e;case 3:Mn=F.stateNode.containerInfo,Pr=!0;break e;case 4:Mn=F.stateNode.containerInfo,Pr=!0;break e}F=F.return}if(Mn===null)throw Error(n(160));Qp(k,M,b),Mn=null,Pr=!1;var V=b.alternate;V!==null&&(V.return=null),b.return=null}catch(le){Zt(b,o,le)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)e1(o,i),o=o.sibling}function e1(i,o){var m=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Br(o,i),Xr(i),p&4){try{fo(3,i,i.return),zl(3,i)}catch(Fe){Zt(i,i.return,Fe)}try{fo(5,i,i.return)}catch(Fe){Zt(i,i.return,Fe)}}break;case 1:Br(o,i),Xr(i),p&512&&m!==null&&ds(m,m.return);break;case 5:if(Br(o,i),Xr(i),p&512&&m!==null&&ds(m,m.return),i.flags&32){var b=i.stateNode;try{st(b,"")}catch(Fe){Zt(i,i.return,Fe)}}if(p&4&&(b=i.stateNode,b!=null)){var k=i.memoizedProps,M=m!==null?m.memoizedProps:k,F=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{F==="input"&&k.type==="radio"&&k.name!=null&&at(b,k),br(F,M);var le=br(F,k);for(M=0;M<V.length;M+=2){var ge=V[M],ve=V[M+1];ge==="style"?Rr(b,ve):ge==="dangerouslySetInnerHTML"?Je(b,ve):ge==="children"?st(b,ve):L(b,ge,ve,le)}switch(F){case"input":We(b,k);break;case"textarea":$t(b,k);break;case"select":var he=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Re=k.value;Re!=null?en(b,!!k.multiple,Re,!1):he!==!!k.multiple&&(k.defaultValue!=null?en(b,!!k.multiple,k.defaultValue,!0):en(b,!!k.multiple,k.multiple?[]:"",!1))}b[to]=k}catch(Fe){Zt(i,i.return,Fe)}}break;case 6:if(Br(o,i),Xr(i),p&4){if(i.stateNode===null)throw Error(n(162));b=i.stateNode,k=i.memoizedProps;try{b.nodeValue=k}catch(Fe){Zt(i,i.return,Fe)}}break;case 3:if(Br(o,i),Xr(i),p&4&&m!==null&&m.memoizedState.isDehydrated)try{Ws(o.containerInfo)}catch(Fe){Zt(i,i.return,Fe)}break;case 4:Br(o,i),Xr(i);break;case 13:Br(o,i),Xr(i),b=i.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(K0=Ht())),p&4&&Jp(i);break;case 22:if(ge=m!==null&&m.memoizedState!==null,i.mode&1?(On=(le=On)||ge,Br(o,i),On=le):Br(o,i),Xr(i),p&8192){if(le=i.memoizedState!==null,(i.stateNode.isHidden=le)&&!ge&&(i.mode&1)!==0)for(Pe=i,ge=i.child;ge!==null;){for(ve=Pe=ge;Pe!==null;){switch(he=Pe,Re=he.child,he.tag){case 0:case 11:case 14:case 15:fo(4,he,he.return);break;case 1:ds(he,he.return);var Be=he.stateNode;if(typeof Be.componentWillUnmount=="function"){p=he,m=he.return;try{o=p,Be.props=o.memoizedProps,Be.state=o.memoizedState,Be.componentWillUnmount()}catch(Fe){Zt(p,m,Fe)}}break;case 5:ds(he,he.return);break;case 22:if(he.memoizedState!==null){r1(ve);continue}}Re!==null?(Re.return=he,Pe=Re):r1(ve)}ge=ge.sibling}e:for(ge=null,ve=i;;){if(ve.tag===5){if(ge===null){ge=ve;try{b=ve.stateNode,le?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(F=ve.stateNode,V=ve.memoizedProps.style,M=V!=null&&V.hasOwnProperty("display")?V.display:null,F.style.display=Vn("display",M))}catch(Fe){Zt(i,i.return,Fe)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=le?"":ve.memoizedProps}catch(Fe){Zt(i,i.return,Fe)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===i)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===i)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===i)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Br(o,i),Xr(i),p&4&&Jp(i);break;case 21:break;default:Br(o,i),Xr(i)}}function Xr(i){var o=i.flags;if(o&2){try{e:{for(var m=i.return;m!==null;){if(Xp(m)){var p=m;break e}m=m.return}throw Error(n(160))}switch(p.tag){case 5:var b=p.stateNode;p.flags&32&&(st(b,""),p.flags&=-33);var k=Zp(i);q0(i,k,b);break;case 3:case 4:var M=p.stateNode.containerInfo,F=Zp(i);W0(i,F,M);break;default:throw Error(n(161))}}catch(V){Zt(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function x5(i,o,m){Pe=i,t1(i)}function t1(i,o,m){for(var p=(i.mode&1)!==0;Pe!==null;){var b=Pe,k=b.child;if(b.tag===22&&p){var M=b.memoizedState!==null||Dl;if(!M){var F=b.alternate,V=F!==null&&F.memoizedState!==null||On;F=Dl;var le=On;if(Dl=M,(On=V)&&!le)for(Pe=b;Pe!==null;)M=Pe,V=M.child,M.tag===22&&M.memoizedState!==null?i1(b):V!==null?(V.return=M,Pe=V):i1(b);for(;k!==null;)Pe=k,t1(k),k=k.sibling;Pe=b,Dl=F,On=le}n1(i)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,Pe=k):n1(i)}}function n1(i){for(;Pe!==null;){var o=Pe;if((o.flags&8772)!==0){var m=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:On||zl(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!On)if(m===null)p.componentDidMount();else{var b=o.elementType===o.type?m.memoizedProps:zr(o.type,m.memoizedProps);p.componentDidUpdate(b,m.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var k=o.updateQueue;k!==null&&rp(o,k,p);break;case 3:var M=o.updateQueue;if(M!==null){if(m=null,o.child!==null)switch(o.child.tag){case 5:m=o.child.stateNode;break;case 1:m=o.child.stateNode}rp(o,M,m)}break;case 5:var F=o.stateNode;if(m===null&&o.flags&4){m=F;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&m.focus();break;case"img":V.src&&(m.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var le=o.alternate;if(le!==null){var ge=le.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&Ws(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}On||o.flags&512&&U0(o)}catch(he){Zt(o,o.return,he)}}if(o===i){Pe=null;break}if(m=o.sibling,m!==null){m.return=o.return,Pe=m;break}Pe=o.return}}function r1(i){for(;Pe!==null;){var o=Pe;if(o===i){Pe=null;break}var m=o.sibling;if(m!==null){m.return=o.return,Pe=m;break}Pe=o.return}}function i1(i){for(;Pe!==null;){var o=Pe;try{switch(o.tag){case 0:case 11:case 15:var m=o.return;try{zl(4,o)}catch(V){Zt(o,m,V)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var b=o.return;try{p.componentDidMount()}catch(V){Zt(o,b,V)}}var k=o.return;try{U0(o)}catch(V){Zt(o,k,V)}break;case 5:var M=o.return;try{U0(o)}catch(V){Zt(o,M,V)}}}catch(V){Zt(o,o.return,V)}if(o===i){Pe=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Pe=F;break}Pe=o.return}}var b5=Math.ceil,Pl=B.ReactCurrentDispatcher,G0=B.ReactCurrentOwner,Er=B.ReactCurrentBatchConfig,xt=0,Nn=null,fn=null,An=0,cr=0,ms=Bi(0),vn=0,ho=null,Ea=0,Bl=0,V0=0,po=null,Zn=null,K0=0,fs=1/0,bi=null,Fl=!1,Y0=null,qi=null,$l=!1,Gi=null,Hl=0,go=0,X0=null,Ul=-1,Wl=0;function $n(){return(xt&6)!==0?Ht():Ul!==-1?Ul:Ul=Ht()}function Vi(i){return(i.mode&1)===0?1:(xt&2)!==0&&An!==0?An&-An:t5.transition!==null?(Wl===0&&(Wl=Jo()),Wl):(i=gt,i!==0||(i=window.event,i=i===void 0?16:sh(i.type)),i)}function Fr(i,o,m,p){if(50<go)throw go=0,X0=null,Error(n(185));Li(i,m,p),((xt&2)===0||i!==Nn)&&(i===Nn&&((xt&2)===0&&(Bl|=m),vn===4&&Ki(i,An)),Qn(i,p),m===1&&xt===0&&(o.mode&1)===0&&(fs=Ht()+500,bl&&$i()))}function Qn(i,o){var m=i.callbackNode;Rc(i,o);var p=ha(i,i===Nn?An:0);if(p===0)m!==null&&Lr(m),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(m!=null&&Lr(m),o===1)i.tag===0?e5(s1.bind(null,i)):qh(s1.bind(null,i)),Xy(function(){(xt&6)===0&&$i()}),m=null;else{switch(it(p)){case 1:m=Ps;break;case 4:m=ma;break;case 16:m=qa;break;case 536870912:m=qe;break;default:m=qa}m=h1(m,a1.bind(null,i))}i.callbackPriority=o,i.callbackNode=m}}function a1(i,o){if(Ul=-1,Wl=0,(xt&6)!==0)throw Error(n(327));var m=i.callbackNode;if(hs()&&i.callbackNode!==m)return null;var p=ha(i,i===Nn?An:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=ql(i,p);else{o=p;var b=xt;xt|=2;var k=l1();(Nn!==i||An!==o)&&(bi=null,fs=Ht()+500,Ta(i,o));do try{k5();break}catch(F){o1(i,F)}while(!0);h0(),Pl.current=k,xt=b,fn!==null?o=0:(Nn=null,An=0,o=vn)}if(o!==0){if(o===2&&(b=Bs(i),b!==0&&(p=b,o=Z0(i,b))),o===1)throw m=ho,Ta(i,0),Ki(i,p),Qn(i,Ht()),m;if(o===6)Ki(i,p);else{if(b=i.current.alternate,(p&30)===0&&!v5(b)&&(o=ql(i,p),o===2&&(k=Bs(i),k!==0&&(p=k,o=Z0(i,k))),o===1))throw m=ho,Ta(i,0),Ki(i,p),Qn(i,Ht()),m;switch(i.finishedWork=b,i.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Ca(i,Zn,bi);break;case 3:if(Ki(i,p),(p&130023424)===p&&(o=K0+500-Ht(),10<o)){if(ha(i,0)!==0)break;if(b=i.suspendedLanes,(b&p)!==p){$n(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=r0(Ca.bind(null,i,Zn,bi),o);break}Ca(i,Zn,bi);break;case 4:if(Ki(i,p),(p&4194240)===p)break;for(o=i.eventTimes,b=-1;0<p;){var M=31-Ut(p);k=1<<M,M=o[M],M>b&&(b=M),p&=~k}if(p=b,p=Ht()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*b5(p/1960))-p,10<p){i.timeoutHandle=r0(Ca.bind(null,i,Zn,bi),p);break}Ca(i,Zn,bi);break;case 5:Ca(i,Zn,bi);break;default:throw Error(n(329))}}}return Qn(i,Ht()),i.callbackNode===m?a1.bind(null,i):null}function Z0(i,o){var m=po;return i.current.memoizedState.isDehydrated&&(Ta(i,o).flags|=256),i=ql(i,o),i!==2&&(o=Zn,Zn=m,o!==null&&Q0(o)),i}function Q0(i){Zn===null?Zn=i:Zn.push.apply(Zn,i)}function v5(i){for(var o=i;;){if(o.flags&16384){var m=o.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var p=0;p<m.length;p++){var b=m[p],k=b.getSnapshot;b=b.value;try{if(!Or(k(),b))return!1}catch{return!1}}}if(m=o.child,o.subtreeFlags&16384&&m!==null)m.return=o,o=m;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ki(i,o){for(o&=~V0,o&=~Bl,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var m=31-Ut(o),p=1<<m;i[m]=-1,o&=~p}}function s1(i){if((xt&6)!==0)throw Error(n(327));hs();var o=ha(i,0);if((o&1)===0)return Qn(i,Ht()),null;var m=ql(i,o);if(i.tag!==0&&m===2){var p=Bs(i);p!==0&&(o=p,m=Z0(i,p))}if(m===1)throw m=ho,Ta(i,0),Ki(i,o),Qn(i,Ht()),m;if(m===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ca(i,Zn,bi),Qn(i,Ht()),null}function J0(i,o){var m=xt;xt|=1;try{return i(o)}finally{xt=m,xt===0&&(fs=Ht()+500,bl&&$i())}}function Na(i){Gi!==null&&Gi.tag===0&&(xt&6)===0&&hs();var o=xt;xt|=1;var m=Er.transition,p=gt;try{if(Er.transition=null,gt=1,i)return i()}finally{gt=p,Er.transition=m,xt=o,(xt&6)===0&&$i()}}function ed(){cr=ms.current,Ot(ms)}function Ta(i,o){i.finishedWork=null,i.finishedLanes=0;var m=i.timeoutHandle;if(m!==-1&&(i.timeoutHandle=-1,Yy(m)),fn!==null)for(m=fn.return;m!==null;){var p=m;switch(u0(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&gl();break;case 3:us(),Ot(Kn),Ot(jn),w0();break;case 5:y0(p);break;case 4:us();break;case 13:Ot(Wt);break;case 19:Ot(Wt);break;case 10:p0(p.type._context);break;case 22:case 23:ed()}m=m.return}if(Nn=i,fn=i=Yi(i.current,null),An=cr=o,vn=0,ho=null,V0=Bl=Ea=0,Zn=po=null,ka!==null){for(o=0;o<ka.length;o++)if(m=ka[o],p=m.interleaved,p!==null){m.interleaved=null;var b=p.next,k=m.pending;if(k!==null){var M=k.next;k.next=b,p.next=M}m.pending=p}ka=null}return i}function o1(i,o){do{var m=fn;try{if(h0(),_l.current=jl,Ml){for(var p=qt.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}Ml=!1}if(Sa=0,En=bn=qt=null,oo=!1,lo=0,G0.current=null,m===null||m.return===null){vn=1,ho=o,fn=null;break}e:{var k=i,M=m.return,F=m,V=o;if(o=An,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var le=V,ge=F,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var he=ge.alternate;he?(ge.updateQueue=he.updateQueue,ge.memoizedState=he.memoizedState,ge.lanes=he.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Re=jp(M);if(Re!==null){Re.flags&=-257,Rp(Re,M,F,k,o),Re.mode&1&&Ip(k,le,o),o=Re,V=le;var Be=o.updateQueue;if(Be===null){var Fe=new Set;Fe.add(V),o.updateQueue=Fe}else Be.add(V);break e}else{if((o&1)===0){Ip(k,le,o),td();break e}V=Error(n(426))}}else if(zt&&F.mode&1){var an=jp(M);if(an!==null){(an.flags&65536)===0&&(an.flags|=256),Rp(an,M,F,k,o),m0(cs(V,F));break e}}k=V=cs(V,F),vn!==4&&(vn=2),po===null?po=[k]:po.push(k),k=M;do{switch(k.tag){case 3:k.flags|=65536,o&=-o,k.lanes|=o;var re=Mp(k,V,o);np(k,re);break e;case 1:F=V;var Z=k.type,oe=k.stateNode;if((k.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(qi===null||!qi.has(oe)))){k.flags|=65536,o&=-o,k.lanes|=o;var Ne=Ap(k,F,o);np(k,Ne);break e}}k=k.return}while(k!==null)}c1(m)}catch(He){o=He,fn===m&&m!==null&&(fn=m=m.return);continue}break}while(!0)}function l1(){var i=Pl.current;return Pl.current=jl,i===null?jl:i}function td(){(vn===0||vn===3||vn===2)&&(vn=4),Nn===null||(Ea&268435455)===0&&(Bl&268435455)===0||Ki(Nn,An)}function ql(i,o){var m=xt;xt|=2;var p=l1();(Nn!==i||An!==o)&&(bi=null,Ta(i,o));do try{y5();break}catch(b){o1(i,b)}while(!0);if(h0(),xt=m,Pl.current=p,fn!==null)throw Error(n(261));return Nn=null,An=0,vn}function y5(){for(;fn!==null;)u1(fn)}function k5(){for(;fn!==null&&!Zo();)u1(fn)}function u1(i){var o=f1(i.alternate,i,cr);i.memoizedProps=i.pendingProps,o===null?c1(i):fn=o,G0.current=null}function c1(i){var o=i;do{var m=o.alternate;if(i=o.return,(o.flags&32768)===0){if(m=f5(m,o,cr),m!==null){fn=m;return}}else{if(m=h5(m,o),m!==null){m.flags&=32767,fn=m;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{vn=6,fn=null;return}}if(o=o.sibling,o!==null){fn=o;return}fn=o=i}while(o!==null);vn===0&&(vn=5)}function Ca(i,o,m){var p=gt,b=Er.transition;try{Er.transition=null,gt=1,w5(i,o,m,p)}finally{Er.transition=b,gt=p}return null}function w5(i,o,m,p){do hs();while(Gi!==null);if((xt&6)!==0)throw Error(n(327));m=i.finishedWork;var b=i.finishedLanes;if(m===null)return null;if(i.finishedWork=null,i.finishedLanes=0,m===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var k=m.lanes|m.childLanes;if(vr(i,k),i===Nn&&(fn=Nn=null,An=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||$l||($l=!0,h1(qa,function(){return hs(),null})),k=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||k){k=Er.transition,Er.transition=null;var M=gt;gt=1;var F=xt;xt|=4,G0.current=null,g5(i,m),e1(m,i),Hy(t0),nl=!!e0,t0=e0=null,i.current=m,x5(m),Qo(),xt=F,gt=M,Er.transition=k}else i.current=m;if($l&&($l=!1,Gi=i,Hl=b),k=i.pendingLanes,k===0&&(qi=null),nn(m.stateNode),Qn(i,Ht()),o!==null)for(p=i.onRecoverableError,m=0;m<o.length;m++)b=o[m],p(b.value,{componentStack:b.stack,digest:b.digest});if(Fl)throw Fl=!1,i=Y0,Y0=null,i;return(Hl&1)!==0&&i.tag!==0&&hs(),k=i.pendingLanes,(k&1)!==0?i===X0?go++:(go=0,X0=i):go=0,$i(),null}function hs(){if(Gi!==null){var i=it(Hl),o=Er.transition,m=gt;try{if(Er.transition=null,gt=16>i?16:i,Gi===null)var p=!1;else{if(i=Gi,Gi=null,Hl=0,(xt&6)!==0)throw Error(n(331));var b=xt;for(xt|=4,Pe=i.current;Pe!==null;){var k=Pe,M=k.child;if((Pe.flags&16)!==0){var F=k.deletions;if(F!==null){for(var V=0;V<F.length;V++){var le=F[V];for(Pe=le;Pe!==null;){var ge=Pe;switch(ge.tag){case 0:case 11:case 15:fo(8,ge,k)}var ve=ge.child;if(ve!==null)ve.return=ge,Pe=ve;else for(;Pe!==null;){ge=Pe;var he=ge.sibling,Re=ge.return;if(Yp(ge),ge===le){Pe=null;break}if(he!==null){he.return=Re,Pe=he;break}Pe=Re}}}var Be=k.alternate;if(Be!==null){var Fe=Be.child;if(Fe!==null){Be.child=null;do{var an=Fe.sibling;Fe.sibling=null,Fe=an}while(Fe!==null)}}Pe=k}}if((k.subtreeFlags&2064)!==0&&M!==null)M.return=k,Pe=M;else e:for(;Pe!==null;){if(k=Pe,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:fo(9,k,k.return)}var re=k.sibling;if(re!==null){re.return=k.return,Pe=re;break e}Pe=k.return}}var Z=i.current;for(Pe=Z;Pe!==null;){M=Pe;var oe=M.child;if((M.subtreeFlags&2064)!==0&&oe!==null)oe.return=M,Pe=oe;else e:for(M=Z;Pe!==null;){if(F=Pe,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:zl(9,F)}}catch(He){Zt(F,F.return,He)}if(F===M){Pe=null;break e}var Ne=F.sibling;if(Ne!==null){Ne.return=F.return,Pe=Ne;break e}Pe=F.return}}if(xt=b,$i(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ut,i)}catch{}p=!0}return p}finally{gt=m,Er.transition=o}}return!1}function d1(i,o,m){o=cs(m,o),o=Mp(i,o,1),i=Ui(i,o,1),o=$n(),i!==null&&(Li(i,1,o),Qn(i,o))}function Zt(i,o,m){if(i.tag===3)d1(i,i,m);else for(;o!==null;){if(o.tag===3){d1(o,i,m);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qi===null||!qi.has(p))){i=cs(m,i),i=Ap(o,i,1),o=Ui(o,i,1),i=$n(),o!==null&&(Li(o,1,i),Qn(o,i));break}}o=o.return}}function S5(i,o,m){var p=i.pingCache;p!==null&&p.delete(o),o=$n(),i.pingedLanes|=i.suspendedLanes&m,Nn===i&&(An&m)===m&&(vn===4||vn===3&&(An&130023424)===An&&500>Ht()-K0?Ta(i,0):V0|=m),Qn(i,o)}function m1(i,o){o===0&&((i.mode&1)===0?o=1:(o=fa,fa<<=1,(fa&130023424)===0&&(fa=4194304)));var m=$n();i=pi(i,o),i!==null&&(Li(i,o,m),Qn(i,m))}function E5(i){var o=i.memoizedState,m=0;o!==null&&(m=o.retryLane),m1(i,m)}function N5(i,o){var m=0;switch(i.tag){case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(m=b.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),m1(i,m)}var f1;f1=function(i,o,m){if(i!==null)if(i.memoizedProps!==o.pendingProps||Kn.current)Xn=!0;else{if((i.lanes&m)===0&&(o.flags&128)===0)return Xn=!1,m5(i,o,m);Xn=(i.flags&131072)!==0}else Xn=!1,zt&&(o.flags&1048576)!==0&&Gh(o,yl,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Ol(i,o),i=o.pendingProps;var b=ns(o,jn.current);ls(o,m),b=N0(null,o,p,i,b,m);var k=T0();return o.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Yn(p)?(k=!0,xl(o)):k=!1,o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b0(o),b.updater=Rl,o.stateNode=b,b._reactInternals=o,j0(o,p,i,m),o=D0(null,o,p,!0,k,m)):(o.tag=0,zt&&k&&l0(o),Fn(null,o,b,m),o=o.child),o;case 16:p=o.elementType;e:{switch(Ol(i,o),i=o.pendingProps,b=p._init,p=b(p._payload),o.type=p,b=o.tag=C5(p),i=zr(p,i),b){case 0:o=O0(null,o,p,i,m);break e;case 1:o=Bp(null,o,p,i,m);break e;case 11:o=Lp(null,o,p,i,m);break e;case 14:o=Op(null,o,p,zr(p.type,i),m);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:zr(p,b),O0(i,o,p,b,m);case 1:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:zr(p,b),Bp(i,o,p,b,m);case 3:e:{if(Fp(o),i===null)throw Error(n(387));p=o.pendingProps,k=o.memoizedState,b=k.element,tp(i,o),Tl(o,p,null,m);var M=o.memoizedState;if(p=M.element,k.isDehydrated)if(k={element:p,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},o.updateQueue.baseState=k,o.memoizedState=k,o.flags&256){b=cs(Error(n(423)),o),o=$p(i,o,p,m,b);break e}else if(p!==b){b=cs(Error(n(424)),o),o=$p(i,o,p,m,b);break e}else for(ur=Pi(o.stateNode.containerInfo.firstChild),lr=o,zt=!0,Dr=null,m=Jh(o,null,p,m),o.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(as(),p===b){o=xi(i,o,m);break e}Fn(i,o,p,m)}o=o.child}return o;case 5:return ip(o),i===null&&d0(o),p=o.type,b=o.pendingProps,k=i!==null?i.memoizedProps:null,M=b.children,n0(p,b)?M=null:k!==null&&n0(p,k)&&(o.flags|=32),Pp(i,o),Fn(i,o,M,m),o.child;case 6:return i===null&&d0(o),null;case 13:return Hp(i,o,m);case 4:return v0(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=ss(o,null,p,m):Fn(i,o,p,m),o.child;case 11:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:zr(p,b),Lp(i,o,p,b,m);case 7:return Fn(i,o,o.pendingProps,m),o.child;case 8:return Fn(i,o,o.pendingProps.children,m),o.child;case 12:return Fn(i,o,o.pendingProps.children,m),o.child;case 10:e:{if(p=o.type._context,b=o.pendingProps,k=o.memoizedProps,M=b.value,Mt(Sl,p._currentValue),p._currentValue=M,k!==null)if(Or(k.value,M)){if(k.children===b.children&&!Kn.current){o=xi(i,o,m);break e}}else for(k=o.child,k!==null&&(k.return=o);k!==null;){var F=k.dependencies;if(F!==null){M=k.child;for(var V=F.firstContext;V!==null;){if(V.context===p){if(k.tag===1){V=gi(-1,m&-m),V.tag=2;var le=k.updateQueue;if(le!==null){le=le.shared;var ge=le.pending;ge===null?V.next=V:(V.next=ge.next,ge.next=V),le.pending=V}}k.lanes|=m,V=k.alternate,V!==null&&(V.lanes|=m),g0(k.return,m,o),F.lanes|=m;break}V=V.next}}else if(k.tag===10)M=k.type===o.type?null:k.child;else if(k.tag===18){if(M=k.return,M===null)throw Error(n(341));M.lanes|=m,F=M.alternate,F!==null&&(F.lanes|=m),g0(M,m,o),M=k.sibling}else M=k.child;if(M!==null)M.return=k;else for(M=k;M!==null;){if(M===o){M=null;break}if(k=M.sibling,k!==null){k.return=M.return,M=k;break}M=M.return}k=M}Fn(i,o,b.children,m),o=o.child}return o;case 9:return b=o.type,p=o.pendingProps.children,ls(o,m),b=wr(b),p=p(b),o.flags|=1,Fn(i,o,p,m),o.child;case 14:return p=o.type,b=zr(p,o.pendingProps),b=zr(p.type,b),Op(i,o,p,b,m);case 15:return Dp(i,o,o.type,o.pendingProps,m);case 17:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:zr(p,b),Ol(i,o),o.tag=1,Yn(p)?(i=!0,xl(o)):i=!1,ls(o,m),Cp(o,p,b),j0(o,p,b,m),D0(null,o,p,!0,i,m);case 19:return Wp(i,o,m);case 22:return zp(i,o,m)}throw Error(n(156,o.tag))};function h1(i,o){return Xo(i,o)}function T5(i,o,m,p){this.tag=i,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(i,o,m,p){return new T5(i,o,m,p)}function nd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function C5(i){if(typeof i=="function")return nd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===se)return 11;if(i===P)return 14}return 2}function Yi(i,o){var m=i.alternate;return m===null?(m=Nr(i.tag,o,i.key,i.mode),m.elementType=i.elementType,m.type=i.type,m.stateNode=i.stateNode,m.alternate=i,i.alternate=m):(m.pendingProps=o,m.type=i.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=i.flags&14680064,m.childLanes=i.childLanes,m.lanes=i.lanes,m.child=i.child,m.memoizedProps=i.memoizedProps,m.memoizedState=i.memoizedState,m.updateQueue=i.updateQueue,o=i.dependencies,m.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},m.sibling=i.sibling,m.index=i.index,m.ref=i.ref,m}function Gl(i,o,m,p,b,k){var M=2;if(p=i,typeof i=="function")nd(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case te:return _a(m.children,b,k,o);case G:M=8,b|=8;break;case J:return i=Nr(12,m,o,b|2),i.elementType=J,i.lanes=k,i;case de:return i=Nr(13,m,o,b),i.elementType=de,i.lanes=k,i;case K:return i=Nr(19,m,o,b),i.elementType=K,i.lanes=k,i;case ee:return Vl(m,b,k,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:M=10;break e;case ie:M=9;break e;case se:M=11;break e;case P:M=14;break e;case Y:M=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Nr(M,m,o,b),o.elementType=i,o.type=p,o.lanes=k,o}function _a(i,o,m,p){return i=Nr(7,i,p,o),i.lanes=m,i}function Vl(i,o,m,p){return i=Nr(22,i,p,o),i.elementType=ee,i.lanes=m,i.stateNode={isHidden:!1},i}function rd(i,o,m){return i=Nr(6,i,null,o),i.lanes=m,i}function id(i,o,m){return o=Nr(4,i.children!==null?i.children:[],i.key,o),o.lanes=m,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _5(i,o,m,p,b){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ri(0),this.expirationTimes=Ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.identifierPrefix=p,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function ad(i,o,m,p,b,k,M,F,V){return i=new _5(i,o,m,F,V),o===1?(o=1,k===!0&&(o|=8)):o=0,k=Nr(3,null,null,o),i.current=k,k.stateNode=i,k.memoizedState={element:p,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},b0(k),i}function M5(i,o,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:p==null?null:""+p,children:i,containerInfo:o,implementation:m}}function p1(i){if(!i)return Fi;i=i._reactInternals;e:{if(ci(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var m=i.type;if(Yn(m))return Uh(i,m,o)}return o}function g1(i,o,m,p,b,k,M,F,V){return i=ad(m,p,!0,i,b,k,M,F,V),i.context=p1(null),m=i.current,p=$n(),b=Vi(m),k=gi(p,b),k.callback=o??null,Ui(m,k,b),i.current.lanes=b,Li(i,b,p),Qn(i,p),i}function Kl(i,o,m,p){var b=o.current,k=$n(),M=Vi(b);return m=p1(m),o.context===null?o.context=m:o.pendingContext=m,o=gi(k,M),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Ui(b,o,M),i!==null&&(Fr(i,b,M,k),Nl(i,b,M)),M}function Yl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function x1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var m=i.retryLane;i.retryLane=m!==0&&m<o?m:o}}function sd(i,o){x1(i,o),(i=i.alternate)&&x1(i,o)}function A5(){return null}var b1=typeof reportError=="function"?reportError:function(i){console.error(i)};function od(i){this._internalRoot=i}Xl.prototype.render=od.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Kl(i,o,null,null)},Xl.prototype.unmount=od.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Na(function(){Kl(null,i,null,null)}),o[di]=null}};function Xl(i){this._internalRoot=i}Xl.prototype.unstable_scheduleHydration=function(i){if(i){var o=pa();i={blockedOn:null,target:i,priority:o};for(var m=0;m<Sn.length&&o!==0&&o<Sn[m].priority;m++);Sn.splice(m,0,i),m===0&&ih(i)}};function ld(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function v1(){}function I5(i,o,m,p,b){if(b){if(typeof p=="function"){var k=p;p=function(){var le=Yl(M);k.call(le)}}var M=g1(o,p,i,0,null,!1,!1,"",v1);return i._reactRootContainer=M,i[di]=M.current,Js(i.nodeType===8?i.parentNode:i),Na(),M}for(;b=i.lastChild;)i.removeChild(b);if(typeof p=="function"){var F=p;p=function(){var le=Yl(V);F.call(le)}}var V=ad(i,0,!1,null,null,!1,!1,"",v1);return i._reactRootContainer=V,i[di]=V.current,Js(i.nodeType===8?i.parentNode:i),Na(function(){Kl(o,V,m,p)}),V}function Ql(i,o,m,p,b){var k=m._reactRootContainer;if(k){var M=k;if(typeof b=="function"){var F=b;b=function(){var V=Yl(M);F.call(V)}}Kl(o,M,i,b)}else M=I5(m,o,i,b,p);return Yl(M)}$s=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var m=ji(o.pendingLanes);m!==0&&(Fs(o,m|1),Qn(o,Ht()),(xt&6)===0&&(fs=Ht()+500,$i()))}break;case 13:Na(function(){var p=pi(i,1);if(p!==null){var b=$n();Fr(p,i,1,b)}}),sd(i,1)}},rn=function(i){if(i.tag===13){var o=pi(i,134217728);if(o!==null){var m=$n();Fr(o,i,134217728,m)}sd(i,134217728)}},wt=function(i){if(i.tag===13){var o=Vi(i),m=pi(i,o);if(m!==null){var p=$n();Fr(m,i,o,p)}sd(i,o)}},pa=function(){return gt},Gr=function(i,o){var m=gt;try{return gt=i,o()}finally{gt=m}},Ua=function(i,o,m){switch(o){case"input":if(We(i,m),o=m.name,m.type==="radio"&&o!=null){for(m=i;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<m.length;o++){var p=m[o];if(p!==i&&p.form===i.form){var b=pl(p);if(!b)throw Error(n(90));Kt(p),We(p,b)}}}break;case"textarea":$t(i,m);break;case"select":o=m.value,o!=null&&en(i,!!m.multiple,o,!1)}},_e=J0,nt=Na;var j5={usingClientEntryPoint:!1,Events:[no,es,pl,q,me,J0]},xo={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R5={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ko(i),i===null?null:i.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||A5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{ut=Jl.inject(R5),ft=Jl}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j5,Jn.createPortal=function(i,o){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(o))throw Error(n(200));return M5(i,o,null,m)},Jn.createRoot=function(i,o){if(!ld(i))throw Error(n(299));var m=!1,p="",b=b1;return o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=ad(i,1,!1,null,null,m,!1,p,b),i[di]=o.current,Js(i.nodeType===8?i.parentNode:i),new od(o)},Jn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ko(o),i=i===null?null:i.stateNode,i},Jn.flushSync=function(i){return Na(i)},Jn.hydrate=function(i,o,m){if(!Zl(o))throw Error(n(200));return Ql(null,i,o,!0,m)},Jn.hydrateRoot=function(i,o,m){if(!ld(i))throw Error(n(405));var p=m!=null&&m.hydratedSources||null,b=!1,k="",M=b1;if(m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),o=g1(o,null,i,1,m??null,b,!1,k,M),i[di]=o.current,Js(i),p)for(i=0;i<p.length;i++)m=p[i],b=m._getVersion,b=b(m._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[m,b]:o.mutableSourceEagerHydrationData.push(m,b);return new Xl(o)},Jn.render=function(i,o,m){if(!Zl(o))throw Error(n(200));return Ql(null,i,o,!1,m)},Jn.unmountComponentAtNode=function(i){if(!Zl(i))throw Error(n(40));return i._reactRootContainer?(Na(function(){Ql(null,null,i,!1,function(){i._reactRootContainer=null,i[di]=null})}),!0):!1},Jn.unstable_batchedUpdates=J0,Jn.unstable_renderSubtreeIntoContainer=function(i,o,m,p){if(!Zl(m))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ql(i,o,m,!1,p)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var C1;function xx(){if(C1)return dd.exports;C1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dd.exports=H5(),dd.exports}var _1;function U5(){if(_1)return eu;_1=1;var e=xx();return eu.createRoot=e.createRoot,eu.hydrateRoot=e.hydrateRoot,eu}var W5=U5();const M1=e=>{let t;const n=new Set,r=(f,h)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const v=t;t=h??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(x=>x(t,v))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,a,c);return c},q5=(e=>e?M1(e):M1),G5=e=>e;function V5(e,t=G5){const n=Ts.useSyncExternalStore(e.subscribe,Ts.useCallback(()=>t(e.getState()),[e,t]),Ts.useCallback(()=>t(e.getInitialState()),[e,t]));return Ts.useDebugValue(n),n}const A1=e=>{const t=q5(e),n=r=>V5(t,r);return Object.assign(n,t),n},oa=(e=>e?A1(e):A1),za={aspectRatio:"1:1",imageSize:"1K"},bx={"gemini-3-pro-preview":{supportsThinking:!0,supportsImageGeneration:!1,supportsMediaResolution:!0,maxInputTokens:1e6,maxOutputTokens:65536,thinkingConfigType:"level",supportedThinkingLevels:["low","high"],supportsThoughtSummary:!0},"gemini-3-flash-preview":{supportsThinking:!0,supportsImageGeneration:!1,supportsMediaResolution:!0,maxInputTokens:1e6,maxOutputTokens:65536,thinkingConfigType:"level",supportedThinkingLevels:["minimal","low","medium","high"],supportsThoughtSummary:!0},"gemini-3-pro-image-preview":{supportsThinking:!1,supportsImageGeneration:!0,supportsMediaResolution:!1,supportsImageSize:!0,maxInputTokens:65e3,maxOutputTokens:32768,thinkingConfigType:"none",supportsThoughtSummary:!0},"gemini-2.5-pro":{supportsThinking:!0,supportsImageGeneration:!1,supportsMediaResolution:!0,maxInputTokens:1e6,maxOutputTokens:65536,thinkingConfigType:"budget",thinkingBudgetConfig:{min:128,max:32768,defaultValue:-1,canDisable:!1},supportsThoughtSummary:!0},"gemini-2.5-flash":{supportsThinking:!0,supportsImageGeneration:!1,supportsMediaResolution:!0,maxInputTokens:1e6,maxOutputTokens:65536,thinkingConfigType:"budget",thinkingBudgetConfig:{min:0,max:24576,defaultValue:-1,canDisable:!0},supportsThoughtSummary:!0},"gemini-2.5-flash-lite":{supportsThinking:!1,supportsImageGeneration:!1,supportsMediaResolution:!0,maxInputTokens:1e6,maxOutputTokens:65536,thinkingConfigType:"budget",thinkingBudgetConfig:{min:0,max:24576,defaultValue:0,canDisable:!0},supportsThoughtSummary:!1},"gemini-2.5-flash-image":{supportsThinking:!1,supportsImageGeneration:!0,supportsMediaResolution:!1,supportsImageSize:!1,maxInputTokens:65e3,maxOutputTokens:32768,thinkingConfigType:"none",supportsThoughtSummary:!1},"gemini-2.0-flash":{supportsThinking:!1,supportsImageGeneration:!1,supportsMediaResolution:!0,maxInputTokens:1e6,maxOutputTokens:8192,thinkingConfigType:"none",supportsThoughtSummary:!1},"gemini-2.0-flash-lite":{supportsThinking:!1,supportsImageGeneration:!1,supportsMediaResolution:!0,maxInputTokens:1e6,maxOutputTokens:8192,thinkingConfigType:"none",supportsThoughtSummary:!1}};function vx(e){return bx[e]||{}}const Bo=[{id:"gemini-3-pro-preview",name:"Gemini 3 Pro",description:""},{id:"gemini-3-flash-preview",name:"Gemini 3 Flash",description:""},{id:"gemini-3-pro-image-preview",name:"Gemini 3 Pro Image",description:" Gemini 3 Pro"},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",description:" STEM "},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",description:""},{id:"gemini-2.5-flash-lite",name:"Gemini 2.5 Flash-Lite",description:""},{id:"gemini-2.5-flash-image",name:"Gemini 2.5 Flash Image",description:" Flash "},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"100 token "},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",description:""}],yx="https://generativelanguage.googleapis.com/v1beta",kx="",wx="gemini-2.5-flash",sn={apiEndpoint:kx,apiKey:"",currentModel:wx,generationConfig:{temperature:1,topP:.95,topK:40},safetySettings:[],systemInstruction:"",theme:"system",sidebarCollapsed:!1,streamingEnabled:!0},Sx=20*1024*1024,Ex=50*1024*1024,ic=["image/jpeg","image/png","image/webp","image/gif"],Nx=["application/pdf","text/plain","text/javascript","text/typescript","text/x-python","text/x-java","text/css","text/html","application/json","application/xml"],Pu={".js":"text/javascript",".ts":"text/typescript",".jsx":"text/javascript",".tsx":"text/typescript",".py":"text/x-python",".java":"text/x-java",".css":"text/css",".html":"text/html",".json":"application/json",".xml":"application/xml",".md":"text/plain",".txt":"text/plain"},Tx="1.0.0",hd=Object.freeze(Object.defineProperty({__proto__:null,CODE_FILE_EXTENSIONS:Pu,DEFAULT_API_ENDPOINT:kx,DEFAULT_APP_SETTINGS:sn,DEFAULT_IMAGE_GENERATION_CONFIG:za,DEFAULT_MODEL:wx,DOCUMENT_SIZE_LIMIT:Ex,EXPORT_DATA_VERSION:Tx,GEMINI_MODELS:Bo,IMAGE_SIZE_LIMIT:Sx,MODEL_CAPABILITIES:bx,OFFICIAL_API_ENDPOINT:yx,SUPPORTED_DOCUMENT_TYPES:Nx,SUPPORTED_IMAGE_TYPES:ic,getModelCapabilities:vx},Symbol.toStringTag,{value:"Module"})),pm=(e,t)=>t.some(n=>e instanceof n);let I1,j1;function K5(){return I1||(I1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y5(){return j1||(j1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gm=new WeakMap,pd=new WeakMap,ac=new WeakMap;function X5(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",l)},s=()=>{n(La(e.result)),a()},l=()=>{r(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",l)});return ac.set(t,e),t}function Z5(e){if(gm.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",l),e.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",l),e.addEventListener("abort",l)});gm.set(e,t)}let xm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gm.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return La(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Cx(e){xm=e(xm)}function Q5(e){return Y5().includes(e)?function(...t){return e.apply(bm(this),t),La(this.request)}:function(...t){return La(e.apply(bm(this),t))}}function J5(e){return typeof e=="function"?Q5(e):(e instanceof IDBTransaction&&Z5(e),pm(e,K5())?new Proxy(e,xm):e)}function La(e){if(e instanceof IDBRequest)return X5(e);if(pd.has(e))return pd.get(e);const t=J5(e);return t!==e&&(pd.set(e,t),ac.set(t,e)),t}const bm=e=>ac.get(e);function sc(e,t,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(e,t),c=La(l);return r&&l.addEventListener("upgradeneeded",d=>{r(La(l.result),d.oldVersion,d.newVersion,La(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),a&&d.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const e3=["get","getKey","getAll","getAllKeys","count"],t3=["put","add","delete","clear"],gd=new Map;function R1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=t3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||e3.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),a&&d.done]))[0]};return gd.set(t,s),s}Cx(e=>({...e,get:(t,n,r)=>R1(t,n)||e.get(t,n,r),has:(t,n)=>!!R1(t,n)||e.has(t,n)}));const n3=["continue","continuePrimaryKey","advance"],L1={},vm=new WeakMap,_x=new WeakMap,r3={get(e,t){if(!n3.includes(t))return e[t];let n=L1[t];return n||(n=L1[t]=function(...r){vm.set(this,_x.get(this)[t](...r))}),n}};async function*i3(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,r3);for(_x.set(n,t),ac.set(n,bm(t));t;)yield n,t=await(vm.get(n)||t.continue()),vm.delete(n)}function O1(e,t){return t===Symbol.asyncIterator&&pm(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&pm(e,[IDBIndex,IDBObjectStore])}Cx(e=>({...e,get(t,n,r){return O1(t,n)?i3:e.get(t,n,r)},has(t,n){return O1(t,n)||e.has(t,n)}}));const a3=["HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_DANGEROUS_CONTENT"],s3=["BLOCK_NONE","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH"],Co={model:"gemini-2.5-flash",generationConfig:{temperature:1,topP:.95,topK:40},systemInstruction:"",safetySettings:[],webSearchEnabled:!1};function Mx(e,t=""){const n=Date.now();return{id:e,title:t,messages:[],createdAt:n,updatedAt:n}}function o3(e,t,n={},r){const a=Date.now(),s=Mx(r);return{id:e,title:t,config:{...Co,...n},subTopics:[s],activeSubTopicId:r,createdAt:a,updatedAt:a}}const l3="adminiadmin",Ax=()=>{if(typeof window<"u"){const e=window.__APP_CONFIG__;if(e!=null&&e.AUTH_PASSWORD)return e.AUTH_PASSWORD}return"123456"},u3=()=>Ax()||l3,Ix=()=>!!Ax(),jx="gemini-chat-auth-config",Rx="gemini-chat-storage-version",ym=2,D1=1;function c3(){const e=localStorage.getItem(Rx);return e===null?D1:parseInt(e,10)||D1}function z1(e){localStorage.setItem(Rx,e.toString())}function Lx(){return c3()<ym}function d3(){return`${Date.now()}-${Math.random().toString(36).substring(2,11)}`}function m3(e,t={}){const n=Date.now(),r=d3(),a={id:r,title:"",messages:e.messages||[],createdAt:e.createdAt,updatedAt:e.updatedAt},s={model:e.model||Co.model,generationConfig:{...Co.generationConfig,...t.generationConfig},systemInstruction:e.systemInstruction||t.systemInstruction||"",safetySettings:t.safetySettings||Co.safetySettings};return{id:e.id,title:e.title,config:s,subTopics:[a],activeSubTopicId:r,createdAt:e.createdAt,updatedAt:n}}function f3(e,t={}){return e.map(n=>m3(n,t))}async function h3(e,t,n={}){if(!Lx())return!1;try{const r=await e();if(r.length===0)return z1(ym),!0;const a=f3(r,n);return await t(a),z1(ym),!0}catch(r){throw console.error(":",r),new Error(`: ${r instanceof Error?r.message:""}`)}}const p3="gemini-chat-db",g3=3,Zm="app-settings",Qm="model-configs";let tu=null;async function Ur(){return tu||(tu=await sc(p3,g3,{upgrade(e){e.objectStoreNames.contains("conversations")||e.createObjectStore("conversations",{keyPath:"id"}).createIndex("by-updated","updatedAt"),e.objectStoreNames.contains("chatWindows")||e.createObjectStore("chatWindows",{keyPath:"id"}).createIndex("by-updated","updatedAt"),e.objectStoreNames.contains("settings")||e.createObjectStore("settings"),e.objectStoreNames.contains("modelConfigs")||e.createObjectStore("modelConfigs")}}),tu)}async function Jm(){return(await(await Ur()).getAllFromIndex("conversations","by-updated")).reverse()}async function Pt(e){await(await Ur()).put("chatWindows",e)}async function Ox(){return(await(await Ur()).getAllFromIndex("chatWindows","by-updated")).reverse()}async function Dx(e){await(await Ur()).delete("chatWindows",e)}async function zx(e){const n=(await Ur()).transaction("chatWindows","readwrite");for(const r of e)await n.store.put(r);await n.done}async function Px(e){await(await Ur()).put("settings",e,Zm)}async function ef(){return await(await Ur()).get("settings",Zm)??{...sn}}async function Ra(e){await(await Ur()).put("modelConfigs",e,Qm)}async function Bx(){const t=await(await Ur()).get("modelConfigs",Qm);return t&&t.length>0?t:Bo.map(n=>({...n,isCustom:!1,provider:"gemini"}))}async function Fx(){return await(await Ur()).delete("modelConfigs",Qm),Bo.map(t=>({...t,isCustom:!1,provider:"gemini"}))}async function $x(){const e=await Jm(),t=await ef(),n={version:Tx,exportedAt:Date.now(),conversations:e,settings:t};return JSON.stringify(n,null,2)}function x3(e){if(typeof e!="object"||e===null)return!1;const t=e;if(typeof t.version!="string"||typeof t.exportedAt!="number"||!Array.isArray(t.conversations)||typeof t.settings!="object"||t.settings===null)return!1;for(const n of t.conversations)if(!b3(n))return!1;return!!v3(t.settings)}function b3(e){if(typeof e!="object"||e===null)return!1;const t=e;return typeof t.id=="string"&&typeof t.title=="string"&&Array.isArray(t.messages)&&typeof t.model=="string"&&typeof t.createdAt=="number"&&typeof t.updatedAt=="number"}function v3(e){if(typeof e!="object"||e===null)return!1;const t=e;return typeof t.apiEndpoint=="string"&&typeof t.apiKey=="string"&&typeof t.currentModel=="string"&&typeof t.generationConfig=="object"&&Array.isArray(t.safetySettings)&&typeof t.systemInstruction=="string"&&typeof t.theme=="string"&&typeof t.sidebarCollapsed=="boolean"}async function Hx(e){let t;try{t=JSON.parse(e)}catch{throw new Error(" JSON ")}if(!x3(t))throw new Error("");const r=(await Ur()).transaction(["conversations","settings"],"readwrite");await r.objectStore("conversations").clear();for(const a of t.conversations)await r.objectStore("conversations").put(a);await r.objectStore("settings").put(t.settings,Zm),await r.done}const y3=Object.freeze(Object.defineProperty({__proto__:null,deleteChatWindow:Dx,exportAllData:$x,getAllChatWindows:Ox,getAllConversations:Jm,getSettings:ef,importData:Hx,loadModelConfigs:Bx,resetModelConfigs:Fx,saveAllChatWindows:zx,saveChatWindow:Pt,saveModelConfigs:Ra,saveSettings:Px},Symbol.toStringTag,{value:"Module"}));class In extends Error{constructor(t,n,r){super(t),this.statusCode=n,this.errorType=r,this.name="GeminiApiError"}}class Oa extends Error{constructor(n,r="",a="",s=[]){super(n);ps(this,"partialResponse");ps(this,"partialThought");ps(this,"partialImages");this.name="GeminiRequestCancelledWithThoughtsError",this.partialResponse=r,this.partialThought=a,this.partialImages=s}}const k3=100;function Ux(){return`req-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}const oc=oa((e,t)=>({requestHistory:[],selectedRequestId:null,debugEnabled:!1,maxHistorySize:k3,setDebugEnabled:n=>{e({debugEnabled:n})},addRequestRecord:n=>{const r=t();if(!r.debugEnabled)return;const a=[n,...r.requestHistory].slice(0,r.maxHistorySize);e({requestHistory:a})},updateRequestRecord:(n,r)=>{const s=t().requestHistory.map(l=>l.id===n?{...l,...r}:l);e({requestHistory:s})},selectRequest:n=>{e({selectedRequestId:n})},clearHistory:()=>{e({requestHistory:[],selectedRequestId:null})},getRequestRecord:n=>t().requestHistory.find(a=>a.id===n),setMaxHistorySize:n=>{const a=t().requestHistory.slice(0,n);e({maxHistorySize:n,requestHistory:a})}}));function w3(e,t,n,r){return{id:Ux(),timestamp:Date.now(),url:e,method:t,headers:n,body:r}}function tf(e,t,n){const r=oc.getState();if(!r.debugEnabled)return null;const a=Ux(),s=Date.now(),l=e.replace(/key=[^&]+/,"key=***"),c=w3(l,t,{"Content-Type":"application/json"},n);return c.id=a,c.timestamp=s,r.addRequestRecord(c),{requestId:a,startTime:s}}function _o(e,t,n,r,a){const s=oc.getState();if(!s.debugEnabled)return;const l=Date.now()-t;s.updateRequestRecord(e,{statusCode:n,response:r,duration:l,ttfb:a})}function ei(e,t,n,r,a){const s=oc.getState();if(!s.debugEnabled)return;const l=Date.now()-t;let c=a;if(a)try{c=JSON.parse(a)}catch{c=a}s.updateRequestRecord(e,{statusCode:r,error:n,duration:l,response:c})}function S3(e){return!e||typeof e!="string"?"openai":e.toLowerCase().trim().includes("generativelanguage.googleapis.com")?"gemini":"openai"}const P1={"gemini-3-pro-preview":{supportsThinking:!0,supportsMediaResolution:!0,maxInputTokens:1048576,maxOutputTokens:65536,thinkingConfigType:"level",supportedThinkingLevels:["low","high"],supportsThoughtSummary:!0},"gemini-3-flash-preview":{supportsThinking:!0,supportsMediaResolution:!0,maxInputTokens:1048576,maxOutputTokens:65536,thinkingConfigType:"level",supportedThinkingLevels:["minimal","low","medium","high"],supportsThoughtSummary:!0},"gemini-3-pro-image-preview":{supportsThinking:!1,supportsMediaResolution:!1,supportsImageGeneration:!0,supportsImageSize:!0,maxInputTokens:65536,maxOutputTokens:32768,thinkingConfigType:"none",supportsThoughtSummary:!0},"gemini-2.5-pro":{supportsThinking:!0,supportsMediaResolution:!0,maxInputTokens:1048576,maxOutputTokens:65536,thinkingConfigType:"budget",thinkingBudgetConfig:{min:128,max:32768,defaultValue:-1,canDisable:!1},supportsThoughtSummary:!0},"gemini-2.5-flash":{supportsThinking:!0,supportsMediaResolution:!0,maxInputTokens:1048576,maxOutputTokens:65536,thinkingConfigType:"budget",thinkingBudgetConfig:{min:0,max:24576,defaultValue:-1,canDisable:!0},supportsThoughtSummary:!0},"gemini-2.5-flash-lite":{supportsThinking:!1,supportsMediaResolution:!0,maxInputTokens:1048576,maxOutputTokens:65536,thinkingConfigType:"budget",thinkingBudgetConfig:{min:0,max:24576,defaultValue:0,canDisable:!0},supportsThoughtSummary:!1},"gemini-2.5-flash-image":{supportsThinking:!1,supportsMediaResolution:!1,supportsImageGeneration:!0,supportsImageSize:!1,maxInputTokens:65536,maxOutputTokens:32768,thinkingConfigType:"none",supportsThoughtSummary:!1},"gemini-2.0-flash":{supportsThinking:!1,supportsMediaResolution:!0,maxInputTokens:1048576,maxOutputTokens:8192,thinkingConfigType:"none",supportsThoughtSummary:!1},"gemini-2.0-flash-lite":{supportsThinking:!1,supportsMediaResolution:!0,maxInputTokens:1048576,maxOutputTokens:8192,thinkingConfigType:"none",supportsThoughtSummary:!1}};function ta(e){if(!e||typeof e!="string")return{};const t=e.toLowerCase().trim();if(P1[t])return{...P1[t]};const n={};return t.startsWith("gemini-3")?(n.supportsMediaResolution=!0,t.includes("-image")?(n.supportsImageGeneration=!0,n.supportsThinking=!1,n.thinkingConfigType="none",n.supportsThoughtSummary=!0):(n.supportsThinking=!0,n.thinkingConfigType="level",n.supportsThoughtSummary=!0),n):t.startsWith("gemini-2.5")?(n.supportsMediaResolution=!0,t.includes("-image")?(n.supportsImageGeneration=!0,n.supportsThinking=!1,n.thinkingConfigType="none",n.supportsThoughtSummary=!1):t.includes("-lite")?(n.supportsThinking=!1,n.thinkingConfigType="budget",n.thinkingBudgetConfig={min:0,max:24576,defaultValue:0,canDisable:!0},n.supportsThoughtSummary=!1):t.includes("-flash")?(n.supportsThinking=!0,n.thinkingConfigType="budget",n.thinkingBudgetConfig={min:0,max:24576,defaultValue:-1,canDisable:!0},n.supportsThoughtSummary=!0):(n.supportsThinking=!0,n.thinkingConfigType="budget",n.thinkingBudgetConfig={min:128,max:32768,defaultValue:-1,canDisable:!1},n.supportsThoughtSummary=!0),n):t.startsWith("gemini-2.0")||t.startsWith("gemini-2-")||t.startsWith("gemini-1.5")||t.startsWith("gemini-1-")?(n.supportsThinking=!1,n.supportsMediaResolution=!0,n.thinkingConfigType="none",n.supportsThoughtSummary=!1,n):(t.startsWith("gemini")&&(n.supportsMediaResolution=!0,n.thinkingConfigType="none",n.supportsThoughtSummary=!1),n)}async function E3(e,t){var a;if(!e||!t)throw new Error("API ");const r=`${e.replace(/\/+$/,"")}/models?key=${t}`;try{const s=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const c=await s.text();let d=`: ${s.status}`;try{const f=JSON.parse(c);(a=f.error)!=null&&a.message&&(d=f.error.message)}catch{}throw new Error(d)}return(await s.json()).models.filter(c=>{var d;return(d=c.supportedGenerationMethods)==null?void 0:d.includes("generateContent")}).map(c=>{const d=c.name.replace("models/","");return{id:d,name:c.displayName||d,description:c.description||"",provider:"gemini",capabilities:ta(d)}})}catch(s){throw s instanceof Error?s:new Error("")}}async function N3(e,t){var a;if(!e||!t)throw new Error("API ");const r=`${e.replace(/\/+$/,"")}/v1/models`;try{const s=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const c=await s.text();let d=`: ${s.status}`;try{const f=JSON.parse(c);(a=f.error)!=null&&a.message&&(d=f.error.message)}catch{}throw new Error(d)}return(await s.json()).data.map(c=>({id:c.id,name:c.id,description:c.owned_by?` ${c.owned_by} `:"",provider:"openai",capabilities:{}}))}catch(s){throw s instanceof Error?s:new Error("")}}async function T3(e,t){const n=S3(e);try{return n==="gemini"?await E3(e,t):await N3(e,t)}catch(r){throw r}}function Wx(e,t){return C3(e,t).capabilities}function C3(e,t){if(!e||!t||t.length===0)return{capabilities:{},redirectChain:[],hasCircularRedirect:!1};const n=new Map;for(const c of t)n.set(c.id,c);const r=n.get(e);if(!r)return{capabilities:{},redirectChain:[],hasCircularRedirect:!1};if(!r.redirectTo)return{capabilities:r.capabilities||ta(e),redirectChain:[e],hasCircularRedirect:!1};const a=new Set,s=[];let l=e;for(;l;){if(a.has(l))return console.warn(`: ${s.join(" -> ")} -> ${l}`),{capabilities:{},redirectChain:s,hasCircularRedirect:!0};a.add(l),s.push(l);const c=n.get(l);if(!c){const d=s.length>=2?s[s.length-2]:void 0;if(d){const f=n.get(d);if(f)return{capabilities:f.capabilities||ta(d),redirectChain:s,hasCircularRedirect:!1}}return{capabilities:{},redirectChain:s,hasCircularRedirect:!1}}if(!c.redirectTo)return{capabilities:c.capabilities||ta(l),redirectChain:s,hasCircularRedirect:!1};l=c.redirectTo}return{capabilities:{},redirectChain:s,hasCircularRedirect:!1}}function _3(e,t){return M3(e,t).config}function M3(e,t){if(!e||!t||t.length===0)return{config:{},redirectChain:[],hasCircularRedirect:!1};const n=new Map;for(const c of t)n.set(c.id,c);const r=n.get(e);if(!r)return{config:{},redirectChain:[],hasCircularRedirect:!1};if(!r.redirectTo)return{config:r.advancedConfig||{},redirectChain:[e],hasCircularRedirect:!1};const a=new Set,s=[];let l=e;for(;l;){if(a.has(l))return{config:{},redirectChain:s,hasCircularRedirect:!0};a.add(l),s.push(l);const c=n.get(l);if(!c){const d=s[s.length-2],f=d?n.get(d):void 0;return{config:(f==null?void 0:f.advancedConfig)||{},redirectChain:s,hasCircularRedirect:!1}}if(!c.redirectTo)return{config:c.advancedConfig||{},redirectChain:s,hasCircularRedirect:!1};l=c.redirectTo}return{config:{},redirectChain:s,hasCircularRedirect:!1}}const A3=new Set(Bo.map(e=>e.id));function B1(e){return!e||typeof e!="string"?!1:A3.has(e)}function I3(e,t){const n=new Map;for(const a of t)n.set(a.id,a);const r=new Map;for(const a of e){const s=n.get(a.id);B1(a.id)?s?r.set(a.id,{...s,isCustom:!1}):r.set(a.id,{...a,isCustom:!1}):s?r.set(a.id,{...a,...s,capabilities:s.capabilities||a.capabilities,isCustom:!0}):r.set(a.id,{...a,isCustom:!0})}for(const a of t)if(!r.has(a.id)){const s=B1(a.id);r.set(a.id,{...a,isCustom:!s})}return Array.from(r.values())}function j3(e,t){return e.map(n=>({...n,enabled:t.has(n.id)?void 0:!1}))}function qx(e){return e.filter(t=>t.enabled!==!1)}function R3(e){return[...e].sort((t,n)=>{const r=t.enabled!==!1,a=n.enabled!==!1;return r&&!a?-1:!r&&a?1:0})}const F1={debug:0,info:1,warn:2,error:3},L3={debug:"DEBUG",info:"INFO",warn:"WARN",error:"ERROR"},O3={minLevel:"debug",enabled:!0};let $1={...O3};function D3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0");return`${t}-${n}-${r} ${a}:${s}:${l}`}function z3(e,t,n){return`[${D3()}] [${L3[e]}] [${t}] ${n}`}function P3(e){return $1.enabled?F1[e]>=F1[$1.minLevel]:!1}function nu(e,t,n,r){if(!P3(e))return;const a=z3(e,t,n);switch(e){case"debug":r!==void 0?console.debug(a,r):console.debug(a);break;case"info":r!==void 0?console.info(a,r):console.info(a);break;case"warn":r!==void 0?console.warn(a,r):console.warn(a);break;case"error":r!==void 0?console.error(a,r):console.error(a);break}}function lc(e){return{debug:(t,n)=>nu("debug",e,t,n),info:(t,n)=>nu("info",e,t,n),warn:(t,n)=>nu("warn",e,t,n),error:(t,n)=>nu("error",e,t,n)}}const nf=lc("App"),yn=lc("API"),Ge=lc("Store"),ct=lc("Auth");function B3(){return Bo.map(e=>({...e,isCustom:!1,provider:"gemini",capabilities:ta(e.id)}))}const Cn=oa((e,t)=>({models:B3(),isLoading:!1,error:null,initialized:!1,loadModels:async()=>{e({isLoading:!0,error:null});try{const n=await Bx();e({models:n,initialized:!0,isLoading:!1})}catch(n){Ge.error("",{error:n instanceof Error?n.message:""}),e({error:n instanceof Error?n.message:"",initialized:!0,isLoading:!1})}},fetchModels:async(n,r)=>{e({isLoading:!0,error:null});try{const a=await T3(n,r),s=t().models,l=new Set(s.map(f=>f.id)),c=j3(a,l),d=I3(c,s);e({models:d,isLoading:!1}),await Ra(d)}catch(a){Ge.error("",{error:a instanceof Error?a.message:""}),e({error:a instanceof Error?a.message:"",isLoading:!1})}},addModel:async n=>{const r=t().models,a=r.findIndex(l=>l.id===n.id);let s;if(a>=0)s=[...r],s[a]={...n,isCustom:!0,capabilities:n.capabilities||ta(n.id)};else{const l={...n,isCustom:!0,capabilities:n.capabilities||ta(n.id)};s=[...r,l]}e({models:s}),await Ra(s)},updateModel:async(n,r)=>{const a=t().models,s=a.findIndex(d=>d.id===n);if(s===-1){e({error:` ${n} `});return}const l=[...a],c=l[s];c&&(l[s]={...c,...r}),e({models:l}),await Ra(l)},deleteModel:async n=>{const s=t().models.filter(l=>l.id!==n).map(l=>{if(l.redirectTo===n){const{redirectTo:c,...d}=l;return d}return l});e({models:s}),await Ra(s)},setRedirect:async(n,r)=>{const a=t().models,s=a.findIndex(g=>g.id===n);if(s===-1){e({error:` ${n} `});return}if(!a.some(g=>g.id===r)){e({error:` ${r} `});return}const c=new Set;let d=r;for(;d;){if(d===n){e({error:""});return}if(c.has(d))break;c.add(d);const g=a.find(v=>v.id===d);d=g==null?void 0:g.redirectTo}const f=[...a],h=f[s];h&&(f[s]={...h,redirectTo:r}),e({models:f}),await Ra(f)},clearRedirect:async n=>{const r=t().models,a=r.findIndex(c=>c.id===n);if(a===-1){e({error:` ${n} `});return}const s=[...r],l=s[a];if(l){const{redirectTo:c,...d}=l;s[a]=d}e({models:s}),await Ra(s)},getEffectiveConfig:n=>{const r=t().models;return _3(n,r)},getEffectiveCapabilities:n=>{const r=t().models;return Wx(n,r)},getModelById:n=>t().models.find(r=>r.id===n),resetModels:async()=>{e({isLoading:!0,error:null});try{const n=await Fx();e({models:n,isLoading:!1})}catch(n){Ge.error("",{error:n instanceof Error?n.message:""}),e({error:n instanceof Error?n.message:"",isLoading:!1})}},clearError:()=>{e({error:null})}}));function km(e){try{return Cn.getState().getEffectiveCapabilities(e)}catch{return vx(e)}}function rf(e){const t=e.trim();if(!t)return yx;let n=t.replace(/\/+$/,"");return n.endsWith("/v1beta")||(n=`${n}/v1beta`),n}function uc(e){if(!e||e.trim()==="")return{valid:!0};const t=e.trim();if(!t.startsWith("http://")&&!t.startsWith("https://"))return{valid:!1,error:"URL  http://  https:// "};try{const n=new URL(t);return n.protocol!=="http:"&&n.protocol!=="https:"?{valid:!1,error:"URL  http  https"}:!n.hostname||n.hostname.length===0?{valid:!1,error:"URL "}:{valid:!0}}catch{return{valid:!1,error:"URL "}}}function cc(e,t=!0){const n=rf(e.endpoint),r=`models/${e.model}`,s=`${n}/${r}:${t?"streamGenerateContent":"generateContent"}?key=${e.apiKey}`;return t?`${s}&alt=sse`:s}function dc(e,t,n,r,a,s,l){const c={contents:e};if(t&&Object.keys(t).length>0){const d={};t.temperature!==void 0&&(d.temperature=t.temperature),t.topP!==void 0&&(d.topP=t.topP),t.topK!==void 0&&(d.topK=t.topK),t.maxOutputTokens!==void 0&&(d.maxOutputTokens=t.maxOutputTokens),t.stopSequences!==void 0&&t.stopSequences.length>0&&(d.stopSequences=t.stopSequences),Object.keys(d).length>0&&(c.generationConfig=d)}if(n&&n.length>0&&(c.safetySettings=n),r&&r.trim().length>0&&(c.systemInstruction={role:"user",parts:[{text:r}]}),s){const d=Gx(s,a);d&&(c.generationConfig||(c.generationConfig={}),c.generationConfig.thinkingConfig=d)}else a!=null&&a.thinkingLevel&&(c.generationConfig||(c.generationConfig={}),c.generationConfig.thinkingConfig=Vx(a.thinkingLevel));if(s&&km(s).supportsImageGeneration&&(c.generationConfig||(c.generationConfig={}),c.generationConfig.responseModalities=["TEXT","IMAGE"]),s){const d=km(s);if(d.supportsImageGeneration){c.generationConfig||(c.generationConfig={});const f=(a==null?void 0:a.imageConfig)||za,h=d.supportsImageSize!==!1;c.generationConfig.imageConfig=wm(f,h)}}else a!=null&&a.imageConfig&&(c.generationConfig||(c.generationConfig={}),c.generationConfig.imageConfig=wm(a.imageConfig,!0));return a!=null&&a.mediaResolution&&(c.generationConfig||(c.generationConfig={}),c.generationConfig.mediaResolution=a.mediaResolution),l&&(c.tools=[{googleSearch:{}}]),c}function Gx(e,t){const n=km(e),r=n.thinkingConfigType,a={};let s=!1;if(r==="level")a.thinkingLevel=(t==null?void 0:t.thinkingLevel)||"high",s=!0;else if(r==="budget"){const l=n.thinkingBudgetConfig;if(l){const c=(t==null?void 0:t.thinkingBudget)??l.defaultValue;a.thinkingBudget=c,s=!0}}return n.supportsThoughtSummary&&(t!=null&&t.includeThoughts)&&(a.includeThoughts=!0,s=!0),s?a:void 0}function Vx(e){return{thinkingLevel:e}}function wm(e,t=!0){return t?{aspectRatio:e.aspectRatio,imageSize:e.imageSize}:{aspectRatio:e.aspectRatio}}function af(e){if(e&&typeof e=="object"&&"response"in e){const t=e;if(t.response&&typeof t.response=="object")return t.response}return e}function Sm(e){if(!e.startsWith("data: "))return null;const t=e.slice(6).trim();if(!t||t==="[DONE]")return null;try{const n=JSON.parse(t);return af(n)}catch{return null}}function Bu(e){if(!e.candidates||e.candidates.length===0)return null;const t=e.candidates[0];if(!t||!t.content||!t.content.parts)return null;let n="",r="",a;const s=[],l=[];for(const c of t.content.parts){"thoughtSignature"in c&&c.thoughtSignature&&(a=c.thoughtSignature);const d="thought"in c&&c.thought===!0;if(d&&"text"in c?r+=c.text:"text"in c&&(n+=c.text),"inlineData"in c&&c.inlineData){const{mimeType:f,data:h}=c.inlineData;f.startsWith("image/")&&(d?s.push({mimeType:f,data:h}):l.push({mimeType:f,data:h}))}}return!n&&!r&&!a&&s.length===0&&l.length===0?null:{text:n,thought:r,thoughtSignature:a,thoughtImages:s.length>0?s:void 0,images:l.length>0?l:void 0}}function Fu(e){if(!e.usageMetadata)return null;const{promptTokenCount:t,candidatesTokenCount:n,totalTokenCount:r,thoughtsTokenCount:a}=e.usageMetadata;return{promptTokens:t||0,completionTokens:n||0,thoughtsTokens:a||0,totalTokens:r||0}}async function Au(e,t,n,r,a,s,l,c,d,f){var J;yn.info("",{model:t.model,messageCount:e.length,webSearchEnabled:d});const h=uc(t.endpoint);if(!h.valid)throw yn.error("API ",{error:h.error}),new In(h.error||"API ");if(!t.apiKey||t.apiKey.trim()==="")throw yn.error("API "),new In("API ");const g=cc(t,!0),v=dc(e,n,r,a,l,t.model,d);yn.debug("API ",{model:t.model,temperature:n==null?void 0:n.temperature,maxOutputTokens:n==null?void 0:n.maxOutputTokens,thinkingLevel:l==null?void 0:l.thinkingLevel});const x=Date.now(),w=tf(g,"POST",v);let E="",N="",T;const I=[],L=[],B=new Set,D=new Set;let O,te=null;const G=[];try{const z=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v),signal:c});if(O=Date.now()-x,!z.ok){const P=await z.text();let Y=`API : ${z.status}`;try{const ee=JSON.parse(P);(J=ee.error)!=null&&J.message&&(Y=ee.error.message)}catch{}throw w&&ei(w.requestId,w.startTime,Y,z.status,P),new In(Y,z.status)}if(!z.body)throw w&&ei(w.requestId,w.startTime,""),new In("");const ie=z.body.getReader(),se=new TextDecoder;let de="";for(;;){if(c!=null&&c.aborted)throw ie.cancel(),yn.info("",{partialResponseLength:E.length,partialThoughtLength:N.length}),w&&_o(w.requestId,w.startTime,200,{cancelled:!0,partialResponse:E,partialThought:N},O),new Oa("",E,N,I);const{done:P,value:Y}=await ie.read();if(P)break;de+=se.decode(Y,{stream:!0});const ee=de.split(`
`);de=ee.pop()||"";for(const W of ee){const Q=Sm(W);if(Q){G.push(Q);const A=Bu(Q);if(A){if(A.text&&(E+=A.text,s==null||s(A.text)),A.thought&&(N+=A.thought,f==null||f(A.thought)),A.thoughtSignature&&(T=A.thoughtSignature),A.thoughtImages)for(const ne of A.thoughtImages){const R=`${ne.mimeType}:${ne.data.substring(0,100)}`;D.has(R)||(D.add(R),L.push(ne))}if(A.images)for(const ne of A.images){const R=`${ne.mimeType}:${ne.data.substring(0,100)}`;B.has(R)||(B.add(R),I.push(ne))}}const H=Fu(Q);H&&(te=H)}}}if(de){const P=Sm(de);if(P){G.push(P);const Y=Bu(P);if(Y){if(Y.text&&(E+=Y.text,s==null||s(Y.text)),Y.thought&&(N+=Y.thought,f==null||f(Y.thought)),Y.thoughtSignature&&(T=Y.thoughtSignature),Y.thoughtImages)for(const W of Y.thoughtImages){const Q=`${W.mimeType}:${W.data.substring(0,100)}`;D.has(Q)||(D.add(Q),L.push(W))}if(Y.images)for(const W of Y.images){const Q=`${W.mimeType}:${W.data.substring(0,100)}`;B.has(Q)||(B.add(Q),I.push(W))}}const ee=Fu(P);ee&&(te=ee)}}yn.info("",{responseLength:E.length,hasThought:!!N,imageCount:I.length,thoughtImageCount:L.length,hasTokenUsage:!!te});const K=Date.now()-x;return w&&_o(w.requestId,w.startTime,200,G,O),{text:E,thoughtSummary:N||void 0,thoughtSignature:T,images:I.length>0?I:void 0,thoughtImages:L.length>0?L:void 0,duration:K,ttfb:O,tokenUsage:te||void 0}}catch(z){throw z instanceof Oa?z:z instanceof DOMException&&z.name==="AbortError"?(yn.info("",{partialResponseLength:E.length,partialThoughtLength:N.length}),w&&_o(w.requestId,w.startTime,200,{cancelled:!0,partialResponse:E,partialThought:N},O),new Oa("",E,N,I)):z instanceof In?(yn.error("Gemini API ",{type:z.errorType,message:z.message}),w&&ei(w.requestId,w.startTime,z.message,z.statusCode),z):z instanceof TypeError&&z.message.includes("fetch")?(yn.error("",{message:z.message}),w&&ei(w.requestId,w.startTime,""),new In("",void 0,"NETWORK_ERROR")):(yn.error("",{error:z instanceof Error?z.message:""}),w&&ei(w.requestId,w.startTime,z instanceof Error?z.message:""),new In(z instanceof Error?z.message:"",void 0,"UNKNOWN_ERROR"))}}async function Iu(e,t,n,r,a,s,l){var v;yn.info("",{model:t.model,messageCount:e.length,webSearchEnabled:l});const c=uc(t.endpoint);if(!c.valid)throw yn.error("API ",{error:c.error}),new In(c.error||"API ");if(!t.apiKey||t.apiKey.trim()==="")throw yn.error("API "),new In("API ");const d=cc(t,!1),f=dc(e,n,r,a,s,t.model,l);yn.debug("API ",{model:t.model,temperature:n==null?void 0:n.temperature,maxOutputTokens:n==null?void 0:n.maxOutputTokens,thinkingLevel:s==null?void 0:s.thinkingLevel,includeThoughts:s==null?void 0:s.includeThoughts});const h=Date.now(),g=tf(d,"POST",f);try{const x=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),w=Date.now()-h;if(!x.ok){const J=await x.text();let z=`API : ${x.status}`;try{const ie=JSON.parse(J);(v=ie.error)!=null&&v.message&&(z=ie.error.message)}catch{}throw yn.error("API ",{status:x.status,message:z}),g&&ei(g.requestId,g.startTime,z,x.status,J),new In(z,x.status)}const E=await x.json(),N=af(E),T=Date.now()-h,I=Bu(N),L=(I==null?void 0:I.text)||"",B=(I==null?void 0:I.thought)||void 0,D=I==null?void 0:I.thoughtSignature,O=I==null?void 0:I.thoughtImages,te=I==null?void 0:I.images,G=Fu(N)||void 0;return yn.info("",{responseLength:L.length,hasThought:!!B,imageCount:(te==null?void 0:te.length)||0,thoughtImageCount:(O==null?void 0:O.length)||0,hasTokenUsage:!!G}),g&&_o(g.requestId,g.startTime,200,E,w),{text:L,thoughtSummary:B,thoughtSignature:D,images:te&&te.length>0?te:void 0,thoughtImages:O&&O.length>0?O:void 0,duration:T,ttfb:w,tokenUsage:G}}catch(x){throw x instanceof In?(yn.error("Gemini API ",{type:x.errorType,message:x.message}),g&&ei(g.requestId,g.startTime,x.message,x.statusCode),x):x instanceof TypeError&&x.message.includes("fetch")?(yn.error("",{message:x.message}),g&&ei(g.requestId,g.startTime,""),new In("",void 0,"NETWORK_ERROR")):(yn.error("",{error:x instanceof Error?x.message:""}),g&&ei(g.requestId,g.startTime,x instanceof Error?x.message:""),new In(x instanceof Error?x.message:"",void 0,"UNKNOWN_ERROR"))}}async function Kx(e){var t;try{const n=uc(e.endpoint);if(!n.valid)return{success:!1,error:n.error};if(!e.apiKey||e.apiKey.trim()==="")return{success:!1,error:"API "};const r=[{role:"user",parts:[{text:"Hi"}]}],a=cc(e,!1),s=dc(r,{maxOutputTokens:10}),l=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok){const c=await l.text();let d=`: ${l.status}`;try{const f=JSON.parse(c);(t=f.error)!=null&&t.message&&(d=f.error.message)}catch{}switch(l.status){case 401:return{success:!1,error:"API "};case 429:return{success:!1,error:""};case 500:case 502:case 503:return{success:!1,error:""};default:return{success:!1,error:d}}}return{success:!0}}catch(n){return n instanceof TypeError&&n.message.includes("fetch")?{success:!1,error:""}:{success:!1,error:n instanceof Error?n.message:""}}}const F3=Object.freeze(Object.defineProperty({__proto__:null,GeminiApiError:In,GeminiRequestCancelledWithThoughtsError:Oa,buildImageConfig:wm,buildRequestBody:dc,buildRequestUrl:cc,buildThinkingConfig:Vx,buildThinkingConfigForModel:Gx,completeDebugRecord:_o,extractThoughtSummary:Bu,extractTokenUsage:Fu,failDebugRecord:ei,normalizeApiEndpoint:rf,parseSSELine:Sm,sendMessageNonStreamingWithThoughts:Iu,sendMessageWithThoughts:Au,startDebugRecord:tf,testConnection:Kx,unwrapResponseData:af,validateApiEndpoint:uc},Symbol.toStringTag,{value:"Module"}));async function Tr(e){const t={apiEndpoint:e.apiEndpoint,apiKey:e.apiKey,currentModel:e.currentModel,generationConfig:e.generationConfig,safetySettings:e.safetySettings,systemInstruction:e.systemInstruction,theme:e.theme,sidebarCollapsed:e.sidebarCollapsed,streamingEnabled:e.streamingEnabled};await Px(t)}const Jt=oa((e,t)=>({apiEndpoint:sn.apiEndpoint,apiKey:sn.apiKey,currentModel:sn.currentModel,generationConfig:{...sn.generationConfig},safetySettings:[...sn.safetySettings],systemInstruction:sn.systemInstruction,theme:sn.theme,sidebarCollapsed:sn.sidebarCollapsed,streamingEnabled:sn.streamingEnabled,initialized:!1,isLoading:!1,connectionStatus:"idle",connectionError:null,loadSettings:async()=>{e({isLoading:!0});try{const n=await ef();e({apiEndpoint:n.apiEndpoint,apiKey:n.apiKey,currentModel:n.currentModel,generationConfig:{...n.generationConfig},safetySettings:[...n.safetySettings],systemInstruction:n.systemInstruction,theme:n.theme,sidebarCollapsed:n.sidebarCollapsed,streamingEnabled:n.streamingEnabled??sn.streamingEnabled,initialized:!0,isLoading:!1})}catch(n){Ge.error("",{error:n instanceof Error?n.message:""}),e({initialized:!0,isLoading:!1})}},updateApiConfig:n=>{const r={};n.endpoint!==void 0&&(r.apiEndpoint=n.endpoint),n.apiKey!==void 0&&(r.apiKey=n.apiKey),n.model!==void 0&&(r.currentModel=n.model),e(r),Tr(t()).catch(a=>{Ge.error(" API ",{error:a instanceof Error?a.message:""})})},setApiEndpoint:n=>{e({apiEndpoint:n,connectionStatus:"idle",connectionError:null}),Tr(t()).catch(r=>{Ge.error(" API ",{error:r instanceof Error?r.message:""})})},setApiKey:n=>{e({apiKey:n,connectionStatus:"idle",connectionError:null}),Tr(t()).catch(r=>{Ge.error(" API ",{error:r instanceof Error?r.message:""})})},setCurrentModel:n=>{e({currentModel:n}),Tr(t()).catch(r=>{Ge.error("",{error:r instanceof Error?r.message:""})})},updateGenerationConfig:n=>{const a={...t().generationConfig,...n};e({generationConfig:a}),Tr(t()).catch(s=>{Ge.error("",{error:s instanceof Error?s.message:""})})},updateSafetySettings:n=>{e({safetySettings:[...n]}),Tr(t()).catch(r=>{Ge.error("",{error:r instanceof Error?r.message:""})})},updateSystemInstruction:n=>{e({systemInstruction:n}),Tr(t()).catch(r=>{Ge.error("",{error:r instanceof Error?r.message:""})})},setTheme:n=>{e({theme:n}),Tr(t()).catch(r=>{Ge.error("",{error:r instanceof Error?r.message:""})})},toggleSidebar:()=>{const n=t().sidebarCollapsed;e({sidebarCollapsed:!n}),Tr(t()).catch(r=>{Ge.error("",{error:r instanceof Error?r.message:""})})},setSidebarCollapsed:n=>{e({sidebarCollapsed:n}),Tr(t()).catch(r=>{Ge.error("",{error:r instanceof Error?r.message:""})})},setStreamingEnabled:n=>{e({streamingEnabled:n}),Tr(t()).catch(r=>{Ge.error("",{error:r instanceof Error?r.message:""})})},testConnection:async n=>{e({connectionStatus:"testing",connectionError:null});try{const r=t().getApiConfig(),a=rf(r.endpoint),s=n?{...r,endpoint:a,model:n}:{...r,endpoint:a},l=await Kx(s);return l.success?(e({connectionStatus:"success",connectionError:null}),!0):(e({connectionStatus:"error",connectionError:l.error||""}),!1)}catch(r){const a=r instanceof Error?r.message:"";return e({connectionStatus:"error",connectionError:a}),!1}},getApiConfig:()=>{const n=t();return{endpoint:n.apiEndpoint,apiKey:n.apiKey,model:n.currentModel}},getFullSettings:()=>{const n=t();return{apiEndpoint:n.apiEndpoint,apiKey:n.apiKey,currentModel:n.currentModel,generationConfig:{...n.generationConfig},safetySettings:[...n.safetySettings],systemInstruction:n.systemInstruction,theme:n.theme,sidebarCollapsed:n.sidebarCollapsed,streamingEnabled:n.streamingEnabled}},resetToDefaults:()=>{e({apiEndpoint:sn.apiEndpoint,apiKey:sn.apiKey,currentModel:sn.currentModel,generationConfig:{...sn.generationConfig},safetySettings:[...sn.safetySettings],systemInstruction:sn.systemInstruction,theme:sn.theme,sidebarCollapsed:sn.sidebarCollapsed,streamingEnabled:sn.streamingEnabled,connectionStatus:"idle",connectionError:null}),Tr(t()).catch(n=>{Ge.error("",{error:n instanceof Error?n.message:""})})}})),ru=Object.freeze(Object.defineProperty({__proto__:null,useSettingsStore:Jt},Symbol.toStringTag,{value:"Module"})),$3="modulepreload",H3=function(e){return"/"+e},H1={},on=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(n.map(f=>{if(f=H3(f),f in H1)return;H1[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":$3,h||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),h)return new Promise((x,w)=>{v.addEventListener("load",x),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function yi(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function U3(e,t=!1){const n=[];if(e.content&&n.push({text:e.content}),t&&e.role==="model")e.thoughtSignature&&n.push({thoughtSignature:e.thoughtSignature});else if(e.attachments&&e.attachments.length>0)for(const r of e.attachments)n.push({inlineData:{mimeType:r.mimeType,data:r.data}});return{role:e.role,parts:n}}function xd(e,t=!1){return e.map(n=>U3(n,t))}const W3=(e,t)=>({loadWindows:async()=>{Ge.info(""),e({isLoading:!0,error:null});try{const n=await Ox();Ge.info("",{count:n.length}),e({windows:n,initialized:!0,isLoading:!1})}catch(n){Ge.error("",{error:n instanceof Error?n.message:""}),e({error:n instanceof Error?n.message:"",initialized:!0,isLoading:!1})}},createWindow:n=>{const r=yi(),a=yi(),s={...Co,...n},l=o3(r,"",s,a);return e(c=>({windows:[l,...c.windows],activeWindowId:l.id})),Pt(l).catch(c=>{Ge.error("",{error:c instanceof Error?c.message:"",windowId:r})}),l},updateWindow:async(n,r)=>{const s=t().windows.find(c=>c.id===n);if(!s)return;const l={...s,...r,updatedAt:Date.now()};e(c=>({windows:c.windows.map(d=>d.id===n?l:d)}));try{await Pt(l)}catch(c){Ge.error("",{error:c instanceof Error?c.message:"",windowId:n})}},deleteWindow:async n=>{const r=t(),a=r.windows.filter(l=>l.id!==n);let s=r.activeWindowId;if(r.activeWindowId===n){const l=a[0];s=l?l.id:null}e({windows:a,activeWindowId:s});try{await Dx(n)}catch(l){Ge.error("",{error:l instanceof Error?l.message:"",windowId:n})}},selectWindow:n=>{t().windows.find(s=>s.id===n)&&e({activeWindowId:n,error:null})},updateWindowConfig:async(n,r)=>{var d,f,h;const s=t().windows.find(g=>g.id===n);if(!s)return;const l=r.advancedConfig!==void 0?{...s.config.advancedConfig,...r.advancedConfig,imageConfig:((d=r.advancedConfig)==null?void 0:d.imageConfig)!==void 0?{...(f=s.config.advancedConfig)==null?void 0:f.imageConfig,...r.advancedConfig.imageConfig}:(h=s.config.advancedConfig)==null?void 0:h.imageConfig}:s.config.advancedConfig,c={...s,config:{...s.config,...r,generationConfig:{...s.config.generationConfig,...r.generationConfig||{}},advancedConfig:l},updatedAt:Date.now()};e(g=>({windows:g.windows.map(v=>v.id===n?c:v)}));try{await Pt(c)}catch(g){Ge.error("",{error:g instanceof Error?g.message:"",windowId:n})}},updateAdvancedConfig:async(n,r)=>{var d,f;const s=t().windows.find(h=>h.id===n);if(!s)return;const l={...s.config.advancedConfig,...r,imageConfig:r.imageConfig!==void 0?{...(d=s.config.advancedConfig)==null?void 0:d.imageConfig,...r.imageConfig}:(f=s.config.advancedConfig)==null?void 0:f.imageConfig},c={...s,config:{...s.config,advancedConfig:l},updatedAt:Date.now()};e(h=>({windows:h.windows.map(g=>g.id===n?c:g)}));try{await Pt(c)}catch(h){Ge.error("",{error:h instanceof Error?h.message:"",windowId:n})}},reorderWindows:async n=>{e({windows:n});try{const{saveAllChatWindows:r}=await on(async()=>{const{saveAllChatWindows:a}=await Promise.resolve().then(()=>y3);return{saveAllChatWindows:a}},void 0);await r(n)}catch(r){Ge.error("",{error:r instanceof Error?r.message:"",windowCount:n.length})}}}),q3=(e,t)=>({createSubTopic:(n,r)=>{const s=t().windows.find(f=>f.id===n);if(!s)return null;const l=yi(),c=Mx(l,r||` ${s.subTopics.length+1}`),d={...s,subTopics:[...s.subTopics,c],activeSubTopicId:c.id,updatedAt:Date.now()};return e(f=>({windows:f.windows.map(h=>h.id===n?d:h)})),Pt(d).catch(f=>{Ge.error("",{error:f instanceof Error?f.message:"",windowId:n,subTopicId:l})}),c},updateSubTopic:async(n,r,a)=>{const l=t().windows.find(v=>v.id===n);if(!l)return;const c=l.subTopics.findIndex(v=>v.id===r);if(c===-1)return;const d=l.subTopics[c];if(!d)return;const f={...d,...a,updatedAt:Date.now()},h=[...l.subTopics];h[c]=f;const g={...l,subTopics:h,updatedAt:Date.now()};e(v=>({windows:v.windows.map(x=>x.id===n?g:x)}));try{await Pt(g)}catch(v){Ge.error("",{error:v instanceof Error?v.message:"",windowId:n,subTopicId:r})}},deleteSubTopic:async(n,r)=>{const s=t().windows.find(f=>f.id===n);if(!s)return;if(s.subTopics.length<=1){e({error:""});return}const l=s.subTopics.filter(f=>f.id!==r);let c=s.activeSubTopicId;if(s.activeSubTopicId===r){const f=l[0];c=f?f.id:""}const d={...s,subTopics:l,activeSubTopicId:c,updatedAt:Date.now()};e(f=>({windows:f.windows.map(h=>h.id===n?d:h)}));try{await Pt(d)}catch(f){Ge.error("",{error:f instanceof Error?f.message:"",windowId:n,subTopicId:r})}},selectSubTopic:(n,r)=>{const s=t().windows.find(d=>d.id===n);if(!s||!s.subTopics.find(d=>d.id===r))return;const c={...s,activeSubTopicId:r,updatedAt:Date.now()};e(d=>({windows:d.windows.map(f=>f.id===n?c:f)})),Pt(c).catch(d=>{Ge.error("",{error:d instanceof Error?d.message:"",windowId:n,subTopicId:r})})}}),U1={MAX_TITLE_LENGTH:30},ra={SINGLE_MAX_WIDTH:240,SINGLE_MAX_HEIGHT:200,MULTI_MAX_WIDTH:150,MULTI_MAX_HEIGHT:130},G3=(e,t)=>({sendMessage:async(n,r,a,s,l,c)=>{var I,L;let f=t().windows.find(B=>B.id===n);f||(f=t().createWindow(),n=f.id,r=f.activeSubTopicId);const h=f.subTopics.find(B=>B.id===r);if(!h){e({error:""});return}const g={id:yi(),role:"user",content:a,attachments:s,timestamp:Date.now()},v=[...h.messages,g],x={...h,messages:v,updatedAt:Date.now()};let w=f.title;h.messages.length===0&&f.subTopics.length===1&&(w=a.slice(0,U1.MAX_TITLE_LENGTH)+(a.length>U1.MAX_TITLE_LENGTH?"...":""));const E=f.subTopics.map(B=>B.id===r?x:B),N={...f,title:w,subTopics:E,updatedAt:Date.now()},T=new AbortController;e(B=>({windows:B.windows.map(D=>D.id===n?N:D),isSending:!0,error:null,streamingText:"",streamingThought:"",currentRequestController:T})),await Pt(N);try{const B=l||{endpoint:"",apiKey:"",model:f.config.model},{useSettingsStore:D}=await on(async()=>{const{useSettingsStore:fe}=await Promise.resolve().then(()=>ru);return{useSettingsStore:fe}},void 0),O=D.getState();(!B.endpoint||!B.apiKey)&&(B.endpoint=O.apiEndpoint,B.apiKey=O.apiKey);const{resolveStreamingEnabled:te}=await on(async()=>{const{resolveStreamingEnabled:fe}=await Promise.resolve().then(()=>hm);return{resolveStreamingEnabled:fe}},void 0),G=te(f.config,O.getFullSettings()),J=c||{...Cn.getState().getEffectiveConfig(f.config.model),...f.config.advancedConfig},ie=Cn.getState().getEffectiveCapabilities(f.config.model).supportsImageGeneration===!0;if(ie){const{parseImagePrompt:fe,mergeImageConfig:Me}=await on(async()=>{const{parseImagePrompt:Kt,mergeImageConfig:cn}=await import("./promptParser-Dz5A5ume.js");return{parseImagePrompt:Kt,mergeImageConfig:cn}},[]),{DEFAULT_IMAGE_GENERATION_CONFIG:$e}=await on(async()=>{const{DEFAULT_IMAGE_GENERATION_CONFIG:Kt}=await Promise.resolve().then(()=>hd);return{DEFAULT_IMAGE_GENERATION_CONFIG:Kt}},void 0),Qe=fe(a),kt=J.imageConfig||$e;J.imageConfig=Me(Qe,kt)}const se=xd(v,ie);let de="",K="",P,Y,ee,W,Q,A,H;if(G){const fe=await Au(se,B,f.config.generationConfig,f.config.safetySettings,f.config.systemInstruction,Me=>{de+=Me,e({streamingText:de})},J,T.signal,f.config.webSearchEnabled,Me=>{K+=Me,e({streamingThought:K})});de=fe.text,P=fe.thoughtSummary,Y=fe.thoughtSignature,ee=fe.images,W=fe.thoughtImages,Q=fe.duration,A=fe.ttfb,H=fe.tokenUsage}else{const fe=await Iu(se,B,f.config.generationConfig,f.config.safetySettings,f.config.systemInstruction,J,f.config.webSearchEnabled);de=fe.text,P=fe.thoughtSummary,Y=fe.thoughtSignature,ee=fe.images,Q=fe.duration,A=fe.ttfb,H=fe.tokenUsage}const ne=yi();if(ee&&ee.length>0){const{useImageStore:fe}=await on(async()=>{const{useImageStore:Qe}=await Promise.resolve().then(()=>wd);return{useImageStore:Qe}},void 0),{createGeneratedImage:Me}=await on(async()=>{const{createGeneratedImage:Qe}=await import("./index-CTTa_PiZ.js");return{createGeneratedImage:Qe}},[]),$e=fe.getState();for(const Qe of ee){const kt=Me(Qe.data,Qe.mimeType,{windowId:n,messageId:ne,prompt:a,aspectRatio:(I=J.imageConfig)==null?void 0:I.aspectRatio,imageSize:(L=J.imageConfig)==null?void 0:L.imageSize});await $e.addImage(kt)}}const R={id:ne,role:"model",content:de,timestamp:Date.now(),thoughtSummary:P,thoughtSignature:Y,thoughtImages:W==null?void 0:W.map(fe=>({mimeType:fe.mimeType,data:fe.data})),duration:Q,ttfb:A,tokenUsage:H,generatedImages:ee==null?void 0:ee.map(fe=>({mimeType:fe.mimeType,data:fe.data}))},xe={...x,messages:[...v,R],updatedAt:Date.now()},Ae=N.subTopics.map(fe=>fe.id===r?xe:fe),ce={...N,subTopics:Ae,updatedAt:Date.now()};e(fe=>({windows:fe.windows.map(Me=>Me.id===n?ce:Me),isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(ce)}catch(B){if(B instanceof Oa){if(Ge.info("",{partialResponseLength:B.partialResponse.length,windowId:n,subTopicId:r}),B.partialResponse.length>0){const z={id:yi(),role:"model",content:B.partialResponse,timestamp:Date.now(),thoughtSummary:B.partialThought||void 0},ie={...x,messages:[...v,z],updatedAt:Date.now()},se=N.subTopics.map(K=>K.id===r?ie:K),de={...N,subTopics:se,updatedAt:Date.now()};e(K=>({windows:K.windows.map(P=>P.id===n?de:P),isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(de)}else e({isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null});return}Ge.error("",{error:B instanceof Error?B.message:"",windowId:n,subTopicId:r});let D="";(B instanceof In||B instanceof Error)&&(D=B.message);const O={...g,error:D},te={...x,messages:[...h.messages,O],updatedAt:Date.now()},G=N.subTopics.map(z=>z.id===r?te:z),J={...N,subTopics:G,updatedAt:Date.now()};e(z=>({windows:z.windows.map(ie=>ie.id===n?J:ie),isSending:!1,error:null,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(J)}},editMessage:async(n,r,a,s)=>{const c=t().windows.find(T=>T.id===n);if(!c){e({error:""});return}const d=c.subTopics.find(T=>T.id===r);if(!d){e({error:""});return}const f=d.messages.findIndex(T=>T.id===a);if(f===-1){e({error:""});return}const h=d.messages[f];if(!h||h.role!=="user"){e({error:""});return}const g=d.messages.slice(0,f),v={...d,messages:g,updatedAt:Date.now()},x=c.subTopics.map(T=>T.id===r?v:T),w={...c,subTopics:x,updatedAt:Date.now()};e(T=>({windows:T.windows.map(I=>I.id===n?w:I)})),await Pt(w);const{useSettingsStore:E}=await on(async()=>{const{useSettingsStore:T}=await Promise.resolve().then(()=>ru);return{useSettingsStore:T}},void 0),N=E.getState();await t().sendMessage(n,r,s,h.attachments,{endpoint:N.apiEndpoint,apiKey:N.apiKey,model:c.config.model})},regenerateMessage:async(n,r,a)=>{var v,x;const l=t().windows.find(w=>w.id===n);if(!l){e({error:""});return}const c=l.subTopics.find(w=>w.id===r);if(!c){e({error:""});return}const d=c.messages.findIndex(w=>w.id===a);if(d===-1){e({error:""});return}const f=c.messages[d];if(!f||f.role!=="model"){e({error:" AI "});return}const h=c.messages.slice(0,d),g=new AbortController;e({isSending:!0,error:null,streamingText:"",streamingThought:"",currentRequestController:g});try{const{useSettingsStore:w}=await on(async()=>{const{useSettingsStore:R}=await Promise.resolve().then(()=>ru);return{useSettingsStore:R}},void 0),E=w.getState(),N={endpoint:E.apiEndpoint,apiKey:E.apiKey,model:l.config.model},{resolveStreamingEnabled:T}=await on(async()=>{const{resolveStreamingEnabled:R}=await Promise.resolve().then(()=>hm);return{resolveStreamingEnabled:R}},void 0),I=T(l.config,E.getFullSettings()),L={...Cn.getState().getEffectiveConfig(l.config.model),...l.config.advancedConfig},D=Cn.getState().getEffectiveCapabilities(l.config.model).supportsImageGeneration===!0,O=h.filter(R=>R.role==="user").pop();if(D&&O){const{parseImagePrompt:R,mergeImageConfig:xe}=await on(async()=>{const{parseImagePrompt:Me,mergeImageConfig:$e}=await import("./promptParser-Dz5A5ume.js");return{parseImagePrompt:Me,mergeImageConfig:$e}},[]),{DEFAULT_IMAGE_GENERATION_CONFIG:Ae}=await on(async()=>{const{DEFAULT_IMAGE_GENERATION_CONFIG:Me}=await Promise.resolve().then(()=>hd);return{DEFAULT_IMAGE_GENERATION_CONFIG:Me}},void 0),ce=R(O.content),fe=L.imageConfig||Ae;L.imageConfig=xe(ce,fe)}const te=xd(h,D);let G="",J="",z,ie,se,de,K,P,Y;if(I){const R=await Au(te,N,l.config.generationConfig,l.config.safetySettings,l.config.systemInstruction,xe=>{G+=xe,e({streamingText:G})},L,g.signal,l.config.webSearchEnabled,xe=>{J+=xe,e({streamingThought:J})});G=R.text,z=R.thoughtSummary,ie=R.thoughtSignature,se=R.images,de=R.thoughtImages,K=R.duration,P=R.ttfb,Y=R.tokenUsage}else{const R=await Iu(te,N,l.config.generationConfig,l.config.safetySettings,l.config.systemInstruction,L,l.config.webSearchEnabled);G=R.text,z=R.thoughtSummary,ie=R.thoughtSignature,se=R.images,de=R.thoughtImages,K=R.duration,P=R.ttfb,Y=R.tokenUsage}const ee=(O==null?void 0:O.content)||"";if(se&&se.length>0){const{useImageStore:R}=await on(async()=>{const{useImageStore:ce}=await Promise.resolve().then(()=>wd);return{useImageStore:ce}},void 0),{createGeneratedImage:xe}=await on(async()=>{const{createGeneratedImage:ce}=await import("./index-CTTa_PiZ.js");return{createGeneratedImage:ce}},[]),Ae=R.getState();for(const ce of se){const fe=xe(ce.data,ce.mimeType,{windowId:n,messageId:a,prompt:ee,aspectRatio:(v=L.imageConfig)==null?void 0:v.aspectRatio,imageSize:(x=L.imageConfig)==null?void 0:x.imageSize});await Ae.addImage(fe)}}const W={...f,content:G,timestamp:Date.now(),thoughtSummary:z,thoughtSignature:ie,thoughtImages:de==null?void 0:de.map(R=>({mimeType:R.mimeType,data:R.data})),duration:K,ttfb:P,tokenUsage:Y,generatedImages:se==null?void 0:se.map(R=>({mimeType:R.mimeType,data:R.data}))},Q=[...c.messages];Q[d]=W;const A={...c,messages:Q,updatedAt:Date.now()},H=l.subTopics.map(R=>R.id===r?A:R),ne={...l,subTopics:H,updatedAt:Date.now()};e(R=>({windows:R.windows.map(xe=>xe.id===n?ne:xe),isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(ne)}catch(w){if(w instanceof Oa){if(Ge.info("",{partialResponseLength:w.partialResponse.length,windowId:n,subTopicId:r,messageId:a}),w.partialResponse.length>0){const D={...f,content:w.partialResponse,timestamp:Date.now(),thoughtSummary:w.partialThought||void 0},O=[...c.messages];O[d]=D;const te={...c,messages:O,updatedAt:Date.now()},G=l.subTopics.map(z=>z.id===r?te:z),J={...l,subTopics:G,updatedAt:Date.now()};e(z=>({windows:z.windows.map(ie=>ie.id===n?J:ie),isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(J)}else e({isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null});return}Ge.error("",{error:w instanceof Error?w.message:"",windowId:n,subTopicId:r,messageId:a});let E="";(w instanceof In||w instanceof Error)&&(E=w.message);const N={...f,error:E},T=[...c.messages];T[d]=N;const I={...c,messages:T,updatedAt:Date.now()},L=l.subTopics.map(D=>D.id===r?I:D),B={...l,subTopics:L,updatedAt:Date.now()};e(D=>({windows:D.windows.map(O=>O.id===n?B:O),isSending:!1,error:null,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(B)}},cancelRequest:()=>{const n=t();n.currentRequestController&&(Ge.info(""),n.currentRequestController.abort())},updateMessageError:async(n,r,a,s)=>{const c=t().windows.find(N=>N.id===n);if(!c)return;const d=c.subTopics.find(N=>N.id===r);if(!d)return;const f=d.messages.findIndex(N=>N.id===a);if(f===-1)return;const h=d.messages[f];if(!h)return;const g={...h,error:s||void 0};s===null&&delete g.error;const v=[...d.messages];v[f]=g;const x={...d,messages:v,updatedAt:Date.now()},w=c.subTopics.map(N=>N.id===r?x:N),E={...c,subTopics:w,updatedAt:Date.now()};e(N=>({windows:N.windows.map(T=>T.id===n?E:T)}));try{await Pt(E)}catch(N){Ge.error("",{error:N instanceof Error?N.message:"",windowId:n,subTopicId:r,messageId:a})}},retryUserMessage:async(n,r,a)=>{var T,I;const l=t().windows.find(L=>L.id===n);if(!l){e({error:""});return}const c=l.subTopics.find(L=>L.id===r);if(!c){e({error:""});return}const d=c.messages.findIndex(L=>L.id===a);if(d===-1){e({error:""});return}const f=c.messages[d];if(!f||f.role!=="user"){e({error:""});return}const h={...f};delete h.error;const g=c.messages.slice(0,d+1).map((L,B)=>B===d?h:L),v=new AbortController,x=[...c.messages];x[d]=h;const w={...c,messages:x,updatedAt:Date.now()},E=l.subTopics.map(L=>L.id===r?w:L),N={...l,subTopics:E,updatedAt:Date.now()};e(L=>({windows:L.windows.map(B=>B.id===n?N:B),isSending:!0,error:null,streamingText:"",streamingThought:"",currentRequestController:v})),await Pt(N);try{const{useSettingsStore:L}=await on(async()=>{const{useSettingsStore:ce}=await Promise.resolve().then(()=>ru);return{useSettingsStore:ce}},void 0),B=L.getState(),D={endpoint:B.apiEndpoint,apiKey:B.apiKey,model:l.config.model},{resolveStreamingEnabled:O}=await on(async()=>{const{resolveStreamingEnabled:ce}=await Promise.resolve().then(()=>hm);return{resolveStreamingEnabled:ce}},void 0),te=O(l.config,B.getFullSettings()),G={...Cn.getState().getEffectiveConfig(l.config.model),...l.config.advancedConfig},z=Cn.getState().getEffectiveCapabilities(l.config.model).supportsImageGeneration===!0;if(z){const{parseImagePrompt:ce,mergeImageConfig:fe}=await on(async()=>{const{parseImagePrompt:kt,mergeImageConfig:Kt}=await import("./promptParser-Dz5A5ume.js");return{parseImagePrompt:kt,mergeImageConfig:Kt}},[]),{DEFAULT_IMAGE_GENERATION_CONFIG:Me}=await on(async()=>{const{DEFAULT_IMAGE_GENERATION_CONFIG:kt}=await Promise.resolve().then(()=>hd);return{DEFAULT_IMAGE_GENERATION_CONFIG:kt}},void 0),$e=ce(f.content),Qe=G.imageConfig||Me;G.imageConfig=fe($e,Qe)}const ie=xd(g,z);let se="",de="",K,P,Y,ee,W,Q,A;if(te){const ce=await Au(ie,D,l.config.generationConfig,l.config.safetySettings,l.config.systemInstruction,fe=>{se+=fe,e({streamingText:se})},G,v.signal,l.config.webSearchEnabled,fe=>{de+=fe,e({streamingThought:de})});se=ce.text,K=ce.thoughtSummary,P=ce.thoughtSignature,Y=ce.images,ee=ce.thoughtImages,W=ce.duration,Q=ce.ttfb,A=ce.tokenUsage}else{const ce=await Iu(ie,D,l.config.generationConfig,l.config.safetySettings,l.config.systemInstruction,G,l.config.webSearchEnabled);se=ce.text,K=ce.thoughtSummary,P=ce.thoughtSignature,Y=ce.images,ee=ce.thoughtImages,W=ce.duration,Q=ce.ttfb,A=ce.tokenUsage}if(Y&&Y.length>0){const{useImageStore:ce}=await on(async()=>{const{useImageStore:$e}=await Promise.resolve().then(()=>wd);return{useImageStore:$e}},void 0),{createGeneratedImage:fe}=await on(async()=>{const{createGeneratedImage:$e}=await import("./index-CTTa_PiZ.js");return{createGeneratedImage:$e}},[]),Me=ce.getState();for(const $e of Y){const Qe=fe($e.data,$e.mimeType,{windowId:n,messageId:yi(),prompt:f.content,aspectRatio:(T=G.imageConfig)==null?void 0:T.aspectRatio,imageSize:(I=G.imageConfig)==null?void 0:I.imageSize});await Me.addImage(Qe)}}const H={id:yi(),role:"model",content:se,timestamp:Date.now(),thoughtSummary:K,thoughtSignature:P,thoughtImages:ee==null?void 0:ee.map(ce=>({mimeType:ce.mimeType,data:ce.data})),duration:W,ttfb:Q,tokenUsage:A,generatedImages:Y==null?void 0:Y.map(ce=>({mimeType:ce.mimeType,data:ce.data}))},ne=[...x,H],R={...w,messages:ne,updatedAt:Date.now()},xe=N.subTopics.map(ce=>ce.id===r?R:ce),Ae={...N,subTopics:xe,updatedAt:Date.now()};e(ce=>({windows:ce.windows.map(fe=>fe.id===n?Ae:fe),isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(Ae)}catch(L){if(L instanceof Oa){if(Ge.info("",{partialResponseLength:L.partialResponse.length,windowId:n,subTopicId:r,messageId:a}),L.partialResponse.length>0){const z={id:yi(),role:"model",content:L.partialResponse,timestamp:Date.now(),thoughtSummary:L.partialThought||void 0},ie=[...x,z],se={...w,messages:ie,updatedAt:Date.now()},de=N.subTopics.map(P=>P.id===r?se:P),K={...N,subTopics:de,updatedAt:Date.now()};e(P=>({windows:P.windows.map(Y=>Y.id===n?K:Y),isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(K)}else e({isSending:!1,streamingText:"",streamingThought:"",currentRequestController:null});return}Ge.error("",{error:L instanceof Error?L.message:"",windowId:n,subTopicId:r,messageId:a});let B="";(L instanceof In||L instanceof Error)&&(B=L.message);const D={...h,error:B},O=[...c.messages];O[d]=D;const te={...c,messages:O,updatedAt:Date.now()},G=l.subTopics.map(z=>z.id===r?te:z),J={...l,subTopics:G,updatedAt:Date.now()};e(z=>({windows:z.windows.map(ie=>ie.id===n?J:ie),isSending:!1,error:null,streamingText:"",streamingThought:"",currentRequestController:null})),await Pt(J)}},deleteMessage:async(n,r,a)=>{const l=t().windows.find(x=>x.id===n);if(!l){e({error:""});return}const c=l.subTopics.find(x=>x.id===r);if(!c){e({error:""});return}const d=c.messages.findIndex(x=>x.id===a);if(d===-1){e({error:""});return}const f=c.messages.slice(0,d),h={...c,messages:f,updatedAt:Date.now()},g=l.subTopics.map(x=>x.id===r?h:x),v={...l,subTopics:g,updatedAt:Date.now()};e(x=>({windows:x.windows.map(w=>w.id===n?v:w)}));try{await Pt(v)}catch(x){Ge.error("",{error:x instanceof Error?x.message:"",windowId:n,subTopicId:r,messageId:a})}},updateMessageContent:async(n,r,a,s)=>{const c=t().windows.find(N=>N.id===n);if(!c){e({error:""});return}const d=c.subTopics.find(N=>N.id===r);if(!d){e({error:""});return}const f=d.messages.findIndex(N=>N.id===a);if(f===-1){e({error:""});return}const h=d.messages[f];if(!h||h.role!=="user"){e({error:""});return}const g={...h,content:s},v=[...d.messages];v[f]=g;const x={...d,messages:v,updatedAt:Date.now()},w=c.subTopics.map(N=>N.id===r?x:N),E={...c,subTopics:w,updatedAt:Date.now()};e(N=>({windows:N.windows.map(T=>T.id===n?E:T)}));try{await Pt(E)}catch(N){Ge.error("",{error:N instanceof Error?N.message:"",windowId:n,subTopicId:r,messageId:a})}}}),la=oa((e,t)=>({windows:[],activeWindowId:null,isLoading:!1,isSending:!1,error:null,streamingText:"",streamingThought:"",initialized:!1,currentRequestController:null,...W3(e,t),...q3(e,t),...G3(e,t),getActiveWindow:()=>{const n=t();return n.activeWindowId&&n.windows.find(r=>r.id===n.activeWindowId)||null},getActiveSubTopic:()=>{const r=t().getActiveWindow();return r&&r.subTopics.find(a=>a.id===r.activeSubTopicId)||null},clearError:()=>{e({error:null})},clearStreamingText:()=>{e({streamingText:""})},clearStreamingThought:()=>{e({streamingThought:""})},getTotalTokenUsage:(n,r)=>{const s=t().windows.find(h=>h.id===n),l={promptTokens:0,completionTokens:0,totalTokens:0};if(!s)return l;const c=s.subTopics.find(h=>h.id===r);if(!c)return l;let d=0,f=0;for(const h of c.messages)h.tokenUsage&&(d+=h.tokenUsage.promptTokens||0,f+=h.tokenUsage.completionTokens||0);return{promptTokens:d,completionTokens:f,totalTokens:d+f}}})),ju=[{id:"builtin-code-assistant",name:"",description:"",systemInstruction:"",isBuiltIn:!0,createdAt:0,updatedAt:0},{id:"builtin-translator",name:"",description:"",systemInstruction:"",isBuiltIn:!0,createdAt:0,updatedAt:0},{id:"builtin-writer",name:"",description:"",systemInstruction:"",isBuiltIn:!0,createdAt:0,updatedAt:0},{id:"builtin-analyst",name:"",description:"",systemInstruction:"",isBuiltIn:!0,createdAt:0,updatedAt:0}];function V3(){return`template-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}const K3="gemini-chat-templates-db",Y3=1;let iu=null;async function Yx(){return iu||(iu=await sc(K3,Y3,{upgrade(e){e.objectStoreNames.contains("templates")||e.createObjectStore("templates",{keyPath:"id"}).createIndex("by-updated","updatedAt")}}),iu)}async function bd(e){const n=(await Yx()).transaction("templates","readwrite");await n.store.clear();for(const r of e)await n.store.put(r);await n.done}async function X3(){const t=await(await Yx()).getAll("templates");return t.length===0?[...ju]:t}const sf=oa((e,t)=>({templates:[],initialized:!1,isLoading:!1,loadTemplates:async()=>{e({isLoading:!0});try{const n=await X3(),r=ju.map(d=>d.id),a=n.filter(d=>r.includes(d.id)),s=n.filter(d=>!d.isBuiltIn),c=[...ju.map(d=>a.find(h=>h.id===d.id)||d),...s];e({templates:c,initialized:!0,isLoading:!1})}catch(n){Ge.error("",{error:n instanceof Error?n.message:""}),e({templates:[...ju],initialized:!0,isLoading:!1})}},addTemplate:async n=>{const r=Date.now(),a={...n,id:V3(),isBuiltIn:!1,createdAt:r,updatedAt:r},l=[...t().templates,a];e({templates:l});try{await bd(l)}catch(c){Ge.error("",{error:c instanceof Error?c.message:""})}return a},updateTemplate:async(n,r)=>{const a=t().templates,s=a.findIndex(f=>f.id===n);if(s===-1)return null;const l=a[s];if(!l)return null;const c={...l,...r,updatedAt:Date.now()},d=[...a];d[s]=c,e({templates:d});try{await bd(d)}catch(f){Ge.error("",{error:f instanceof Error?f.message:""})}return c},deleteTemplate:async n=>{const r=t().templates,a=r.find(l=>l.id===n);if(!a||a.isBuiltIn)return!1;const s=r.filter(l=>l.id!==n);e({templates:s});try{await bd(s)}catch(l){Ge.error("",{error:l instanceof Error?l.message:""})}return!0},getTemplateById:n=>t().templates.find(r=>r.id===n)})),vd={fast:"150ms",normal:"200ms"},ir={fast:150,normal:200},ln={easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)"},$u={md:768},Et={minimum:"44px"};var Ci=xx();function gr(){const[e,t]=C.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return C.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=a=>{t(a.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),e}C.createContext({disabled:!1,durationMultiplier:1});const au={width:800,height:600,navWidth:200,mobileNavWidth:160};function Z3(){const[e,t]=C.useState(()=>typeof window<"u"?window.innerWidth<$u.md:!1);return C.useEffect(()=>{const n=()=>{t(window.innerWidth<$u.md)};return window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),e}const Q3=[{id:"api",label:"API ",icon:u.jsx(n6,{})},{id:"model",label:"",icon:u.jsx(r6,{})},{id:"generation",label:"",icon:u.jsx(i6,{})},{id:"system",label:"",icon:u.jsx(a6,{})},{id:"safety",label:"",icon:u.jsx(s6,{})},{id:"data",label:"",icon:u.jsx(o6,{})}];function J3({isOpen:e,onClose:t,initialTab:n="api",renderContent:r}){const a=gr(),s=Z3(),[l,c]=C.useState(!1),[d,f]=C.useState("exited"),[h,g]=C.useState(n),[v,x]=C.useState("idle"),w=C.useRef(null),E=C.useRef(null),N=a?0:250,T=a?0:ir.fast;C.useEffect(()=>{if(e)E.current=document.activeElement,c(!0),requestAnimationFrame(()=>{f("entering");const G=setTimeout(()=>{var J;f("entered"),(J=w.current)==null||J.focus()},N);return()=>clearTimeout(G)});else if(l){f("exiting");const G=setTimeout(()=>{f("exited"),c(!1),E.current instanceof HTMLElement&&E.current.focus()},N);return()=>clearTimeout(G)}},[e,N,l]),C.useEffect(()=>{if(!e)return;const G=J=>{J.key==="Escape"&&t()};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[e,t]),C.useEffect(()=>{if(e){const G=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=G}}},[e]);const I=C.useCallback(G=>{G===h||v!=="idle"||(a?g(G):(x("exiting"),setTimeout(()=>{g(G),x("entering"),setTimeout(()=>{x("idle")},T)},T)))},[h,v,a,T]),L=C.useCallback(G=>{G.target===G.currentTarget&&t()},[t]);if(!l)return null;const B=()=>({position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,opacity:d==="entering"||d==="exited"?0:1,transition:`opacity ${N}ms cubic-bezier(0.4, 0, 0.2, 1)`}),D=()=>{const G=d==="entering"||d==="exited";return s?{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",display:"flex",flexDirection:"column",borderRadius:"0",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",outline:"none",overflow:"hidden",opacity:G?0:1,transform:G?"translateY(20px)":"translateY(0)",transition:`opacity ${N}ms cubic-bezier(0.4, 0, 0.2, 1), transform ${N}ms cubic-bezier(0.4, 0, 0.2, 1)`}:{width:`${au.width}px`,height:`${au.height}px`,maxWidth:"95vw",maxHeight:"90vh",display:"flex",flexDirection:"column",borderRadius:"16px",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)",outline:"none",overflow:"hidden",opacity:G?0:1,transform:G?"scale(0.95) translateY(10px)":"scale(1) translateY(0)",transition:`opacity ${N}ms cubic-bezier(0.4, 0, 0.2, 1), transform ${N}ms cubic-bezier(0.4, 0, 0.2, 1)`}},O=()=>v==="idle"?{opacity:1,transform:"translateX(0)"}:v==="exiting"?{opacity:0,transform:"translateX(-10px)",transition:`all ${T}ms ${ln.easeIn}`}:{opacity:1,transform:"translateX(0)",transition:`all ${T}ms ${ln.easeOut}`},te=u.jsx("div",{style:B(),onClick:L,role:"presentation",children:u.jsxs("div",{ref:w,style:D(),className:"bg-white/80 dark:bg-neutral-900/80 border border-white/20 dark:border-neutral-700/50",role:"dialog","aria-modal":"true","aria-labelledby":"settings-modal-title",tabIndex:-1,children:[u.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-4 border-b border-neutral-200/50 dark:border-neutral-700/50 flex-shrink-0 bg-white/50 dark:bg-neutral-800/50",children:[u.jsx("h2",{id:"settings-modal-title",className:"text-lg md:text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:""}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-neutral-100/80 dark:hover:bg-neutral-700/80 transition-colors touch-manipulation",style:{minWidth:Et.minimum,minHeight:Et.minimum},"aria-label":"",children:u.jsx(t6,{className:"h-5 w-5 text-neutral-500 dark:text-neutral-400"})})]}),u.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[u.jsx("nav",{className:"flex-shrink-0 border-r border-neutral-200/50 dark:border-neutral-700/50 p-2 md:p-4 space-y-1 overflow-y-auto bg-neutral-50/50 dark:bg-neutral-800/30",style:{width:s?`${au.mobileNavWidth}px`:`${au.navWidth}px`},children:Q3.map(G=>u.jsx(e6,{tab:G,isActive:h===G.id,onClick:()=>I(G.id),isMobile:s},G.id))}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar",style:O(),children:r(h)})]})]})});return Ci.createPortal(te,document.body)}function e6({tab:e,isActive:t,onClick:n,isMobile:r=!1}){return u.jsxs("button",{onClick:n,className:`
        flex items-center gap-2 md:gap-3 w-full px-2 md:px-3 py-2 rounded-lg text-xs md:text-sm font-medium transition-colors touch-manipulation
        ${t?"bg-primary-100/80 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100/80 dark:hover:bg-neutral-700/50"}
      `,style:{minHeight:Et.minimum},"aria-selected":t,role:"tab",children:[u.jsx("span",{className:"h-4 w-4 flex-shrink-0",children:e.icon}),u.jsx("span",{className:r?"truncate":"",children:e.label})]})}function t6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function n6(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}function r6(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}function i6(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}function a6(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}function s6(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}function o6(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}function l6(e){return e.isCustom?{text:"",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",icon:"custom"}:e.provider==="openai"?{text:"OpenAI",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",icon:"openai"}:{text:"",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",icon:"preset"}}function u6(e){var n,r;const t=[];return(n=e.capabilities)!=null&&n.supportsThinking&&t.push(""),(r=e.capabilities)!=null&&r.supportsImageGeneration&&t.push(""),e.redirectTo&&t.push(""),t}function c6({models:e,selectedModelId:t,onSelectModel:n,onEditModel:r,onDeleteModel:a,onToggleEnabled:s}){const[l,c]=C.useState(""),[d,f]=C.useState("all"),h=C.useMemo(()=>{const g=e.filter(v=>{var w;const x=l.toLowerCase().trim();if(x){const E=v.id.toLowerCase().includes(x),N=v.name.toLowerCase().includes(x),T=(w=v.description)==null?void 0:w.toLowerCase().includes(x);if(!E&&!N&&!T)return!1}return!(d==="preset"&&v.isCustom||d==="custom"&&!v.isCustom)});return R3(g)},[e,l,d]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(m6,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),u.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"...",className:`w-full pl-10 pr-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 \r
              bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\r
              text-sm`})]}),u.jsxs("select",{value:d,onChange:g=>f(g.target.value),className:`px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 \r
            bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\r
            text-sm`,children:[u.jsx("option",{value:"all",children:""}),u.jsx("option",{value:"preset",children:""}),u.jsx("option",{value:"custom",children:""})]})]}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[" ",h.length," ",l&&` (: "${l}")`]}),u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:h.length===0?u.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:l?"":""}):h.map(g=>u.jsx(d6,{model:g,isSelected:g.id===t,onSelect:n,onEdit:r,onDelete:a,onToggleEnabled:s},g.id))})]})}function d6({model:e,isSelected:t,onSelect:n,onEdit:r,onDelete:a,onToggleEnabled:s}){const l=l6(e),c=u6(e),d=e.enabled!==!1;return u.jsx("div",{className:`
        p-3 rounded-lg border transition-colors cursor-pointer
        ${t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50"}
        ${d?"":"opacity-60"}
      `,onClick:()=>n==null?void 0:n(e),children:u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.icon==="custom"?u.jsx(x6,{className:"h-4 w-4 text-purple-500 dark:text-purple-400 flex-shrink-0"}):l.icon==="preset"?u.jsx(g6,{className:"h-4 w-4 text-blue-500 dark:text-blue-400 flex-shrink-0"}):null,u.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100 truncate font-mono",children:e.id}),u.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${l.color}`,children:l.text})]}),e.description&&u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 line-clamp-2",children:e.description}),c.length>0&&u.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:c.map(f=>u.jsx("span",{className:`px-1.5 py-0.5 text-xs bg-slate-100 dark:bg-slate-600 \r
                    text-slate-600 dark:text-slate-300 rounded`,children:f},f))}),e.redirectTo&&u.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1 flex items-center gap-1",children:[u.jsx(p6,{className:"h-3 w-3"}),": ",e.redirectTo]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s&&u.jsx("button",{onClick:f=>{f.stopPropagation(),s(e.id,!d)},className:`
                relative inline-flex h-5 w-9 items-center rounded-full transition-colors
                ${d?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}
              `,role:"switch","aria-checked":d,"aria-label":d?"":"",title:d?"":"",children:u.jsx("span",{className:`
                  inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform shadow-sm
                  ${d?"translate-x-5":"translate-x-1"}
                `})}),r&&u.jsx("button",{onClick:f=>{f.stopPropagation(),r(e)},className:"p-1.5 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"",children:u.jsx(f6,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"})}),a&&e.isCustom&&u.jsx("button",{onClick:f=>{f.stopPropagation(),a(e.id)},className:"p-1.5 rounded hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"",children:u.jsx(h6,{className:"h-4 w-4 text-red-500 dark:text-red-400"})})]})]})})}function m6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function f6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function h6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function p6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}function g6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}function x6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}const Em=[{value:"minimal",label:"",description:""},{value:"low",label:"",description:""},{value:"medium",label:"",description:""},{value:"high",label:"",description:""}];function b6(e){return e.supportedThinkingLevels&&e.supportedThinkingLevels.length>0?Em.filter(t=>e.supportedThinkingLevels.includes(t.value)):Em.filter(t=>t.value==="low"||t.value==="high")}const of=({value:e,onChange:t,disabled:n=!1,variant:r="full",modelId:a})=>{const s=Cn(c=>c.getEffectiveCapabilities),l=C.useMemo(()=>{if(a){const c=s(a);return b6(c)}return Em.filter(c=>c.value==="low"||c.value==="high")},[a,s]);return r==="compact"?u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs text-[var(--text-secondary)] mr-1",children:":"}),u.jsx("div",{className:"flex rounded-md overflow-hidden border border-[var(--border-primary)]",children:l.map(c=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t(c.value),className:`
                px-2 py-0.5 text-xs font-medium transition-colors
                ${e===c.value?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]"}
                ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
              `,title:c.description,children:c.label},c.value))})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)]",children:""}),u.jsx("div",{className:"flex gap-2",children:l.map(c=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t(c.value),className:`
              flex-1 px-3 py-2 rounded-lg border-2 transition-all
              ${e===c.value?"border-[var(--color-primary-500)] bg-[var(--color-primary-50)] dark:bg-[var(--color-primary-900)]":"border-[var(--border-primary)] bg-[var(--bg-secondary)] hover:border-[var(--border-secondary)]"}
              ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`
                  text-sm font-medium
                  ${e===c.value?"text-[var(--color-primary-600)] dark:text-[var(--color-primary-400)]":"text-[var(--text-primary)]"}
                `,children:c.label}),u.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mt-0.5",children:c.description})]})},c.value))})]})};function W1(e){return e===-1?"":e===0?"":e.toLocaleString("zh-CN")}const lf=({value:e,config:t,onChange:n,disabled:r=!1,variant:a="full"})=>{const{min:s,max:l,canDisable:c}=t,d=c?0:s,f=C.useMemo(()=>e===-1?l:Math.max(d,Math.min(l,e)),[e,l,d]),h=C.useCallback(E=>{const N=parseInt(E.target.value,10);n(N)},[n]),g=C.useCallback(()=>{n(-1)},[n]),v=C.useCallback(()=>{n(0)},[n]),x=e===-1,w=e===0;return a==="compact"?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-[var(--text-secondary)] whitespace-nowrap",children:":"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{type:"button",disabled:r,onClick:g,className:`
              px-2 py-0.5 text-xs font-medium rounded transition-colors
              ${x?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] border border-[var(--border-primary)]"}
              ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,title:"",children:""}),c&&u.jsx("button",{type:"button",disabled:r,onClick:v,className:`
                px-2 py-0.5 text-xs font-medium rounded transition-colors
                ${w?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] border border-[var(--border-primary)]"}
                ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
              `,title:"",children:""})]}),u.jsx("span",{className:"text-xs text-[var(--text-primary)] font-medium min-w-[50px] text-right",children:W1(e)})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)]",children:""}),u.jsxs("span",{className:"text-sm text-[var(--text-secondary)]",children:[W1(e),!x&&!w&&" tokens"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",disabled:r,onClick:g,className:`
            flex-1 px-3 py-1.5 text-sm font-medium rounded-lg transition-all
            ${x?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] border border-[var(--border-primary)]"}
            ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,title:"",children:""}),c&&u.jsx("button",{type:"button",disabled:r,onClick:v,className:`
              flex-1 px-3 py-1.5 text-sm font-medium rounded-lg transition-all
              ${w?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] border border-[var(--border-primary)]"}
              ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,title:"",children:""})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("input",{type:"range",min:d,max:l,step:128,value:f,onChange:h,disabled:r,className:`
            w-full h-2 rounded-lg appearance-none cursor-pointer
            bg-[var(--bg-tertiary)]
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-4
            [&::-webkit-slider-thumb]:h-4
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:bg-[var(--color-primary-500)]
            [&::-webkit-slider-thumb]:cursor-pointer
            [&::-webkit-slider-thumb]:transition-transform
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-moz-range-thumb]:w-4
            [&::-moz-range-thumb]:h-4
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:bg-[var(--color-primary-500)]
            [&::-moz-range-thumb]:border-0
            [&::-moz-range-thumb]:cursor-pointer
            ${r?"opacity-50 cursor-not-allowed":""}
          `}),u.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-tertiary)]",children:[u.jsx("span",{children:c?"0":s.toLocaleString("zh-CN")}),u.jsx("span",{children:l.toLocaleString("zh-CN")})]})]}),u.jsx("p",{className:"text-xs text-[var(--text-tertiary)]",children:x?"":w?"":` ${e.toLocaleString("zh-CN")} tokens`})]})},q1=[{value:"1:1",label:"1:1",icon:""},{value:"16:9",label:"16:9",icon:""},{value:"9:16",label:"9:16",icon:""},{value:"4:3",label:"4:3",icon:""},{value:"3:4",label:"3:4",icon:""},{value:"3:2",label:"3:2",icon:""},{value:"2:3",label:"2:3",icon:""},{value:"5:4",label:"5:4",icon:""},{value:"4:5",label:"4:5",icon:""},{value:"21:9",label:"21:9",icon:""}],G1=[{value:"1K",label:"1K",description:""},{value:"2K",label:"2K",description:""},{value:"4K",label:"4K",description:""}],uf=({config:e,onChange:t,disabled:n=!1,variant:r="full",supportsImageSize:a=!0})=>r==="compact"?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:":"}),u.jsx("div",{className:"flex rounded-md overflow-hidden border border-[var(--border-primary)]",children:q1.map(s=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t({aspectRatio:s.value}),className:`
                  px-1.5 py-0.5 text-xs font-medium transition-colors
                  ${e.aspectRatio===s.value?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]"}
                  ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                `,title:s.label,children:s.label},s.value))})]}),a&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:":"}),u.jsx("div",{className:"flex rounded-md overflow-hidden border border-[var(--border-primary)]",children:G1.map(s=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t({imageSize:s.value}),className:`
                    px-2 py-0.5 text-xs font-medium transition-colors
                    ${e.imageSize===s.value?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]"}
                    ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                  `,title:s.description,children:s.label},s.value))})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)]",children:""}),u.jsx("div",{className:"flex gap-2",children:q1.map(s=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t({aspectRatio:s.value}),className:`
                flex-1 px-2 py-2 rounded-lg border-2 transition-all
                ${e.aspectRatio===s.value?"border-[var(--color-primary-500)] bg-[var(--color-primary-50)] dark:bg-[var(--color-primary-900)]":"border-[var(--border-primary)] bg-[var(--bg-secondary)] hover:border-[var(--border-secondary)]"}
                ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
              `,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg mb-0.5",children:s.icon}),u.jsx("div",{className:`
                    text-xs font-medium
                    ${e.aspectRatio===s.value?"text-[var(--color-primary-600)] dark:text-[var(--color-primary-400)]":"text-[var(--text-primary)]"}
                  `,children:s.label})]})},s.value))})]}),a&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)]",children:""}),u.jsx("div",{className:"flex gap-2",children:G1.map(s=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t({imageSize:s.value}),className:`
                  flex-1 px-3 py-2 rounded-lg border-2 transition-all
                  ${e.imageSize===s.value?"border-[var(--color-primary-500)] bg-[var(--color-primary-50)] dark:bg-[var(--color-primary-900)]":"border-[var(--border-primary)] bg-[var(--bg-secondary)] hover:border-[var(--border-secondary)]"}
                  ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                `,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`
                      text-sm font-medium
                      ${e.imageSize===s.value?"text-[var(--color-primary-600)] dark:text-[var(--color-primary-400)]":"text-[var(--text-primary)]"}
                    `,children:s.label}),u.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mt-0.5",children:s.description})]})},s.value))})]})]}),V1=[{value:void 0,label:"",description:" API "},{value:"MEDIA_RESOLUTION_LOW",label:"",description:""},{value:"MEDIA_RESOLUTION_MEDIUM",label:"",description:""},{value:"MEDIA_RESOLUTION_HIGH",label:"",description:""}],v6=({value:e,onChange:t,disabled:n=!1,variant:r="full"})=>r==="compact"?u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs text-[var(--text-secondary)] mr-1",children:":"}),u.jsx("div",{className:"flex rounded-md overflow-hidden border border-[var(--border-primary)]",children:V1.map(a=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t(a.value),className:`
                px-2 py-0.5 text-xs font-medium transition-colors
                ${e===a.value?"bg-[var(--color-primary-500)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]"}
                ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
              `,title:a.description,children:a.label},a.label))})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)]",children:""}),u.jsx("div",{className:"flex gap-2",children:V1.map(a=>u.jsx("button",{type:"button",disabled:n,onClick:()=>t(a.value),className:`
              flex-1 px-3 py-2 rounded-lg border-2 transition-all
              ${e===a.value?"border-[var(--color-primary-500)] bg-[var(--color-primary-50)] dark:bg-[var(--color-primary-900)]":"border-[var(--border-primary)] bg-[var(--bg-secondary)] hover:border-[var(--border-secondary)]"}
              ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`
                  text-sm font-medium
                  ${e===a.value?"text-[var(--color-primary-600)] dark:text-[var(--color-primary-400)]":"text-[var(--text-primary)]"}
                `,children:a.label}),u.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mt-0.5",children:a.description})]})},a.label))})]});function y6(e){const t=Cn(n=>n.getEffectiveCapabilities);return C.useMemo(()=>t(e),[e,t])}const k6=[{value:"MEDIA_RESOLUTION_LOW",label:"",description:""},{value:"MEDIA_RESOLUTION_MEDIUM",label:"",description:""},{value:"MEDIA_RESOLUTION_HIGH",label:"",description:""}];function w6({model:e,allModels:t,isNew:n=!1,onSave:r,onCancel:a}){var ie,se,de,K,P,Y;const[s,l]=C.useState({id:"",name:"",description:"",isCustom:!0,provider:"gemini",capabilities:{},advancedConfig:{}}),[c,d]=C.useState({}),[f,h]=C.useState(!1);C.useEffect(()=>{e&&(l({...e,advancedConfig:e.advancedConfig||{}}),h(!0))},[e]),C.useEffect(()=>{n&&!f&&s.id&&l(ee=>({...ee,name:ee.id}))},[s.id,n,f]);const g=C.useMemo(()=>s.redirectTo?Wx(s.redirectTo,t):s.capabilities||ta(s.id),[s.redirectTo,s.capabilities,s.id,t]),v=g.thinkingConfigType==="level",x=g.thinkingConfigType==="budget",w=g.supportsThoughtSummary===!0,E=g.supportsImageGeneration===!0,N=g.supportsMediaResolution===!0,T=g.supportsImageSize!==!1,I=v||x||w||E||N,L=(ee,W)=>{l(Q=>({...Q,[ee]:W})),c[ee]&&d(Q=>{const A={...Q};return delete A[ee],A})},B=(ee,W)=>{l(Q=>({...Q,advancedConfig:{...Q.advancedConfig,[ee]:W}}))},D=ee=>{const W=ee.target.value;L("name",W),h(!0)},O=ee=>{const W=ee.target.value;L("id",W),!W&&!f&&l(Q=>({...Q,name:""}))},te=()=>{const ee={};if(s.id.trim()?n&&t.some(W=>W.id===s.id.trim())&&(ee.id=" ID "):ee.id=" ID ",s.name.trim()||(ee.name=""),s.redirectTo)if(s.redirectTo===s.id)ee.redirectTo="";else{const W=new Set;let Q=s.redirectTo;for(;Q;){if(Q===s.id){ee.redirectTo="";break}if(W.has(Q))break;W.add(Q);const A=t.find(H=>H.id===Q);Q=A==null?void 0:A.redirectTo}}return d(ee),Object.keys(ee).length===0},G=ee=>{var W;if(ee.preventDefault(),te()){const Q={...s,id:s.id.trim(),name:s.name.trim(),description:((W=s.description)==null?void 0:W.trim())||"",isCustom:n?!0:s.isCustom};Q.redirectTo||delete Q.redirectTo,Q.advancedConfig&&(Q.advancedConfig.thinkingLevel||delete Q.advancedConfig.thinkingLevel,Q.advancedConfig.thinkingBudget===void 0&&delete Q.advancedConfig.thinkingBudget,Q.advancedConfig.mediaResolution||delete Q.advancedConfig.mediaResolution,Q.advancedConfig.includeThoughts===void 0&&delete Q.advancedConfig.includeThoughts,Q.advancedConfig.imageConfig||delete Q.advancedConfig.imageConfig,Object.keys(Q.advancedConfig).length===0&&delete Q.advancedConfig),r(Q)}},J=t.filter(ee=>ee.id!==s.id),z=s.redirectTo||s.id;return u.jsxs("form",{onSubmit:G,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100",children:""}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:[" ID ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:s.id,onChange:O,disabled:!n,placeholder:": gemini-custom-model",className:`w-full px-3 py-2 rounded-lg border 
              ${c.id?"border-red-500":"border-slate-300 dark:border-slate-600"}
              bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
              disabled:bg-slate-100 dark:disabled:bg-slate-800 disabled:cursor-not-allowed
              text-sm`}),c.id&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.id})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:s.name,onChange:D,placeholder:":  Gemini ",className:`w-full px-3 py-2 rounded-lg border 
              ${c.name?"border-red-500":"border-slate-300 dark:border-slate-600"}
              bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
              text-sm`}),c.name&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:""}),u.jsx("textarea",{value:s.description,onChange:ee=>L("description",ee.target.value),placeholder:"...",rows:2,className:`w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600\r
              bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\r
              text-sm resize-none`})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100",children:""}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:""}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:""}),u.jsxs("select",{value:s.redirectTo||"",onChange:ee=>L("redirectTo",ee.target.value||void 0),className:`w-full px-3 py-2 rounded-lg border 
              ${c.redirectTo?"border-red-500":"border-slate-300 dark:border-slate-600"}
              bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
              text-sm`,children:[u.jsx("option",{value:"",children:""}),J.map(ee=>u.jsxs("option",{value:ee.id,children:[ee.name," (",ee.id,")"]},ee.id))]}),c.redirectTo&&u.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.redirectTo})]})]}),I&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-100",children:["",s.redirectTo&&u.jsxs("span",{className:"ml-2 text-xs font-normal text-slate-500 dark:text-slate-400",children:["( ",s.redirectTo,")"]})]}),v&&u.jsx(of,{value:((ie=s.advancedConfig)==null?void 0:ie.thinkingLevel)||"low",onChange:ee=>B("thinkingLevel",ee),modelId:z,variant:"full"}),x&&g.thinkingBudgetConfig&&u.jsx(lf,{value:((se=s.advancedConfig)==null?void 0:se.thinkingBudget)??g.thinkingBudgetConfig.defaultValue,config:g.thinkingBudgetConfig,onChange:ee=>B("thinkingBudget",ee),variant:"full"}),w&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:""})]}),u.jsx("button",{type:"button",onClick:()=>{var ee;return B("includeThoughts",!((ee=s.advancedConfig)!=null&&ee.includeThoughts))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                  ${(de=s.advancedConfig)!=null&&de.includeThoughts?"bg-blue-500":"bg-slate-300 dark:bg-slate-600"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                    ${(K=s.advancedConfig)!=null&&K.includeThoughts?"translate-x-6":"translate-x-1"}`})})]}),E&&u.jsx(uf,{config:((P=s.advancedConfig)==null?void 0:P.imageConfig)||za,onChange:ee=>{var W;return B("imageConfig",{...((W=s.advancedConfig)==null?void 0:W.imageConfig)||za,...ee})},variant:"full",supportsImageSize:T}),N&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:" (Media Resolution)"}),u.jsxs("select",{value:((Y=s.advancedConfig)==null?void 0:Y.mediaResolution)||"",onChange:ee=>B("mediaResolution",ee.target.value||void 0),className:`w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600\r
                  bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
                  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\r
                  text-sm`,children:[u.jsx("option",{value:"",children:""}),k6.map(ee=>u.jsxs("option",{value:ee.value,children:[ee.label," - ",ee.description]},ee.value))]})]})]}),s.redirectTo&&u.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[' "',s.redirectTo,'"']})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("button",{type:"button",onClick:a,className:`px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300\r
            hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors`,children:""}),u.jsx("button",{type:"submit",className:`px-4 py-2 text-sm font-medium text-white bg-blue-500 \r
            hover:bg-blue-600 rounded-lg transition-colors`,children:n?"":""})]})]})}function S6(e){return e.filter(t=>t.enabled!==!1)}function E6(){const{apiEndpoint:e,apiKey:t,setApiEndpoint:n,setApiKey:r,testConnection:a,connectionStatus:s,connectionError:l}=Jt(),{models:c}=Cn(),[d,f]=C.useState("gemini-2.5-flash"),[h,g]=C.useState(null),v=S6(c),x=async()=>{const w=c.find(N=>N.id===d),E=(w==null?void 0:w.name)||d;g(E),await a(d)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"API "}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:" Gemini API  API "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"API "}),u.jsx("input",{type:"url",value:e,onChange:w=>n(w.target.value),placeholder:"https://x666.me",className:`w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 \r
            bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),u.jsx("p",{className:"mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:" Google  API  /v1beta "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"API "}),u.jsx("input",{type:"password",value:t,onChange:w=>r(w.target.value),placeholder:" API ",className:`w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 \r
            bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),u.jsx("p",{className:"mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:"API "})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("select",{value:d,onChange:w=>f(w.target.value),className:`px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 \r
              bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\r
              text-sm min-w-[180px] font-mono`,children:v.map(w=>u.jsx("option",{value:w.id,children:w.id},w.id))}),u.jsx("button",{onClick:x,disabled:s==="testing"||!t,className:`px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-slate-300 dark:disabled:bg-slate-600\r
              text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed whitespace-nowrap`,children:s==="testing"?"...":""})]}),s==="success"&&h&&u.jsxs("span",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm",children:[u.jsx(R6,{className:"h-4 w-4"})," ",h," "]}),s==="error"&&h&&u.jsxs("span",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[u.jsx(L6,{className:"h-4 w-4"})," ",h," : ",l||""]})]})]})}function N6(){const{currentModel:e,setCurrentModel:t,apiEndpoint:n,apiKey:r}=Jt(),{models:a,isLoading:s,error:l,fetchModels:c,addModel:d,updateModel:f,deleteModel:h,resetModels:g,clearError:v,getEffectiveConfig:x}=Cn(),[w,E]=C.useState("closed"),[N,T]=C.useState(void 0),[I,L]=C.useState(!1),[B,D]=C.useState(null),O=Q=>{t(Q.id)},te=Q=>{T(Q),E("edit")},G=async Q=>{D(Q)},J=async()=>{B&&(await h(B),D(null))},z=async Q=>{w==="new"?await d(Q):await f(Q.id,Q),E("closed"),T(void 0)},ie=async()=>{if(!r)return;const{normalizeApiEndpoint:Q}=await on(async()=>{const{normalizeApiEndpoint:H}=await Promise.resolve().then(()=>F3);return{normalizeApiEndpoint:H}},void 0),A=Q(n);await c(A,r)},se=async()=>{await g(),L(!1)},de=()=>{T(void 0),E("new")},K=()=>{E("closed"),T(void 0)},P=a.find(Q=>Q.id===e),Y=x(e),ee=P==null?void 0:P.redirectTo,W=ee?a.find(Q=>Q.id===P.redirectTo):null;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:""}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:" AI  API "})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:ie,disabled:s||!r,className:`flex items-center gap-2 px-3 py-2 bg-blue-500 hover:bg-blue-600 \r
            disabled:bg-slate-300 dark:disabled:bg-slate-600\r
            text-white text-sm rounded-lg font-medium transition-colors disabled:cursor-not-allowed`,children:[s?u.jsx(B6,{className:"h-4 w-4"}):u.jsx(D6,{className:"h-4 w-4"}),""]}),u.jsxs("button",{onClick:de,className:`flex items-center gap-2 px-3 py-2 bg-green-500 hover:bg-green-600 \r
            text-white text-sm rounded-lg font-medium transition-colors`,children:[u.jsx(z6,{className:"h-4 w-4"}),""]}),u.jsxs("button",{onClick:()=>L(!0),className:`flex items-center gap-2 px-3 py-2 bg-slate-200 dark:bg-slate-600 \r
            hover:bg-slate-300 dark:hover:bg-slate-500\r
            text-slate-700 dark:text-slate-200 text-sm rounded-lg font-medium transition-colors`,children:[u.jsx(P6,{className:"h-4 w-4"}),""]})]}),!r&&u.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:u.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:'"API " API '})}),l&&u.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800 flex items-center justify-between",children:[u.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:l}),u.jsx("button",{onClick:v,className:"text-red-500 hover:text-red-600 p-1",children:u.jsx(O6,{className:"h-4 w-4"})})]}),w!=="closed"&&u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-200 dark:border-slate-600",children:[u.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 mb-4",children:w==="new"?"":""}),u.jsx(w6,{model:N,allModels:a,isNew:w==="new",onSave:z,onCancel:K})]}),w==="closed"&&u.jsx(c6,{models:a,selectedModelId:e,onSelectModel:O,onEditModel:te,onDeleteModel:G,onToggleEnabled:async(Q,A)=>{await f(Q,{enabled:A})}}),u.jsx(T6,{currentModel:e,currentModelConfig:P,effectiveConfig:Y,hasRedirect:ee,targetModel:W}),I&&u.jsx(K1,{title:"",message:"",confirmText:"",cancelText:"",onConfirm:se,onCancel:()=>L(!1),variant:"danger"}),B&&u.jsx(K1,{title:"",message:` "${B}" `,confirmText:"",cancelText:"",onConfirm:J,onCancel:()=>D(null),variant:"danger"})]})}function T6({currentModel:e,currentModelConfig:t,effectiveConfig:n,hasRedirect:r,targetModel:a}){const s=l=>({MEDIA_RESOLUTION_LOW:"",MEDIA_RESOLUTION_MEDIUM:"",MEDIA_RESOLUTION_HIGH:""})[l]||l;return u.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:""}),u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mt-1 font-mono",children:e}),(t==null?void 0:t.description)&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:t.description})]}),r&&a&&u.jsx("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-600",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[u.jsx(F6,{className:"h-4 w-4"}),u.jsxs("span",{children:[": ",u.jsx("span",{className:"font-mono",children:a.id})]})]})}),(n.thinkingLevel||n.mediaResolution)&&u.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-600",children:[u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:r?"":""}),u.jsxs("div",{className:"space-y-1",children:[n.thinkingLevel&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:":"}),u.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs",children:n.thinkingLevel==="high"?"":""})]}),n.mediaResolution&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:":"}),u.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded text-xs",children:s(n.mediaResolution)})]})]})]})]})}function C6(){var c;const{generationConfig:e,updateGenerationConfig:t,streamingEnabled:n,setStreamingEnabled:r}=Jt(),[a,s]=C.useState(((c=e.stopSequences)==null?void 0:c.join(", "))||""),l=d=>{s(d);const f=d.split(",").map(h=>h.trim()).filter(h=>h.length>0);t({stopSequences:f.length>0?f:void 0})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:""}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:" AI "})]}),u.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:n?"AI ":"AI "})]}),u.jsx("button",{onClick:()=>r(!n),className:`
              relative inline-flex h-6 w-11 items-center rounded-full transition-colors
              ${n?"bg-primary-500":"bg-slate-300 dark:bg-slate-600"}
            `,role:"switch","aria-checked":n,"aria-label":"",children:u.jsx("span",{className:`
                inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm
                ${n?"translate-x-6":"translate-x-1"}
              `})})]})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Temperature"}),u.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.temperature??1})]}),u.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:e.temperature??1,onChange:d=>t({temperature:parseFloat(d.target.value)}),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),u.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[u.jsx("span",{children:" (0)"}),u.jsx("span",{children:" (1)"}),u.jsx("span",{children:" (2)"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Top P"}),u.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.topP??.95})]}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.topP??.95,onChange:d=>t({topP:parseFloat(d.target.value)}),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),u.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"1"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Top K"}),u.jsx("input",{type:"number",min:"1",max:"100",value:e.topK??40,onChange:d=>t({topK:parseInt(d.target.value)||40}),className:`w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 \r
            bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),u.jsx("p",{className:"mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:" 40"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" Token "}),u.jsx("input",{type:"number",min:"1",max:"8192",value:e.maxOutputTokens??"",onChange:d=>t({maxOutputTokens:d.target.value?parseInt(d.target.value):void 0}),placeholder:"",className:`w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 \r
            bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),u.jsx("p",{className:"mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:" AI "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:""}),u.jsx("input",{type:"text",value:a,onChange:d=>l(d.target.value),placeholder:"",className:`w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 \r
            bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),u.jsx("p",{className:"mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:" AI "})]})]})}function _6(){const{systemInstruction:e,updateSystemInstruction:t}=Jt(),{activeWindowId:n,windows:r,updateWindowConfig:a}=la(),s=r.find(f=>f.id===n),[l,c]=C.useState((s==null?void 0:s.config.systemInstruction)||""),d=()=>{n&&a(n,{systemInstruction:l||void 0})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:""}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:" AI  AI"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:""}),u.jsx("textarea",{value:e,onChange:f=>t(f.target.value),placeholder:"...",rows:4,className:`w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 \r
            bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none`}),u.jsx("p",{className:"mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:""})]}),s&&u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["",u.jsx("span",{className:"ml-2 text-xs text-slate-400 font-normal",children:""})]}),u.jsx("textarea",{value:l,onChange:f=>c(f.target.value),placeholder:"...",rows:4,className:`w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 \r
              bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none`}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:""}),u.jsx("button",{onClick:d,className:"px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-colors",children:""})]})]})]})}const M6={HARM_CATEGORY_HARASSMENT:"",HARM_CATEGORY_HATE_SPEECH:"",HARM_CATEGORY_SEXUALLY_EXPLICIT:"",HARM_CATEGORY_DANGEROUS_CONTENT:""},A6={BLOCK_NONE:"",BLOCK_LOW_AND_ABOVE:"",BLOCK_MEDIUM_AND_ABOVE:"",BLOCK_ONLY_HIGH:""};function I6(){const{safetySettings:e,updateSafetySettings:t}=Jt(),n=a=>{const s=e.find(l=>l.category===a);return(s==null?void 0:s.threshold)||""},r=(a,s)=>{let l;if(s==="")l=e.filter(c=>c.category!==a);else{const c=e.findIndex(d=>d.category===a);c>=0?(l=[...e],l[c]={category:a,threshold:s}):l=[...e,{category:a,threshold:s}]}t(l)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:""}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:" AI "})]}),u.jsx("div",{className:"space-y-4",children:a3.map(a=>u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:M6[a]}),u.jsxs("select",{value:n(a),onChange:s=>r(a,s.target.value),className:`w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 \r
                bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\r
                focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[u.jsx("option",{value:"",children:""}),s3.map(s=>u.jsx("option",{value:s,children:A6[s]},s))]})]},a))}),u.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:u.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[u.jsx("strong",{children:""})," AI "]})})]})}function j6(){const e=C.useRef(null),[t,n]=C.useState("idle"),[r,a]=C.useState(""),{loadWindows:s}=la(),{loadSettings:l}=Jt(),c=async()=>{try{const f=await $x(),h=new Blob([f],{type:"application/json"}),g=URL.createObjectURL(h),v=document.createElement("a");v.href=g,v.download=`gemini-chat-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)}catch(f){console.error(":",f)}},d=async f=>{var g;const h=(g=f.target.files)==null?void 0:g[0];if(h){try{const v=await h.text();await Hx(v),await s(),await l(),n("success"),a("")}catch(v){n("error"),a(v instanceof Error?v.message:"")}e.current&&(e.current.value=""),setTimeout(()=>{n("idle"),a("")},3e3)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:""}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:""})]}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:""}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:" JSON "}),u.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",children:[u.jsx($6,{className:"h-4 w-4"}),""]})]}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:""}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:" JSON "}),u.jsx("input",{ref:e,type:"file",accept:".json",onChange:d,className:"hidden"}),u.jsxs("button",{onClick:()=>{var f;return(f=e.current)==null?void 0:f.click()},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded-lg font-medium transition-colors",children:[u.jsx(H6,{className:"h-4 w-4"}),""]}),t!=="idle"&&u.jsx("div",{className:`mt-4 p-3 rounded-lg ${t==="success"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:r})]}),u.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:u.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[u.jsx("strong",{children:""}),""]})})]})}function K1({title:e,message:t,confirmText:n,cancelText:r,onConfirm:a,onCancel:s,variant:l="default"}){return u.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),u.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 max-w-sm mx-4",children:[u.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:e}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:t}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:s,className:`px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300\r
              hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors`,children:r}),u.jsx("button",{onClick:a,className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors
              ${l==="danger"?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:n})]})]})]})}function R6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function L6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function O6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function D6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}function z6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function P6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m0 0a8.001 8.001 0 0115.356 2M4.582 9H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}function B6({className:e}){return u.jsxs("svg",{className:`animate-spin ${e}`,fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function F6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}function $6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}function H6({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}function U6(e){if(!e||typeof e.promptTokens!="number"||typeof e.completionTokens!="number"||typeof e.totalTokens!="number"||e.promptTokens<0||e.completionTokens<0||e.totalTokens<0||e.thoughtsTokens!==void 0&&(typeof e.thoughtsTokens!="number"||e.thoughtsTokens<0))return!1;const t=e.promptTokens+e.completionTokens,n=e.thoughtsTokens??0;return e.totalTokens===t||e.totalTokens===t+n}function Nm(e){return e<1e3?e.toString():e<1e6?`${(e/1e3).toFixed(1)}K`:`${(e/1e6).toFixed(2)}M`}function Xx({tokenUsage:e,compact:t=!1,className:n=""}){if(!e||!U6(e))return t?null:u.jsx("div",{className:`text-sm text-neutral-500 dark:text-neutral-400 ${n}`,children:"Token "});const r="thoughtsTokens"in e?e.thoughtsTokens:void 0,a=r!==void 0&&r>0;return t?u.jsxs("div",{className:`flex items-center gap-2 text-sm ${n}`,children:[u.jsx(Y1,{}),u.jsxs("span",{className:"text-neutral-600 dark:text-neutral-400",children:[Nm(e.totalTokens)," tokens",a&&u.jsxs("span",{className:"text-purple-600 dark:text-purple-400 ml-1",children:["(+",Nm(r)," )"]})]})]}):u.jsxs("div",{className:`${n}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Y1,{}),u.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Token "})]}),u.jsxs("div",{className:`grid gap-4 ${a?"grid-cols-4":"grid-cols-3"}`,children:[u.jsx(su,{label:"",value:e.promptTokens,color:"text-blue-600 dark:text-blue-400"}),u.jsx(su,{label:"",value:e.completionTokens,color:"text-green-600 dark:text-green-400"}),a&&u.jsx(su,{label:"",value:r,color:"text-purple-600 dark:text-purple-400"}),u.jsx(su,{label:"",value:e.totalTokens,color:"text-primary-600 dark:text-primary-400",highlight:!0})]})]})}function su({label:e,value:t,color:n,highlight:r}){return u.jsxs("div",{className:`text-center p-2 rounded ${r?"bg-primary-50 dark:bg-primary-900/20":""}`,children:[u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-1",children:e}),u.jsx("p",{className:`text-lg font-semibold ${n}`,children:Nm(t)})]})}function Y1(){return u.jsx("svg",{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}function W6(e,t){return!(e<0||t!==void 0&&(t<0||t>e))}function Hu(e){if(e<1e3)return`${e}ms`;const t=e/1e3;if(t<60)return`${t.toFixed(2)}s`;const n=Math.floor(t/60),r=t%60;return`${n}m ${r.toFixed(1)}s`}function Zx({duration:e,ttfb:t,isStreaming:n=!1,startTime:r,compact:a=!1,className:s=""}){const[l,c]=C.useState(0);C.useEffect(()=>{if(!n||!r)return;const f=()=>{c(Date.now()-r)};f();const h=setInterval(f,100);return()=>clearInterval(h)},[n,r]);const d=n?l:e;return d===void 0&&t===void 0||d!==void 0&&!W6(d,t)?null:a?u.jsxs("div",{className:`flex items-center gap-2 text-sm ${s}`,children:[u.jsx(Q1,{}),u.jsxs("span",{className:"text-neutral-600 dark:text-neutral-400",children:[d!==void 0?Hu(d):"-",t!==void 0&&u.jsxs("span",{className:"text-neutral-400 dark:text-neutral-500 ml-1",children:["(TTFB: ",Hu(t),")"]})]}),n&&u.jsx(Z1,{})]}):u.jsxs("div",{className:`${s}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Q1,{}),u.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:""}),n&&u.jsx(Z1,{})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(X1,{label:" (TTFB)",value:t,color:"text-blue-600 dark:text-blue-400"}),u.jsx(X1,{label:"",value:d,color:"text-primary-600 dark:text-primary-400",highlight:!0})]})]})}function X1({label:e,value:t,color:n,highlight:r}){return u.jsxs("div",{className:`text-center p-2 rounded ${r?"bg-primary-50 dark:bg-primary-900/20":""}`,children:[u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-1",children:e}),u.jsx("p",{className:`text-lg font-semibold ${n}`,children:t!==void 0?Hu(t):"-"})]})}function Z1(){return u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:""})]})}function Q1(){return u.jsx("svg",{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function q6({request:e}){const[t,n]=C.useState("response");return u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 px-4 sm:px-6 py-3 sm:py-4 bg-neutral-50 dark:bg-neutral-900/50 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[u.jsx("span",{className:"flex-shrink-0 px-2 py-1 text-xs sm:text-sm font-medium rounded bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300",children:e.method}),u.jsx("span",{className:"text-xs sm:text-sm text-neutral-600 dark:text-neutral-400 break-all min-w-0",children:e.url})]}),u.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 sm:gap-4 md:gap-6",children:[e.statusCode!==void 0&&u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[u.jsx("span",{className:"text-xs sm:text-sm text-neutral-500 dark:text-neutral-400",children:":"}),u.jsx(G6,{statusCode:e.statusCode})]}),u.jsx(Zx,{duration:e.duration,ttfb:e.ttfb,compact:!0}),e.tokenUsage&&u.jsx(Xx,{tokenUsage:e.tokenUsage,compact:!0})]}),e.error&&u.jsx("div",{className:"mt-3 p-2 sm:p-3 bg-red-50 dark:bg-red-900/20 rounded-lg overflow-hidden",children:u.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-400 break-words",children:e.error})})]}),u.jsxs("div",{className:"flex-shrink-0 flex border-b border-neutral-200 dark:border-neutral-700 overflow-x-auto",children:[u.jsx(yd,{label:"",isActive:t==="response",onClick:()=>n("response")}),u.jsx(yd,{label:"",isActive:t==="body",onClick:()=>n("body")}),u.jsx(yd,{label:"",isActive:t==="headers",onClick:()=>n("headers")})]}),u.jsxs("div",{className:"flex-1 overflow-hidden min-h-0",children:[t==="headers"&&u.jsx(kd,{data:e.headers,title:""}),t==="body"&&u.jsx(kd,{data:e.body,title:""}),t==="response"&&u.jsx(kd,{data:e.response,title:""})]})]})}function yd({label:e,isActive:t,onClick:n}){return u.jsx("button",{onClick:n,role:"tab","aria-selected":t,className:`
        flex-shrink-0 px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap
        ${t?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white"}
      `,children:e})}function G6({statusCode:e}){let t="bg-neutral-100 text-neutral-700 dark:bg-neutral-700 dark:text-neutral-300";return e>=200&&e<300?t="bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":e>=400&&e<500?t="bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":e>=500&&(t="bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),u.jsx("span",{className:`px-2 py-0.5 text-sm font-medium rounded ${t}`,children:e})}function kd({data:e,title:t}){const[n,r]=C.useState(!1),a=V6(e),s=C.useCallback(async()=>{try{await navigator.clipboard.writeText(a),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error(":",l)}},[a]);return e==null?u.jsx("div",{className:"flex items-center justify-center h-full text-neutral-500 dark:text-neutral-400",children:u.jsxs("p",{className:"text-sm",children:["",t,""]})}):u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-3 sm:px-4 py-2 bg-neutral-50 dark:bg-neutral-900/30 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("span",{className:"text-xs sm:text-sm text-neutral-600 dark:text-neutral-400",children:t}),u.jsxs("button",{onClick:s,"aria-label":n?"":"",className:`
            flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1 text-xs sm:text-sm rounded transition-colors
            ${n?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-600"}
          `,children:[n?u.jsx(Y6,{}):u.jsx(K6,{}),u.jsx("span",{className:"hidden xs:inline",children:n?"":""})]})]}),u.jsx("div",{className:"flex-1 overflow-auto p-3 sm:p-4 min-h-0",children:u.jsx("pre",{className:"text-xs sm:text-sm font-mono text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap break-words overflow-wrap-anywhere",children:a})})]})}function V6(e){if(e==null)return"";if(typeof e=="string")try{const t=JSON.parse(e);return JSON.stringify(t,null,2)}catch{return e}try{return JSON.stringify(e,null,2)}catch{return String(e)}}function K6(){return u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function Y6(){return u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function X6({isOpen:e,onClose:t}){const{requestHistory:n,selectedRequestId:r,debugEnabled:a,setDebugEnabled:s,selectRequest:l,clearHistory:c}=oc(),d=n.find(v=>v.id===r),f=C.useCallback(()=>{s(!a)},[a,s]),h=C.useCallback(()=>{window.confirm("")&&c()},[c]),g=C.useCallback(()=>{l(null)},[l]);return e?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 md:p-8",role:"dialog","aria-modal":"true","aria-labelledby":"debug-panel-title",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),u.jsxs("div",{className:"relative w-full max-w-4xl h-[calc(100vh-2rem)] sm:h-[calc(100vh-3rem)] md:h-[80vh] max-h-[800px] bg-white dark:bg-neutral-800 rounded-xl shadow-2xl overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-4 sm:px-6 py-3 sm:py-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d&&u.jsx("button",{onClick:g,className:"flex-shrink-0 p-1.5 rounded hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",title:"","aria-label":"",children:u.jsx(tk,{})}),u.jsx("h2",{id:"debug-panel-title",className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-white truncate",children:d?"":"API "})]}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm text-neutral-600 dark:text-neutral-400",children:[u.jsx("span",{className:"hidden xs:inline",children:""}),u.jsx("span",{className:"xs:hidden",children:""}),u.jsx("button",{onClick:f,role:"switch","aria-checked":a,"aria-label":"",className:`
                  relative w-9 sm:w-10 h-5 rounded-full transition-colors duration-200 flex-shrink-0
                  ${a?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600"}
                `,children:u.jsx("span",{className:`
                    absolute top-0.5 left-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform duration-200
                    ${a?"translate-x-4 sm:translate-x-5":"translate-x-0"}
                  `})})]}),!d&&n.length>0&&u.jsx("button",{onClick:h,className:"px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors whitespace-nowrap",children:""}),u.jsx("button",{onClick:t,className:"p-1.5 rounded hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors flex-shrink-0",title:"","aria-label":"",children:u.jsx(nk,{})})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:d?u.jsx(q6,{request:d}):u.jsx(Z6,{requests:n,selectedId:r,onSelect:l,debugEnabled:a})})]})]}):null}function Z6({requests:e,selectedId:t,onSelect:n,debugEnabled:r}){return r?e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-neutral-500 dark:text-neutral-400",children:[u.jsx(ik,{}),u.jsx("p",{className:"mt-4 text-lg",children:""}),u.jsx("p",{className:"mt-2 text-sm",children:""})]}):u.jsx("div",{className:"h-full overflow-y-auto",children:u.jsx("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:e.map(a=>u.jsx(Q6,{request:a,isSelected:a.id===t,onClick:()=>n(a.id)},a.id))})}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-neutral-500 dark:text-neutral-400",children:[u.jsx(ak,{}),u.jsx("p",{className:"mt-4 text-lg",children:""}),u.jsx("p",{className:"mt-2 text-sm",children:"API "})]})}function Q6({request:e,isSelected:t,onClick:n}){const r=new Date(e.timestamp).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=J6(e.statusCode);return u.jsxs("button",{onClick:n,className:`
        w-full px-4 sm:px-6 py-3 sm:py-4 text-left transition-colors
        ${t?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-neutral-50 dark:hover:bg-neutral-700/50"}
      `,children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"flex-shrink-0 w-12 sm:w-14 px-1.5 sm:px-2 py-0.5 text-xs font-medium rounded bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-center",children:e.method}),u.jsx("span",{className:"flex-1 min-w-0 text-xs sm:text-sm text-neutral-700 dark:text-neutral-300 truncate",children:ek(e.url)}),u.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 sm:gap-3 text-xs sm:text-sm",children:[e.statusCode!==void 0&&u.jsx("span",{className:`w-8 sm:w-10 text-center font-medium ${a}`,children:e.statusCode}),e.duration!==void 0&&u.jsx("span",{className:"w-14 sm:w-16 text-right text-neutral-500 dark:text-neutral-400",children:Hu(e.duration)}),u.jsx("span",{className:"hidden md:block w-24 text-right text-neutral-400 dark:text-neutral-500 text-xs",children:r}),u.jsx(rk,{})]})]}),e.error&&u.jsx("p",{className:"mt-2 ml-14 sm:ml-16 text-xs sm:text-sm text-red-600 dark:text-red-400 truncate",children:e.error})]})}function J6(e){return e===void 0?"text-neutral-500":e>=200&&e<300?"text-green-600 dark:text-green-400":e>=400&&e<500?"text-yellow-600 dark:text-yellow-400":e>=500?"text-red-600 dark:text-red-400":"text-neutral-500"}function ek(e){try{const t=new URL(e);return t.pathname+t.search}catch{return e.length>60?e.substring(0,60)+"...":e}}function tk(){return u.jsx("svg",{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}function nk(){return u.jsx("svg",{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function rk(){return u.jsx("svg",{className:"w-4 h-4 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function ik(){return u.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function ak(){return u.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}const sk="gemini-chat-images-db",ok=1;let ou=null;async function cf(){return ou||(ou=await sc(sk,ok,{upgrade(e){if(!e.objectStoreNames.contains("images")){const t=e.createObjectStore("images",{keyPath:"id"});t.createIndex("by-createdAt","createdAt"),t.createIndex("by-windowId","windowId")}}}),ou)}async function lk(){return(await(await cf()).getAllFromIndex("images","by-createdAt")).reverse()}async function uk(e){await(await cf()).put("images",e)}async function ck(e){await(await cf()).delete("images",e)}const df=oa((e,t)=>({images:[],isLoading:!1,loadImages:async()=>{Ge.info(""),e({isLoading:!0});try{const n=await lk();Ge.info("",{count:n.length}),e({images:n,isLoading:!1})}catch(n){Ge.error("",{error:n instanceof Error?n.message:""}),e({isLoading:!1})}},addImage:async n=>{Ge.info("",{id:n.id});try{await uk(n),e(r=>({images:[n,...r.images]}))}catch(r){throw Ge.error("",{error:r instanceof Error?r.message:"",imageId:n.id}),r}},deleteImage:async n=>{Ge.info("",{id:n});try{await ck(n),e(r=>({images:r.images.filter(a=>a.id!==n)}))}catch(r){throw Ge.error("",{error:r instanceof Error?r.message:"",imageId:n}),r}},getImagesByWindow:n=>t().images.filter(a=>a.windowId===n)})),wd=Object.freeze(Object.defineProperty({__proto__:null,useImageStore:df},Symbol.toStringTag,{value:"Module"}));function Ru(e){const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${a}`}function Qx(e){const t=new Date,n=new Date(e),r=Ru(t.getTime()),a=new Date(t);a.setDate(a.getDate()-1);const s=Ru(a.getTime()),l=Ru(e);if(l===r)return"";if(l===s)return"";const c=n.getMonth()+1,d=n.getDate();return n.getFullYear()!==t.getFullYear()?`${n.getFullYear()}${c}${d}`:`${c}${d}`}function dk(e){return[...e].sort((t,n)=>n.createdAt-t.createdAt)}function mk(e){const t=dk(e),n=new Map;for(const a of t){const s=Ru(a.createdAt),l=n.get(s);l?l.push(a):n.set(s,[a])}const r=[];for(const[a,s]of n){const l=s[0];if(l){const c=Qx(l.createdAt);r.push({date:c,dateKey:a,images:s})}}return r}function fk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function hk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})})}function pk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h5a2 2 0 012 2v5a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h5a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM15 4a2 2 0 012-2h1a2 2 0 012 2v14a2 2 0 01-2 2h-1a2 2 0 01-2-2V4z"})})}const Sd=C.memo(function({viewMode:t,onViewModeChange:n,onBackToChat:r,imageCount:a}){return u.jsxs("div",{className:"flex items-center justify-between px-2 sm:px-4 py-2 sm:py-3 border-b border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 transition-colors duration-200",children:[u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[u.jsxs("button",{onClick:r,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium text-neutral-600 dark:text-neutral-300 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-md sm:rounded-lg transition-colors active:scale-95 sm:active:scale-100","aria-label":"",children:[u.jsx(fk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden xs:inline",children:""}),u.jsx("span",{className:"xs:hidden",children:""})]}),u.jsx("div",{className:"hidden sm:block h-5 w-px bg-neutral-200 dark:bg-neutral-600"}),u.jsx("h2",{className:"text-sm sm:text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:""}),u.jsxs("span",{className:"text-xs sm:text-sm text-neutral-500 dark:text-neutral-400",children:["(",a,")"]})]}),u.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 p-0.5 sm:p-1 bg-neutral-100 dark:bg-neutral-700 rounded-md sm:rounded-lg transition-colors duration-200",children:[u.jsx("button",{onClick:()=>n("small"),className:`p-1.5 sm:p-2 rounded-md transition-all duration-200 ${t==="small"?"bg-white dark:bg-neutral-600 text-primary-600 dark:text-primary-400 shadow-sm scale-100":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 hover:scale-105"}`,"aria-label":"","aria-pressed":t==="small",children:u.jsx(hk,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),u.jsx("button",{onClick:()=>n("large"),className:`p-1.5 sm:p-2 rounded-md transition-all duration-200 ${t==="large"?"bg-white dark:bg-neutral-600 text-primary-600 dark:text-primary-400 shadow-sm scale-100":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 hover:scale-105"}`,"aria-label":"","aria-pressed":t==="large",children:u.jsx(pk,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})});function J1({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}const gk=C.memo(function({image:t,viewMode:n,onClick:r}){const[a,s]=C.useState(!1),[l,c]=C.useState(!1),d=`data:${t.mimeType};base64,${t.data}`,f=Qx(t.createdAt),h=C.useCallback(()=>{s(!0)},[]),g=C.useCallback(()=>{c(!0)},[]),v="aspect-square w-full",x=n==="large"?"rounded-lg sm:rounded-xl":"rounded-md sm:rounded-lg",w=t.aspectRatio||t.imageSize;return u.jsxs("button",{onClick:r,className:`
        group relative ${v} ${x} overflow-hidden 
        bg-neutral-100 dark:bg-neutral-700 
        hover:ring-2 hover:ring-primary-500 hover:ring-offset-1 sm:hover:ring-offset-2 
        dark:hover:ring-offset-neutral-800 
        transition-all duration-200 ease-out
        focus:outline-none focus:ring-2 focus:ring-primary-500 
        focus:ring-offset-1 sm:focus:ring-offset-2 dark:focus:ring-offset-neutral-800
        active:scale-[0.98] sm:active:scale-100
      `,"aria-label":t.prompt||"",children:[!a&&!l&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-neutral-100 dark:bg-neutral-700",children:u.jsx("div",{className:"animate-pulse",children:u.jsx(J1,{className:"w-12 h-12 text-neutral-300 dark:text-neutral-500"})})}),l&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-neutral-100 dark:bg-neutral-700",children:u.jsx(J1,{className:"w-12 h-12 text-neutral-400 dark:text-neutral-500"})}),!l&&u.jsx("img",{src:d,alt:t.prompt||"",className:`w-full h-full object-cover transition-transform duration-300 group-hover:scale-105 ${a?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:h,onError:g}),w&&u.jsxs("div",{className:"absolute top-2 left-2 flex gap-1",children:[t.aspectRatio&&u.jsx("span",{className:"px-1.5 py-0.5 bg-black/50 backdrop-blur-sm rounded text-xs text-white font-medium",children:t.aspectRatio}),t.imageSize&&u.jsx("span",{className:"px-1.5 py-0.5 bg-black/50 backdrop-blur-sm rounded text-xs text-white font-medium",children:t.imageSize})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 sm:p-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-white truncate",children:f}),w&&u.jsx("p",{className:"text-[10px] sm:text-xs text-white/80 mt-0.5",children:[t.aspectRatio,t.imageSize].filter(Boolean).join("  ")}),t.prompt&&n==="large"&&u.jsx("p",{className:"text-[10px] sm:text-xs text-white/80 truncate mt-0.5",children:t.prompt})]}),n==="small"&&u.jsx("div",{className:"absolute top-1 right-1 sm:top-2 sm:right-2 px-1.5 sm:px-2 py-0.5 bg-black/50 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:u.jsx("span",{className:"text-[10px] sm:text-xs text-white font-medium",children:f})})]})});function xk(e){return e==="small"?"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-2 sm:gap-3":"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 sm:gap-4"}function bk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}const vk=C.memo(function(){return u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"..."})]})})}),yk=C.memo(function(){return u.jsx("div",{className:"flex-1 flex items-center justify-center","data-testid":"empty-state",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-4",children:[u.jsx(bk,{className:"w-24 h-24 text-neutral-300 dark:text-neutral-600"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-700 dark:text-neutral-300",children:""}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:"AI "})]})]})})}),kk=C.memo(function({onBackToChat:t,onImageClick:n}){const[r,a]=C.useState("small"),[s,l]=C.useState(!1),c=C.useRef(null),d=C.useRef(0),{images:f,isLoading:h,loadImages:g}=df();C.useEffect(()=>{g()},[g]);const v=C.useCallback(E=>{c.current&&(d.current=c.current.scrollTop),l(!0),setTimeout(()=>{a(E),c.current&&(c.current.scrollTop=d.current),setTimeout(()=>{l(!1)},50)},150)},[]),x=C.useCallback(E=>{n==null||n(E)},[n]),w=mk(f);return h?u.jsxs("div",{className:"flex flex-col h-full bg-neutral-50 dark:bg-neutral-900",children:[u.jsx(Sd,{viewMode:r,onViewModeChange:v,onBackToChat:t,imageCount:0}),u.jsx(vk,{})]}):f.length===0?u.jsxs("div",{className:"flex flex-col h-full bg-neutral-50 dark:bg-neutral-900",children:[u.jsx(Sd,{viewMode:r,onViewModeChange:v,onBackToChat:t,imageCount:0}),u.jsx(yk,{})]}):u.jsxs("div",{className:"flex flex-col h-full bg-neutral-50 dark:bg-neutral-900",children:[u.jsx(Sd,{viewMode:r,onViewModeChange:v,onBackToChat:t,imageCount:f.length}),u.jsx("div",{ref:c,className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6",children:u.jsx("div",{className:`transition-opacity duration-150 ease-in-out ${s?"opacity-0":"opacity-100"}`,children:w.map(E=>u.jsxs("div",{className:"mb-4 sm:mb-6 last:mb-0",children:[u.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-neutral-600 dark:text-neutral-400 mb-2 sm:mb-3 sticky top-0 bg-neutral-50 dark:bg-neutral-900 py-1 z-10",children:[E.date,u.jsxs("span",{className:"ml-2 text-neutral-400 dark:text-neutral-500 font-normal",children:["(",E.images.length,")"]})]}),u.jsx("div",{className:`grid ${xk(r)} transition-all duration-200 ease-out`,children:E.images.map((N,T)=>u.jsx("div",{className:"transform transition-all duration-200 ease-out",style:{animationDelay:`${Math.min(T*20,200)}ms`},children:u.jsx(gk,{image:N,viewMode:r,onClick:()=>x(N)})},N.id))})]},E.dateKey))})})]})}),Ed=.1,Nd=5,lu=.1;function mc({image:e,isOpen:t,onClose:n}){var P;const[r,a]=C.useState("idle"),[s,l]=C.useState("idle"),[c,d]=C.useState(""),[f,h]=C.useState({scale:1,translateX:0,translateY:0}),[g,v]=C.useState(!1),x=C.useRef({x:0,y:0,translateX:0,translateY:0}),w=C.useRef(null),E=C.useRef(null),N=Y=>Y!==null&&"id"in Y&&"createdAt"in Y;C.useEffect(()=>{h({scale:1,translateX:0,translateY:0})},[e]),C.useEffect(()=>{if(!t)return;const Y=ee=>{ee.key==="Escape"&&n()};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[t,n]),C.useEffect(()=>{if(t){const Y=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Y}}},[t]);const T=C.useCallback(Y=>{Y.preventDefault();const ee=Y.deltaY>0?-lu:lu,W=Math.min(Nd,Math.max(Ed,f.scale+ee));if(w.current&&E.current){const Q=w.current.getBoundingClientRect(),A=Y.clientX-Q.left-Q.width/2,H=Y.clientY-Q.top-Q.height/2,ne=W/f.scale,R=A-(A-f.translateX)*ne,xe=H-(H-f.translateY)*ne;h({scale:W,translateX:R,translateY:xe})}else h(Q=>({...Q,scale:W}))},[f]),I=C.useCallback(Y=>{f.scale>1&&(Y.preventDefault(),v(!0),x.current={x:Y.clientX,y:Y.clientY,translateX:f.translateX,translateY:f.translateY})},[f.scale,f.translateX,f.translateY]),L=C.useCallback(Y=>{if(!g)return;const ee=Y.clientX-x.current.x,W=Y.clientY-x.current.y;h(Q=>({...Q,translateX:x.current.translateX+ee,translateY:x.current.translateY+W}))},[g]),B=C.useCallback(()=>{v(!1)},[]),D=C.useCallback(()=>{f.scale===1&&f.translateX===0&&f.translateY===0?h({scale:1,translateX:0,translateY:0}):h({scale:1,translateX:0,translateY:0})},[f.scale,f.translateX,f.translateY]),O=C.useCallback(()=>{h(Y=>({...Y,scale:Math.min(Nd,Y.scale+lu)}))},[]),te=C.useCallback(()=>{h(Y=>({...Y,scale:Math.max(Ed,Y.scale-lu)}))},[]),G=C.useCallback(()=>{h({scale:1,translateX:0,translateY:0})},[]),J=C.useCallback(()=>{if(e)try{const Y=document.createElement("a");Y.href=`data:${e.mimeType};base64,${e.data}`;const ee=e.mimeType.split("/")[1]||"png",W=new Date().toISOString().slice(0,19).replace(/[:-]/g,""),Q=N(e)?e.id.slice(0,8):W.slice(-8);Y.download=`generated_image_${W}_${Q}.${ee}`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),l("success"),setTimeout(()=>l("idle"),2e3)}catch(Y){console.error(":",Y),l("error"),setTimeout(()=>l("idle"),2e3)}},[e]),z=C.useCallback(async()=>{if(e)try{const Y=atob(e.data),ee=new Array(Y.length);for(let A=0;A<Y.length;A++)ee[A]=Y.charCodeAt(A);const W=new Uint8Array(ee),Q=new Blob([W],{type:e.mimeType});await navigator.clipboard.write([new ClipboardItem({[e.mimeType]:Q})]),a("success"),d(""),setTimeout(()=>a("idle"),2e3)}catch(Y){console.error(":",Y),Y instanceof Error?Y.name==="NotAllowedError"?d(""):Y.name==="SecurityError"?d(""):d(""):d(""),a("error"),setTimeout(()=>{a("idle"),d("")},3e3)}},[e]),ie=C.useCallback(Y=>{Y.target===Y.currentTarget&&n()},[n]);if(!t||!e)return null;const se=`data:${e.mimeType};base64,${e.data}`,de=Y=>new Date(Y).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),K=u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:ie,role:"presentation",children:[u.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-black/50 backdrop-blur-sm rounded-lg px-3 py-2 z-10",children:[u.jsx("button",{onClick:te,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded transition-colors",title:"",disabled:f.scale<=Ed,children:u.jsx(Tk,{className:"h-5 w-5"})}),u.jsxs("span",{className:"text-white text-sm min-w-[60px] text-center font-medium",children:[Math.round(f.scale*100),"%"]}),u.jsx("button",{onClick:O,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded transition-colors",title:"",disabled:f.scale>=Nd,children:u.jsx(Nk,{className:"h-5 w-5"})}),u.jsx("div",{className:"w-px h-5 bg-white/20 mx-1"}),u.jsx("button",{onClick:G,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded transition-colors",title:"",children:u.jsx(Ck,{className:"h-5 w-5"})}),u.jsxs("button",{onClick:J,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded transition-colors",title:"",children:[u.jsx(wk,{className:"h-5 w-5"}),s==="success"&&u.jsx("span",{className:"sr-only",children:""})]}),u.jsxs("button",{onClick:z,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded transition-colors",title:"",children:[u.jsx(Sk,{className:"h-5 w-5"}),r==="success"&&u.jsx("span",{className:"sr-only",children:""})]}),u.jsx("div",{className:"w-px h-5 bg-white/20 mx-1"}),u.jsx("button",{onClick:n,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded transition-colors",title:" (ESC)",children:u.jsx(Ek,{className:"h-5 w-5"})})]}),(r!=="idle"||s!=="idle")&&u.jsxs("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 z-10",children:[r==="success"&&u.jsx("div",{className:"bg-green-500/90 text-white px-4 py-2 rounded-lg text-sm",children:""}),r==="error"&&c&&u.jsx("div",{className:"bg-red-500/90 text-white px-4 py-2 rounded-lg text-sm",children:c}),s==="success"&&u.jsx("div",{className:"bg-green-500/90 text-white px-4 py-2 rounded-lg text-sm",children:""}),s==="error"&&u.jsx("div",{className:"bg-red-500/90 text-white px-4 py-2 rounded-lg text-sm",children:""})]}),u.jsx("div",{ref:w,className:"w-full h-full flex items-center justify-center overflow-hidden",onWheel:T,onMouseDown:I,onMouseMove:L,onMouseUp:B,onMouseLeave:B,onDoubleClick:D,style:{cursor:g?"grabbing":f.scale>1?"grab":"default"},role:"dialog","aria-modal":"true","aria-label":"",children:u.jsx("img",{ref:E,src:se,alt:N(e)&&e.prompt?e.prompt:"",className:"max-w-[90vw] max-h-[90vh] object-contain select-none",style:{transform:`translate(${f.translateX}px, ${f.translateY}px) scale(${f.scale})`,transition:g?"none":"transform 0.1s ease-out"},draggable:!1})}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-4 bg-black/50 backdrop-blur-sm rounded-lg px-4 py-2 text-sm text-white/80 z-10",children:[N(e)?u.jsxs("span",{children:[": ",de(e.createdAt)]}):u.jsxs("span",{children:["  ",((P=e.mimeType.split("/")[1])==null?void 0:P.toUpperCase())||"PNG"]}),N(e)&&e.prompt&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-px h-4 bg-white/20"}),u.jsxs("span",{className:"truncate max-w-[300px]",title:e.prompt,children:[": ",e.prompt]})]}),u.jsx("div",{className:"w-px h-4 bg-white/20"}),u.jsx("span",{className:"text-white/60",children:"    "})]})]});return Ci.createPortal(K,document.body)}function wk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}function Sk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function Ek({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function Nk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}function Tk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}function Ck({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}function _k({selectedTemplateId:e,onEdit:t,onDelete:n,onUseTemplate:r}){const{getTemplateById:a}=sf(),s=e?a(e):null,l=C.useCallback(()=>{s&&t(s)},[s,t]),c=C.useCallback(()=>{s&&n(s.id)},[s,n]),d=C.useCallback(()=>{s&&r(s)},[s,r]);return s?u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-neutral-900",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ak,{className:"w-6 h-6 text-primary-500"}),u.jsx("h2",{className:"text-xl font-semibold text-neutral-800 dark:text-neutral-200",children:s.name}),s.isBuiltIn&&u.jsx("span",{className:"px-2 py-0.5 text-xs bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 rounded",children:""})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:l,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",title:"",children:[u.jsx(Ik,{className:"w-4 h-4"}),""]}),!s.isBuiltIn&&u.jsxs("button",{onClick:c,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-neutral-600 dark:text-neutral-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",title:"",children:[u.jsx(jk,{className:"w-4 h-4"}),""]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 custom-scrollbar",children:[s.description&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider mb-2",children:""}),u.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:s.description})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider mb-2",children:""}),u.jsx("div",{className:"bg-neutral-50 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden",children:u.jsx("pre",{className:"p-4 text-sm text-neutral-700 dark:text-neutral-300 whitespace-pre-wrap break-words font-mono overflow-x-auto max-h-96 custom-scrollbar",children:s.systemInstruction})})]}),u.jsxs("div",{className:"text-xs text-neutral-400 dark:text-neutral-500 space-y-1",children:[u.jsxs("p",{children:[": ",new Date(s.createdAt).toLocaleString("zh-CN")]}),u.jsxs("p",{children:[": ",new Date(s.updatedAt).toLocaleString("zh-CN")]})]})]}),u.jsx("div",{className:"px-6 py-4 border-t border-neutral-200 dark:border-neutral-700",children:u.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors font-medium shadow-sm",children:[u.jsx(Rk,{className:"w-5 h-5"}),""]})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[u.jsx(Mk,{className:"w-16 h-16 text-neutral-300 dark:text-neutral-600 mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:""}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-500 max-w-sm",children:""})]})}function Mk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function Ak({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function Ik({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function jk({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function Rk({className:e}){return u.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}const Lk={sm:{maxWidth:"400px",width:"90%"},md:{maxWidth:"600px",width:"90%"},lg:{maxWidth:"800px",width:"90%"},xl:{maxWidth:"1000px",width:"90%"},full:{maxWidth:"100%",width:"100%",height:"100%",margin:0,borderRadius:0}};function Jx({isOpen:e,onClose:t,children:n,size:r="md",title:a,showCloseButton:s=!0,closeOnOverlayClick:l=!0,closeOnEsc:c=!0,className:d="",overlayClassName:f="",onOpened:h,onClosed:g}){const v=gr(),[x,w]=C.useState(!1),[E,N]=C.useState("exited"),T=C.useRef(null),I=C.useRef(null),L=v?0:ir.normal;C.useEffect(()=>{if(e)I.current=document.activeElement,w(!0),requestAnimationFrame(()=>{N("entering");const G=setTimeout(()=>{var J;N("entered"),h==null||h(),(J=T.current)==null||J.focus()},L);return()=>clearTimeout(G)});else if(x){N("exiting");const G=setTimeout(()=>{N("exited"),w(!1),g==null||g(),I.current instanceof HTMLElement&&I.current.focus()},L);return()=>clearTimeout(G)}},[e,L,h,g,x]),C.useEffect(()=>{if(!e||!c)return;const G=J=>{J.key==="Escape"&&t()};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[e,c,t]),C.useEffect(()=>{if(e){const G=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=G}}},[e]);const B=C.useCallback(G=>{l&&G.target===G.currentTarget&&t()},[l,t]);if(!x)return null;const D=()=>({position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,opacity:E==="entering"||E==="exited"?0:1,transition:E==="entering"||E==="exiting"?`opacity ${L}ms ${ln.easeOut}`:void 0}),O=()=>{const G=E==="entering"||E==="exiting",J=E==="entering"||E==="exited";return{...Lk[r],backgroundColor:"var(--bg-primary, #ffffff)",borderRadius:r==="full"?0:"12px",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)",maxHeight:r==="full"?"100%":"90vh",display:"flex",flexDirection:"column",outline:"none",opacity:J?0:1,transform:J?"scale(0.95)":"scale(1)",transition:G?`opacity ${L}ms ${ln.easeOut}, transform ${L}ms ${ln.easeOut}`:void 0}},te=u.jsx("div",{style:D(),className:f,onClick:B,role:"presentation",children:u.jsxs("div",{ref:T,style:O(),className:d,role:"dialog","aria-modal":"true","aria-labelledby":a?"modal-title":void 0,tabIndex:-1,children:[(a||s)&&u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 24px",borderBottom:"1px solid var(--border-color, #e4e4e7)",flexShrink:0},children:[a&&u.jsx("h2",{id:"modal-title",style:{margin:0,fontSize:"1.25rem",fontWeight:600,color:"var(--text-primary, #18181b)"},children:a}),s&&u.jsx("button",{onClick:t,style:{background:"none",border:"none",padding:"8px",cursor:"pointer",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary, #71717a)",transition:`background-color ${ir.fast}ms ${ln.easeOut}`},onMouseEnter:G=>{G.currentTarget.style.backgroundColor="var(--bg-hover, #f4f4f5)"},onMouseLeave:G=>{G.currentTarget.style.backgroundColor="transparent"},"aria-label":"",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M15 5L5 15M5 5l10 10"})})})]}),u.jsx("div",{style:{padding:"24px",overflow:"auto",flex:1},children:n})]})});return Ci.createPortal(te,document.body)}function e4({isOpen:e,onClose:t,template:n,onSave:r}){const[a,s]=C.useState(""),[l,c]=C.useState(""),[d,f]=C.useState(""),[h,g]=C.useState({}),v=n!==null;C.useEffect(()=>{e&&(n?(s(n.name),c(n.description),f(n.systemInstruction)):(s(""),c(""),f("")),g({}))},[e,n]);const x=C.useCallback(()=>{const N={};return a.trim()||(N.name=""),d.trim()||(N.systemInstruction=""),g(N),Object.keys(N).length===0},[a,d]),w=C.useCallback(()=>{x()&&(r(v&&n?{id:n.id,updates:{name:a.trim(),description:l.trim(),systemInstruction:d}}:{name:a.trim(),description:l.trim(),systemInstruction:d}),t())},[v,n,a,l,d,x,r,t]),E=C.useCallback(N=>{N.key==="Enter"&&(N.ctrlKey||N.metaKey)&&(N.preventDefault(),w())},[w]);return u.jsx(Jx,{isOpen:e,onClose:t,size:"lg",title:v?"":"",className:"bg-white dark:bg-neutral-900 !max-w-[900px] !w-[90vw]",children:u.jsxs("div",{className:"flex flex-col gap-6",onKeyDown:E,children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("label",{htmlFor:"template-name",className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{id:"template-name",type:"text",value:a,onChange:N=>s(N.target.value),placeholder:"",className:`
              w-full px-4 py-2.5 rounded-lg border
              bg-white dark:bg-neutral-800
              text-neutral-900 dark:text-neutral-100
              placeholder-neutral-400 dark:placeholder-neutral-500
              focus:outline-none focus:ring-2 focus:ring-primary-500/50
              transition-colors
              ${h.name?"border-red-500 dark:border-red-500":"border-neutral-300 dark:border-neutral-600"}
            `}),h.name&&u.jsx("p",{className:"text-sm text-red-500",children:h.name})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{htmlFor:"template-description",className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:""}),u.jsx("input",{id:"template-description",type:"text",value:l,onChange:N=>c(N.target.value),placeholder:"",className:`\r
              w-full px-4 py-2.5 rounded-lg border\r
              bg-white dark:bg-neutral-800\r
              border-neutral-300 dark:border-neutral-600\r
              text-neutral-900 dark:text-neutral-100\r
              placeholder-neutral-400 dark:placeholder-neutral-500\r
              focus:outline-none focus:ring-2 focus:ring-primary-500/50\r
              transition-colors\r
            `})]}),u.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[u.jsxs("label",{htmlFor:"template-system-instruction",className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{id:"template-system-instruction",value:d,onChange:N=>f(N.target.value),placeholder:"...",rows:20,className:`
              w-full px-4 py-3 rounded-lg border
              bg-white dark:bg-neutral-800
              text-neutral-900 dark:text-neutral-100
              placeholder-neutral-400 dark:placeholder-neutral-500
              focus:outline-none focus:ring-2 focus:ring-primary-500/50
              transition-colors resize-y
              font-mono text-sm leading-relaxed
              min-h-[400px]
              ${h.systemInstruction?"border-red-500 dark:border-red-500":"border-neutral-300 dark:border-neutral-600"}
            `}),h.systemInstruction&&u.jsx("p",{className:"text-sm text-red-500",children:h.systemInstruction}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:":  Ctrl+Enter "})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[u.jsx("button",{onClick:t,className:`\r
              px-4 py-2 rounded-lg\r
              text-neutral-600 dark:text-neutral-400\r
              hover:bg-neutral-100 dark:hover:bg-neutral-800\r
              transition-colors\r
            `,children:""}),u.jsx("button",{onClick:w,className:`\r
              px-6 py-2 rounded-lg\r
              bg-primary-500 hover:bg-primary-600\r
              text-white font-medium\r
              transition-colors\r
              shadow-sm\r
            `,children:v?"":""})]})]})})}const Ok="gemini-chat-bookmarks-db",Dk=1;let uu=null;async function t4(){return uu||(uu=await sc(Ok,Dk,{upgrade(e){if(!e.objectStoreNames.contains("bookmarks")){const t=e.createObjectStore("bookmarks",{keyPath:"id"});t.createIndex("by-created","createdAt"),t.createIndex("by-message","messageId")}}}),uu)}async function eg(e){const n=(await t4()).transaction("bookmarks","readwrite");await n.store.clear();for(const r of e)await n.store.put(r);await n.done}async function zk(){return(await(await t4()).getAllFromIndex("bookmarks","by-created")).reverse()}function Pk(){return`bookmark-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}const fc=oa((e,t)=>({bookmarks:[],initialized:!1,isLoading:!1,loadBookmarks:async()=>{e({isLoading:!0});try{const n=await zk();e({bookmarks:n,initialized:!0,isLoading:!1})}catch(n){Ge.error("",{error:n instanceof Error?n.message:""}),e({bookmarks:[],initialized:!0,isLoading:!1})}},addBookmark:async n=>{const r=t().bookmarks.find(l=>l.messageId===n.messageId);if(r)return r;const a={...n,id:Pk(),createdAt:Date.now()},s=[...t().bookmarks,a];e({bookmarks:s});try{await eg(s)}catch(l){Ge.error("",{error:l instanceof Error?l.message:""})}return a},removeBookmark:async n=>{const r=t().bookmarks;if(!r.find(l=>l.messageId===n))return!1;const s=r.filter(l=>l.messageId!==n);e({bookmarks:s});try{await eg(s)}catch(l){Ge.error("",{error:l instanceof Error?l.message:""})}return!0},isBookmarked:n=>t().bookmarks.some(r=>r.messageId===n),getBookmarkByMessageId:n=>t().bookmarks.find(r=>r.messageId===n),toggleBookmark:async n=>t().isBookmarked(n.messageId)?(await t().removeBookmark(n.messageId),!1):(await t().addBookmark(n),!0)}));function tg(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const l=n.slice(a,r).trim();(l||!s)&&t.push(l),a=r+1,r=n.indexOf(",",a)}return t}function Bk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Fk=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$k=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Hk={};function ng(e,t){return(Hk.jsx?$k:Fk).test(e)}const Uk=/[ \t\n\f\r]/g;function Wk(e){return typeof e=="object"?e.type==="text"?rg(e.value):!1:rg(e)}function rg(e){return e.replace(Uk,"")===""}class Fo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Fo.prototype.normal={};Fo.prototype.property={};Fo.prototype.space=void 0;function n4(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Fo(n,r,t)}function Lo(e){return e.toLowerCase()}class ar{constructor(t,n){this.attribute=n,this.property=t}}ar.prototype.attribute="";ar.prototype.booleanish=!1;ar.prototype.boolean=!1;ar.prototype.commaOrSpaceSeparated=!1;ar.prototype.commaSeparated=!1;ar.prototype.defined=!1;ar.prototype.mustUseProperty=!1;ar.prototype.number=!1;ar.prototype.overloadedBoolean=!1;ar.prototype.property="";ar.prototype.spaceSeparated=!1;ar.prototype.space=void 0;let qk=0;const ot=Ba(),hn=Ba(),Tm=Ba(),Se=Ba(),At=Ba(),Cs=Ba(),mr=Ba();function Ba(){return 2**++qk}const Cm=Object.freeze(Object.defineProperty({__proto__:null,boolean:ot,booleanish:hn,commaOrSpaceSeparated:mr,commaSeparated:Cs,number:Se,overloadedBoolean:Tm,spaceSeparated:At},Symbol.toStringTag,{value:"Module"})),Td=Object.keys(Cm);class mf extends ar{constructor(t,n,r,a){let s=-1;if(super(t,n),ig(this,"space",a),typeof r=="number")for(;++s<Td.length;){const l=Td[s];ig(this,Td[s],(r&Cm[l])===Cm[l])}}}mf.prototype.defined=!0;function ig(e,t,n){n&&(e[t]=n)}function js(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new mf(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Lo(r)]=r,n[Lo(s.attribute)]=r}return new Fo(t,n,e.space)}const r4=js({properties:{ariaActiveDescendant:null,ariaAtomic:hn,ariaAutoComplete:null,ariaBusy:hn,ariaChecked:hn,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:At,ariaCurrent:null,ariaDescribedBy:At,ariaDetails:null,ariaDisabled:hn,ariaDropEffect:At,ariaErrorMessage:null,ariaExpanded:hn,ariaFlowTo:At,ariaGrabbed:hn,ariaHasPopup:null,ariaHidden:hn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:At,ariaLevel:Se,ariaLive:null,ariaModal:hn,ariaMultiLine:hn,ariaMultiSelectable:hn,ariaOrientation:null,ariaOwns:At,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:hn,ariaReadOnly:hn,ariaRelevant:null,ariaRequired:hn,ariaRoleDescription:At,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:hn,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function i4(e,t){return t in e?e[t]:t}function a4(e,t){return i4(e,t.toLowerCase())}const Gk=js({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cs,acceptCharset:At,accessKey:At,action:null,allow:null,allowFullScreen:ot,allowPaymentRequest:ot,allowUserMedia:ot,alt:null,as:null,async:ot,autoCapitalize:null,autoComplete:At,autoFocus:ot,autoPlay:ot,blocking:At,capture:null,charSet:null,checked:ot,cite:null,className:At,cols:Se,colSpan:null,content:null,contentEditable:hn,controls:ot,controlsList:At,coords:Se|Cs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ot,defer:ot,dir:null,dirName:null,disabled:ot,download:Tm,draggable:hn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ot,formTarget:null,headers:At,height:Se,hidden:Tm,high:Se,href:null,hrefLang:null,htmlFor:At,httpEquiv:At,id:null,imageSizes:null,imageSrcSet:null,inert:ot,inputMode:null,integrity:null,is:null,isMap:ot,itemId:null,itemProp:At,itemRef:At,itemScope:ot,itemType:At,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ot,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:ot,muted:ot,name:null,nonce:null,noModule:ot,noValidate:ot,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ot,optimum:Se,pattern:null,ping:At,placeholder:null,playsInline:ot,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ot,referrerPolicy:null,rel:At,required:ot,reversed:ot,rows:Se,rowSpan:Se,sandbox:At,scope:null,scoped:ot,seamless:ot,selected:ot,shadowRootClonable:ot,shadowRootDelegatesFocus:ot,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:hn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:ot,useMap:null,value:hn,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:At,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ot,declare:ot,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:ot,noHref:ot,noShade:ot,noWrap:ot,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:hn,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ot,disableRemotePlayback:ot,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:a4}),Vk=js({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mr,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:At,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:ot,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cs,g2:Cs,glyphName:Cs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:mr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:At,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mr,rev:mr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mr,requiredFeatures:mr,requiredFonts:mr,requiredFormats:mr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:mr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mr,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:i4}),s4=js({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),o4=js({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:a4}),l4=js({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Kk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Yk=/[A-Z]/g,ag=/-[a-z]/g,Xk=/^data[-\w.:]+$/i;function u4(e,t){const n=Lo(t);let r=t,a=ar;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Xk.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(ag,Qk);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!ag.test(s)){let l=s.replace(Yk,Zk);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}a=mf}return new a(r,t)}function Zk(e){return"-"+e.toLowerCase()}function Qk(e){return e.charAt(1).toUpperCase()}const c4=n4([r4,Gk,s4,o4,l4],"html"),hc=n4([r4,Vk,s4,o4,l4],"svg");function sg(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Jk(e){return e.join(" ").trim()}var gs={},Cd,og;function ew(){if(og)return Cd;og=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",h="*",g="",v="comment",x="declaration";function w(N,T){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];T=T||{};var I=1,L=1;function B(K){var P=K.match(t);P&&(I+=P.length);var Y=K.lastIndexOf(d);L=~Y?K.length-Y:L+K.length}function D(){var K={line:I,column:L};return function(P){return P.position=new O(K),J(),P}}function O(K){this.start=K,this.end={line:I,column:L},this.source=T.source}O.prototype.content=N;function te(K){var P=new Error(T.source+":"+I+":"+L+": "+K);if(P.reason=K,P.filename=T.source,P.line=I,P.column=L,P.source=N,!T.silent)throw P}function G(K){var P=K.exec(N);if(P){var Y=P[0];return B(Y),N=N.slice(Y.length),P}}function J(){G(n)}function z(K){var P;for(K=K||[];P=ie();)P!==!1&&K.push(P);return K}function ie(){var K=D();if(!(f!=N.charAt(0)||h!=N.charAt(1))){for(var P=2;g!=N.charAt(P)&&(h!=N.charAt(P)||f!=N.charAt(P+1));)++P;if(P+=2,g===N.charAt(P-1))return te("End of comment missing");var Y=N.slice(2,P-2);return L+=2,B(Y),N=N.slice(P),L+=2,K({type:v,comment:Y})}}function se(){var K=D(),P=G(r);if(P){if(ie(),!G(a))return te("property missing ':'");var Y=G(s),ee=K({type:x,property:E(P[0].replace(e,g)),value:Y?E(Y[0].replace(e,g)):g});return G(l),ee}}function de(){var K=[];z(K);for(var P;P=se();)P!==!1&&(K.push(P),z(K));return K}return J(),de()}function E(N){return N?N.replace(c,g):g}return Cd=w,Cd}var lg;function tw(){if(lg)return gs;lg=1;var e=gs&&gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gs,"__esModule",{value:!0}),gs.default=n;const t=e(ew());function n(r,a){let s=null;if(!r||typeof r!="string")return s;const l=(0,t.default)(r),c=typeof a=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:h}=d;c?a(f,h,d):h&&(s=s||{},s[f]=h)}),s}return gs}var vo={},ug;function nw(){if(ug)return vo;ug=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},c=function(f,h){return"".concat(h,"-")},d=function(f,h){return h===void 0&&(h={}),s(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(a,c):f=f.replace(r,c),f.replace(t,l))};return vo.camelCase=d,vo}var yo,cg;function rw(){if(cg)return yo;cg=1;var e=yo&&yo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(tw()),n=nw();function r(a,s){var l={};return!a||typeof a!="string"||(0,t.default)(a,function(c,d){c&&d&&(l[(0,n.camelCase)(c,s)]=d)}),l}return r.default=r,yo=r,yo}var iw=rw();const aw=rc(iw),d4=m4("end"),ff=m4("start");function m4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function sw(e){const t=ff(e),n=d4(e);if(t&&n)return{start:t,end:n}}function Mo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?dg(e.position):"start"in e||"end"in e?dg(e):"line"in e||"column"in e?_m(e):""}function _m(e){return mg(e&&e.line)+":"+mg(e&&e.column)}function dg(e){return _m(e&&e.start)+"-"+_m(e&&e.end)}function mg(e){return e&&typeof e=="number"?e:1}class zn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?a=t:!s.cause&&t&&(l=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?s.ruleId=r:(s.source=r.slice(0,d),s.ruleId=r.slice(d+1))}if(!s.place&&s.ancestors&&s.ancestors){const d=s.ancestors[s.ancestors.length-1];d&&(s.place=d.position)}const c=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=c?c.line:void 0,this.name=Mo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zn.prototype.file="";zn.prototype.name="";zn.prototype.reason="";zn.prototype.message="";zn.prototype.stack="";zn.prototype.column=void 0;zn.prototype.line=void 0;zn.prototype.ancestors=void 0;zn.prototype.cause=void 0;zn.prototype.fatal=void 0;zn.prototype.place=void 0;zn.prototype.ruleId=void 0;zn.prototype.source=void 0;const hf={}.hasOwnProperty,ow=new Map,lw=/[A-Z]/g,uw=new Set(["table","tbody","thead","tfoot","tr"]),cw=new Set(["td","th"]),f4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dw(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vw(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=bw(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?hc:c4,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=h4(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function h4(e,t,n){if(t.type==="element")return mw(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return fw(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return pw(e,t,n);if(t.type==="mdxjsEsm")return hw(e,t);if(t.type==="root")return gw(e,t,n);if(t.type==="text")return xw(e,t)}function mw(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=hc,e.schema=a),e.ancestors.push(t);const s=g4(e,t.tagName,!1),l=yw(e,t);let c=gf(e,t);return uw.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!Wk(d):!0})),p4(e,l,s,t),pf(l,c),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function fw(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Oo(e,t.position)}function hw(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Oo(e,t.position)}function pw(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=hc,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:g4(e,t.name,!0),l=kw(e,t),c=gf(e,t);return p4(e,l,s,t),pf(l,c),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function gw(e,t,n){const r={};return pf(r,gf(e,t)),e.create(t,e.Fragment,r,n)}function xw(e,t){return t.value}function p4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function pf(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function bw(e,t,n){return r;function r(a,s,l,c){const f=Array.isArray(l.children)?n:t;return c?f(s,l,c):f(s,l)}}function vw(e,t){return n;function n(r,a,s,l){const c=Array.isArray(s.children),d=ff(r);return t(a,s,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function yw(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&hf.call(t.properties,a)){const s=ww(e,a,t.properties[a]);if(s){const[l,c]=s;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&cw.has(t.tagName)?r=c:n[l]=c}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function kw(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const l=s.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Oo(e,t.position);else{const a=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,s=e.evaluater.evaluateExpression(c.expression)}else Oo(e,t.position);else s=r.value===null?!0:r.value;n[a]=s}return n}function gf(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:ow;for(;++r<t.children.length;){const s=t.children[r];let l;if(e.passKeys){const d=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(d){const f=a.get(d)||0;l=d+"-"+f,a.set(d,f+1)}}const c=h4(e,s,l);c!==void 0&&n.push(c)}return n}function ww(e,t,n){const r=u4(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Bk(n):Jk(n)),r.property==="style"){let a=typeof n=="object"?n:Sw(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Ew(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Kk[r.property]||r.property:r.attribute,n]}}function Sw(e,t){try{return aw(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new zn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=f4+"#cannot-parse-style-attribute",a}}function g4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,l;for(;++s<a.length;){const c=ng(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(s&&c.type==="Literal"),optional:!1}:c}r=l}else r=ng(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return hf.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Oo(e)}function Oo(e,t){const n=new zn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=f4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ew(e){const t={};let n;for(n in e)hf.call(e,n)&&(t[Nw(n)]=e[n]);return t}function Nw(e){let t=e.replace(lw,Tw);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Tw(e){return"-"+e.toLowerCase()}const _d={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Cw={};function xf(e,t){const n=Cw,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return x4(e,r,a)}function x4(e,t,n){if(_w(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return fg(e.children,t,n)}return Array.isArray(e)?fg(e,t,n):""}function fg(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=x4(e[a],t,n);return r.join("")}function _w(e){return!!(e&&typeof e=="object")}const hg=document.createElement("i");function bf(e){const t="&"+e+";";hg.innerHTML=t;const n=hg.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function hr(e,t,n,r){const a=e.length;let s=0,l;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);s<r.length;)l=r.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function Cr(e,t){return e.length>0?(hr(e,e.length,0,t),e):t}const pg={}.hasOwnProperty;function b4(e){const t={};let n=-1;for(;++n<e.length;)Mw(t,e[n]);return t}function Mw(e,t){let n;for(n in t){const a=(pg.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let l;if(s)for(l in s){pg.call(a,l)||(a[l]=[]);const c=s[l];Aw(a[l],Array.isArray(c)?c:c?[c]:[])}}}function Aw(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);hr(e,0,0,r)}function v4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Hr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wn=ua(/[A-Za-z]/),Dn=ua(/[\dA-Za-z]/),Iw=ua(/[#-'*+\--9=?A-Z^-~]/);function Uu(e){return e!==null&&(e<32||e===127)}const Mm=ua(/\d/),jw=ua(/[\dA-Fa-f]/),Rw=ua(/[!-/:-@[-`{-~]/);function Ue(e){return e!==null&&e<-2}function Nt(e){return e!==null&&(e<0||e===32)}function ht(e){return e===-2||e===-1||e===32}const pc=ua(new RegExp("\\p{P}|\\p{S}","u")),Pa=ua(/\s/);function ua(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Rs(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let l="";if(s===37&&Dn(e.charCodeAt(n+1))&&Dn(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const c=e.charCodeAt(n+1);s<56320&&c>56319&&c<57344?(l=String.fromCharCode(s,c),a=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+a+1,l=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function mt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(d){return ht(d)?(e.enter(n),c(d)):t(d)}function c(d){return ht(d)&&s++<a?(e.consume(d),c):(e.exit(n),t(d))}}const Lw={tokenize:Ow};function Ow(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),mt(e,t,"linePrefix")}function a(c){return e.enter("paragraph"),s(c)}function s(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ue(c)?(e.consume(c),e.exit("chunkText"),s):(e.consume(c),l)}}const Dw={tokenize:zw},gg={tokenize:Pw};function zw(e){const t=this,n=[];let r=0,a,s,l;return c;function c(L){if(r<n.length){const B=n[r];return t.containerState=B[1],e.attempt(B[0].continuation,d,f)(L)}return f(L)}function d(L){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&I();const B=t.events.length;let D=B,O;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){O=t.events[D][1].end;break}T(r);let te=B;for(;te<t.events.length;)t.events[te][1].end={...O},te++;return hr(t.events,D+1,0,t.events.slice(B)),t.events.length=te,f(L)}return c(L)}function f(L){if(r===n.length){if(!a)return v(L);if(a.currentConstruct&&a.currentConstruct.concrete)return w(L);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gg,h,g)(L)}function h(L){return a&&I(),T(r),v(L)}function g(L){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,w(L)}function v(L){return t.containerState={},e.attempt(gg,x,w)(L)}function x(L){return r++,n.push([t.currentConstruct,t.containerState]),v(L)}function w(L){if(L===null){a&&I(),T(0),e.consume(L);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),E(L)}function E(L){if(L===null){N(e.exit("chunkFlow"),!0),T(0),e.consume(L);return}return Ue(L)?(e.consume(L),N(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(L),E)}function N(L,B){const D=t.sliceStream(L);if(B&&D.push(null),L.previous=s,s&&(s.next=L),s=L,a.defineSkip(L.start),a.write(D),t.parser.lazy[L.start.line]){let O=a.events.length;for(;O--;)if(a.events[O][1].start.offset<l&&(!a.events[O][1].end||a.events[O][1].end.offset>l))return;const te=t.events.length;let G=te,J,z;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){if(J){z=t.events[G][1].end;break}J=!0}for(T(r),O=te;O<t.events.length;)t.events[O][1].end={...z},O++;hr(t.events,G+1,0,t.events.slice(te)),t.events.length=O}}function T(L){let B=n.length;for(;B-- >L;){const D=n[B];t.containerState=D[1],D[0].exit.call(t,e)}n.length=L}function I(){a.write([null]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Pw(e,t,n){return mt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ms(e){if(e===null||Nt(e)||Pa(e))return 1;if(pc(e))return 2}function gc(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Am={name:"attention",resolveAll:Bw,tokenize:Fw};function Bw(e,t){let n=-1,r,a,s,l,c,d,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},v={...e[n][1].start};xg(g,-d),xg(v,d),l={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},s={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Cr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Cr(f,[["enter",a,t],["enter",l,t],["exit",l,t],["enter",s,t]]),f=Cr(f,gc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Cr(f,[["exit",s,t],["enter",c,t],["exit",c,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=Cr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,hr(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Fw(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Ms(r);let s;return l;function l(d){return s=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===s)return e.consume(d),c;const f=e.exit("attentionSequence"),h=Ms(d),g=!h||h===2&&a||n.includes(d),v=!a||a===2&&h||n.includes(r);return f._open=!!(s===42?g:g&&(a||!v)),f._close=!!(s===42?v:v&&(h||!g)),t(d)}}function xg(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const $w={name:"autolink",tokenize:Hw};function Hw(e,t,n){let r=0;return a;function a(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(x){return Wn(x)?(e.consume(x),l):x===64?n(x):f(x)}function l(x){return x===43||x===45||x===46||Dn(x)?(r=1,c(x)):f(x)}function c(x){return x===58?(e.consume(x),r=0,d):(x===43||x===45||x===46||Dn(x))&&r++<32?(e.consume(x),c):(r=0,f(x))}function d(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||Uu(x)?n(x):(e.consume(x),d)}function f(x){return x===64?(e.consume(x),h):Iw(x)?(e.consume(x),f):n(x)}function h(x){return Dn(x)?g(x):n(x)}function g(x){return x===46?(e.consume(x),r=0,h):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):v(x)}function v(x){if((x===45||Dn(x))&&r++<63){const w=x===45?v:g;return e.consume(x),w}return n(x)}}const $o={partial:!0,tokenize:Uw};function Uw(e,t,n){return r;function r(s){return ht(s)?mt(e,a,"linePrefix")(s):a(s)}function a(s){return s===null||Ue(s)?t(s):n(s)}}const y4={continuation:{tokenize:qw},exit:Gw,name:"blockQuote",tokenize:Ww};function Ww(e,t,n){const r=this;return a;function a(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return n(l)}function s(l){return ht(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function qw(e,t,n){const r=this;return a;function a(l){return ht(l)?mt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(y4,t,n)(l)}}function Gw(e){e.exit("blockQuote")}const k4={name:"characterEscape",tokenize:Vw};function Vw(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),a}function a(s){return Rw(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const w4={name:"characterReference",tokenize:Kw};function Kw(e,t,n){const r=this;let a=0,s,l;return c;function c(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),d}function d(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),s=31,l=Dn,h(g))}function f(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=jw,h):(e.enter("characterReferenceValue"),s=7,l=Mm,h(g))}function h(g){if(g===59&&a){const v=e.exit("characterReferenceValue");return l===Dn&&!bf(r.sliceSerialize(v))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&a++<s?(e.consume(g),h):n(g)}}const bg={partial:!0,tokenize:Xw},vg={concrete:!0,name:"codeFenced",tokenize:Yw};function Yw(e,t,n){const r=this,a={partial:!0,tokenize:D};let s=0,l=0,c;return d;function d(O){return f(O)}function f(O){const te=r.events[r.events.length-1];return s=te&&te[1].type==="linePrefix"?te[2].sliceSerialize(te[1],!0).length:0,c=O,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(O)}function h(O){return O===c?(l++,e.consume(O),h):l<3?n(O):(e.exit("codeFencedFenceSequence"),ht(O)?mt(e,g,"whitespace")(O):g(O))}function g(O){return O===null||Ue(O)?(e.exit("codeFencedFence"),r.interrupt?t(O):e.check(bg,E,B)(O)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(O))}function v(O){return O===null||Ue(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(O)):ht(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),mt(e,x,"whitespace")(O)):O===96&&O===c?n(O):(e.consume(O),v)}function x(O){return O===null||Ue(O)?g(O):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(O))}function w(O){return O===null||Ue(O)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(O)):O===96&&O===c?n(O):(e.consume(O),w)}function E(O){return e.attempt(a,B,N)(O)}function N(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),T}function T(O){return s>0&&ht(O)?mt(e,I,"linePrefix",s+1)(O):I(O)}function I(O){return O===null||Ue(O)?e.check(bg,E,B)(O):(e.enter("codeFlowValue"),L(O))}function L(O){return O===null||Ue(O)?(e.exit("codeFlowValue"),I(O)):(e.consume(O),L)}function B(O){return e.exit("codeFenced"),t(O)}function D(O,te,G){let J=0;return z;function z(P){return O.enter("lineEnding"),O.consume(P),O.exit("lineEnding"),ie}function ie(P){return O.enter("codeFencedFence"),ht(P)?mt(O,se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):se(P)}function se(P){return P===c?(O.enter("codeFencedFenceSequence"),de(P)):G(P)}function de(P){return P===c?(J++,O.consume(P),de):J>=l?(O.exit("codeFencedFenceSequence"),ht(P)?mt(O,K,"whitespace")(P):K(P)):G(P)}function K(P){return P===null||Ue(P)?(O.exit("codeFencedFence"),te(P)):G(P)}}}function Xw(e,t,n){const r=this;return a;function a(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Md={name:"codeIndented",tokenize:Qw},Zw={partial:!0,tokenize:Jw};function Qw(e,t,n){const r=this;return a;function a(f){return e.enter("codeIndented"),mt(e,s,"linePrefix",5)(f)}function s(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Ue(f)?e.attempt(Zw,l,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ue(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function Jw(e,t,n){const r=this;return a;function a(l){return r.parser.lazy[r.now().line]?n(l):Ue(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):mt(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Ue(l)?a(l):n(l)}}const e7={name:"codeText",previous:n7,resolve:t7,tokenize:r7};function t7(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function n7(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function r7(e,t,n){let r=0,a,s;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),c(g)}function c(g){return g===96?(e.consume(g),r++,c):(e.exit("codeTextSequence"),d(g))}function d(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),d):g===96?(s=e.enter("codeTextSequence"),a=0,h(g)):Ue(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||Ue(g)?(e.exit("codeTextData"),d(g)):(e.consume(g),f)}function h(g){return g===96?(e.consume(g),a++,h):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(s.type="codeTextData",f(g))}}class i7{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&ko(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ko(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ko(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ko(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ko(this.left,n.reverse())}}}function ko(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function S4(e){const t={};let n=-1,r,a,s,l,c,d,f;const h=new i7(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,s=0,s<d.length&&d[s][1].type==="lineEndingBlank"&&(s+=2),s<d.length&&d[s][1].type==="content"))for(;++s<d.length&&d[s][1].type!=="content";)d[s][1].type==="chunkText"&&(d[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,a7(h,n)),n=t[n],f=!0);else if(r[1]._container){for(s=n,a=void 0;s--;)if(l=h.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(r[1].end={...h.get(a)[1].start},c=h.slice(a,n),c.unshift(r),h.splice(a,n-a+1,c))}}return hr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function a7(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let h,g,v=-1,x=n,w=0,E=0;const N=[E];for(;x;){for(;e.get(++a)[1]!==x;);s.push(a),x._tokenizer||(h=r.sliceStream(x),x.next||h.push(null),g&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(E=v+1,N.push(E),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):N.pop(),v=N.length;v--;){const T=c.slice(N[v],N[v+1]),I=s.pop();d.push([I,I+T.length-1]),e.splice(I,2,T)}for(d.reverse(),v=-1;++v<d.length;)f[w+d[v][0]]=w+d[v][1],w+=d[v][1]-d[v][0]-1;return f}const s7={resolve:l7,tokenize:u7},o7={partial:!0,tokenize:c7};function l7(e){return S4(e),e}function u7(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?s(c):Ue(c)?e.check(o7,l,s)(c):(e.consume(c),a)}function s(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function c7(e,t,n){const r=this;return a;function a(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),mt(e,s,"linePrefix")}function s(l){if(l===null||Ue(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function E4(e,t,n,r,a,s,l,c,d){const f=d||Number.POSITIVE_INFINITY;let h=0;return g;function g(T){return T===60?(e.enter(r),e.enter(a),e.enter(s),e.consume(T),e.exit(s),v):T===null||T===32||T===41||Uu(T)?n(T):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),E(T))}function v(T){return T===62?(e.enter(s),e.consume(T),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),x(T))}function x(T){return T===62?(e.exit("chunkString"),e.exit(c),v(T)):T===null||T===60||Ue(T)?n(T):(e.consume(T),T===92?w:x)}function w(T){return T===60||T===62||T===92?(e.consume(T),x):x(T)}function E(T){return!h&&(T===null||T===41||Nt(T))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(T)):h<f&&T===40?(e.consume(T),h++,E):T===41?(e.consume(T),h--,E):T===null||T===32||T===40||Uu(T)?n(T):(e.consume(T),T===92?N:E)}function N(T){return T===40||T===41||T===92?(e.consume(T),E):E(T)}}function N4(e,t,n,r,a,s){const l=this;let c=0,d;return f;function f(x){return e.enter(r),e.enter(a),e.consume(x),e.exit(a),e.enter(s),h}function h(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(s),e.enter(a),e.consume(x),e.exit(a),e.exit(r),t):Ue(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||Ue(x)||c++>999?(e.exit("chunkString"),h(x)):(e.consume(x),d||(d=!ht(x)),x===92?v:g)}function v(x){return x===91||x===92||x===93?(e.consume(x),c++,g):g(x)}}function T4(e,t,n,r,a,s){let l;return c;function c(v){return v===34||v===39||v===40?(e.enter(r),e.enter(a),e.consume(v),e.exit(a),l=v===40?41:v,d):n(v)}function d(v){return v===l?(e.enter(a),e.consume(v),e.exit(a),e.exit(r),t):(e.enter(s),f(v))}function f(v){return v===l?(e.exit(s),d(l)):v===null?n(v):Ue(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),mt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===l||v===null||Ue(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?g:h)}function g(v){return v===l||v===92?(e.consume(v),h):h(v)}}function Ao(e,t){let n;return r;function r(a){return Ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):ht(a)?mt(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const d7={name:"definition",tokenize:f7},m7={partial:!0,tokenize:h7};function f7(e,t,n){const r=this;let a;return s;function s(x){return e.enter("definition"),l(x)}function l(x){return N4.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return a=Hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),d):n(x)}function d(x){return Nt(x)?Ao(e,f)(x):f(x)}function f(x){return E4(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return e.attempt(m7,g,g)(x)}function g(x){return ht(x)?mt(e,v,"whitespace")(x):v(x)}function v(x){return x===null||Ue(x)?(e.exit("definition"),r.parser.defined.push(a),t(x)):n(x)}}function h7(e,t,n){return r;function r(c){return Nt(c)?Ao(e,a)(c):n(c)}function a(c){return T4(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function s(c){return ht(c)?mt(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Ue(c)?t(c):n(c)}}const p7={name:"hardBreakEscape",tokenize:g7};function g7(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),a}function a(s){return Ue(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const x7={name:"headingAtx",resolve:b7,tokenize:v7};function b7(e,t){let n=e.length-2,r=3,a,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},hr(e,r,n-r+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function v7(e,t,n){let r=0;return a;function a(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||Nt(h)?(e.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(e.enter("atxHeadingSequence"),d(h)):h===null||Ue(h)?(e.exit("atxHeading"),t(h)):ht(h)?mt(e,c,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function d(h){return h===35?(e.consume(h),d):(e.exit("atxHeadingSequence"),c(h))}function f(h){return h===null||h===35||Nt(h)?(e.exit("atxHeadingText"),c(h)):(e.consume(h),f)}}const y7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yg=["pre","script","style","textarea"],k7={concrete:!0,name:"htmlFlow",resolveTo:E7,tokenize:N7},w7={partial:!0,tokenize:C7},S7={partial:!0,tokenize:T7};function E7(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function N7(e,t,n){const r=this;let a,s,l,c,d;return f;function f(R){return h(R)}function h(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),g}function g(R){return R===33?(e.consume(R),v):R===47?(e.consume(R),s=!0,E):R===63?(e.consume(R),a=3,r.interrupt?t:A):Wn(R)?(e.consume(R),l=String.fromCharCode(R),N):n(R)}function v(R){return R===45?(e.consume(R),a=2,x):R===91?(e.consume(R),a=5,c=0,w):Wn(R)?(e.consume(R),a=4,r.interrupt?t:A):n(R)}function x(R){return R===45?(e.consume(R),r.interrupt?t:A):n(R)}function w(R){const xe="CDATA[";return R===xe.charCodeAt(c++)?(e.consume(R),c===xe.length?r.interrupt?t:se:w):n(R)}function E(R){return Wn(R)?(e.consume(R),l=String.fromCharCode(R),N):n(R)}function N(R){if(R===null||R===47||R===62||Nt(R)){const xe=R===47,Ae=l.toLowerCase();return!xe&&!s&&yg.includes(Ae)?(a=1,r.interrupt?t(R):se(R)):y7.includes(l.toLowerCase())?(a=6,xe?(e.consume(R),T):r.interrupt?t(R):se(R)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):s?I(R):L(R))}return R===45||Dn(R)?(e.consume(R),l+=String.fromCharCode(R),N):n(R)}function T(R){return R===62?(e.consume(R),r.interrupt?t:se):n(R)}function I(R){return ht(R)?(e.consume(R),I):z(R)}function L(R){return R===47?(e.consume(R),z):R===58||R===95||Wn(R)?(e.consume(R),B):ht(R)?(e.consume(R),L):z(R)}function B(R){return R===45||R===46||R===58||R===95||Dn(R)?(e.consume(R),B):D(R)}function D(R){return R===61?(e.consume(R),O):ht(R)?(e.consume(R),D):L(R)}function O(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),d=R,te):ht(R)?(e.consume(R),O):G(R)}function te(R){return R===d?(e.consume(R),d=null,J):R===null||Ue(R)?n(R):(e.consume(R),te)}function G(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Nt(R)?D(R):(e.consume(R),G)}function J(R){return R===47||R===62||ht(R)?L(R):n(R)}function z(R){return R===62?(e.consume(R),ie):n(R)}function ie(R){return R===null||Ue(R)?se(R):ht(R)?(e.consume(R),ie):n(R)}function se(R){return R===45&&a===2?(e.consume(R),Y):R===60&&a===1?(e.consume(R),ee):R===62&&a===4?(e.consume(R),H):R===63&&a===3?(e.consume(R),A):R===93&&a===5?(e.consume(R),Q):Ue(R)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(w7,ne,de)(R)):R===null||Ue(R)?(e.exit("htmlFlowData"),de(R)):(e.consume(R),se)}function de(R){return e.check(S7,K,ne)(R)}function K(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),P}function P(R){return R===null||Ue(R)?de(R):(e.enter("htmlFlowData"),se(R))}function Y(R){return R===45?(e.consume(R),A):se(R)}function ee(R){return R===47?(e.consume(R),l="",W):se(R)}function W(R){if(R===62){const xe=l.toLowerCase();return yg.includes(xe)?(e.consume(R),H):se(R)}return Wn(R)&&l.length<8?(e.consume(R),l+=String.fromCharCode(R),W):se(R)}function Q(R){return R===93?(e.consume(R),A):se(R)}function A(R){return R===62?(e.consume(R),H):R===45&&a===2?(e.consume(R),A):se(R)}function H(R){return R===null||Ue(R)?(e.exit("htmlFlowData"),ne(R)):(e.consume(R),H)}function ne(R){return e.exit("htmlFlow"),t(R)}}function T7(e,t,n){const r=this;return a;function a(l){return Ue(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):n(l)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function C7(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt($o,t,n)}}const _7={name:"htmlText",tokenize:M7};function M7(e,t,n){const r=this;let a,s,l;return c;function c(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),d}function d(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),D):A===63?(e.consume(A),L):Wn(A)?(e.consume(A),G):n(A)}function f(A){return A===45?(e.consume(A),h):A===91?(e.consume(A),s=0,w):Wn(A)?(e.consume(A),I):n(A)}function h(A){return A===45?(e.consume(A),x):n(A)}function g(A){return A===null?n(A):A===45?(e.consume(A),v):Ue(A)?(l=g,ee(A)):(e.consume(A),g)}function v(A){return A===45?(e.consume(A),x):g(A)}function x(A){return A===62?Y(A):A===45?v(A):g(A)}function w(A){const H="CDATA[";return A===H.charCodeAt(s++)?(e.consume(A),s===H.length?E:w):n(A)}function E(A){return A===null?n(A):A===93?(e.consume(A),N):Ue(A)?(l=E,ee(A)):(e.consume(A),E)}function N(A){return A===93?(e.consume(A),T):E(A)}function T(A){return A===62?Y(A):A===93?(e.consume(A),T):E(A)}function I(A){return A===null||A===62?Y(A):Ue(A)?(l=I,ee(A)):(e.consume(A),I)}function L(A){return A===null?n(A):A===63?(e.consume(A),B):Ue(A)?(l=L,ee(A)):(e.consume(A),L)}function B(A){return A===62?Y(A):L(A)}function D(A){return Wn(A)?(e.consume(A),O):n(A)}function O(A){return A===45||Dn(A)?(e.consume(A),O):te(A)}function te(A){return Ue(A)?(l=te,ee(A)):ht(A)?(e.consume(A),te):Y(A)}function G(A){return A===45||Dn(A)?(e.consume(A),G):A===47||A===62||Nt(A)?J(A):n(A)}function J(A){return A===47?(e.consume(A),Y):A===58||A===95||Wn(A)?(e.consume(A),z):Ue(A)?(l=J,ee(A)):ht(A)?(e.consume(A),J):Y(A)}function z(A){return A===45||A===46||A===58||A===95||Dn(A)?(e.consume(A),z):ie(A)}function ie(A){return A===61?(e.consume(A),se):Ue(A)?(l=ie,ee(A)):ht(A)?(e.consume(A),ie):J(A)}function se(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),a=A,de):Ue(A)?(l=se,ee(A)):ht(A)?(e.consume(A),se):(e.consume(A),K)}function de(A){return A===a?(e.consume(A),a=void 0,P):A===null?n(A):Ue(A)?(l=de,ee(A)):(e.consume(A),de)}function K(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Nt(A)?J(A):(e.consume(A),K)}function P(A){return A===47||A===62||Nt(A)?J(A):n(A)}function Y(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function ee(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),W}function W(A){return ht(A)?mt(e,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):Q(A)}function Q(A){return e.enter("htmlTextData"),l(A)}}const vf={name:"labelEnd",resolveAll:R7,resolveTo:L7,tokenize:O7},A7={tokenize:D7},I7={tokenize:z7},j7={tokenize:P7};function R7(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&hr(e,0,e.length,n),e}function L7(e,t){let n=e.length,r=0,a,s,l,c;for(;n--;)if(a=e[n][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(l=n);const d={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=Cr(c,e.slice(s+1,s+r+3)),c=Cr(c,[["enter",h,t]]),c=Cr(c,gc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,l-3),t)),c=Cr(c,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),c=Cr(c,e.slice(l+1)),c=Cr(c,[["exit",d,t]]),hr(e,s,e.length,c),e}function O7(e,t,n){const r=this;let a=r.events.length,s,l;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){s=r.events[a][1];break}return c;function c(v){return s?s._inactive?g(v):(l=r.parser.defined.includes(Hr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),d):n(v)}function d(v){return v===40?e.attempt(A7,h,l?h:g)(v):v===91?e.attempt(I7,h,l?f:g)(v):l?h(v):g(v)}function f(v){return e.attempt(j7,h,g)(v)}function h(v){return t(v)}function g(v){return s._balanced=!0,n(v)}}function D7(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),a}function a(g){return Nt(g)?Ao(e,s)(g):s(g)}function s(g){return g===41?h(g):E4(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return Nt(g)?Ao(e,d)(g):h(g)}function c(g){return n(g)}function d(g){return g===34||g===39||g===40?T4(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function f(g){return Nt(g)?Ao(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function z7(e,t,n){const r=this;return a;function a(c){return N4.call(r,e,s,l,"reference","referenceMarker","referenceString")(c)}function s(c){return r.parser.defined.includes(Hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function P7(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),a}function a(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const B7={name:"labelStartImage",resolveAll:vf.resolveAll,tokenize:F7};function F7(e,t,n){const r=this;return a;function a(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),s}function s(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const $7={name:"labelStartLink",resolveAll:vf.resolveAll,tokenize:H7};function H7(e,t,n){const r=this;return a;function a(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Ad={name:"lineEnding",tokenize:U7};function U7(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),mt(e,t,"linePrefix")}}const Lu={name:"thematicBreak",tokenize:W7};function W7(e,t,n){let r=0,a;return s;function s(f){return e.enter("thematicBreak"),l(f)}function l(f){return a=f,c(f)}function c(f){return f===a?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ue(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===a?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),ht(f)?mt(e,c,"whitespace")(f):c(f))}}const er={continuation:{tokenize:K7},exit:X7,name:"list",tokenize:V7},q7={partial:!0,tokenize:Z7},G7={partial:!0,tokenize:Y7};function V7(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return c;function c(x){const w=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Mm(x)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Lu,n,f)(x):f(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(x)}return n(x)}function d(x){return Mm(x)&&++l<10?(e.consume(x),d):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),f(x)):n(x)}function f(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check($o,r.interrupt?n:h,e.attempt(q7,v,g))}function h(x){return r.containerState.initialBlankLine=!0,s++,v(x)}function g(x){return ht(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),v):n(x)}function v(x){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function K7(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check($o,a,s);function a(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,mt(e,t,"listItemIndent",r.containerState.size+1)(c)}function s(c){return r.containerState.furtherBlankLines||!ht(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(G7,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,mt(e,e.attempt(er,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Y7(e,t,n){const r=this;return mt(e,a,"listItemIndent",r.containerState.size+1);function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(s):n(s)}}function X7(e){e.exit(this.containerState.type)}function Z7(e,t,n){const r=this;return mt(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(s){const l=r.events[r.events.length-1];return!ht(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const kg={name:"setextUnderline",resolveTo:Q7,tokenize:J7};function Q7(e,t){let n=e.length,r,a,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",s?(e.splice(a,0,["enter",l,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function J7(e,t,n){const r=this;let a;return s;function s(f){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),a=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===a?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),ht(f)?mt(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ue(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const e8={tokenize:t8};function t8(e){const t=this,n=e.attempt($o,r,e.attempt(this.parser.constructs.flowInitial,a,mt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(s7,a)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const n8={resolveAll:_4()},r8=C4("string"),i8=C4("text");function C4(e){return{resolveAll:_4(e==="text"?a8:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],s=n.attempt(a,l,c);return l;function l(h){return f(h)?s(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return f(h)?(n.exit("data"),s(h)):(n.consume(h),d)}function f(h){if(h===null)return!0;const g=a[h];let v=-1;if(g)for(;++v<g.length;){const x=g[v];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function _4(e){return t;function t(n,r){let a=-1,s;for(;++a<=n.length;)s===void 0?n[a]&&n[a][1].type==="data"&&(s=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==s+2&&(n[s][1].end=n[a-1][1].end,n.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(n,r):n}}function a8(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let s=a.length,l=-1,c=0,d;for(;s--;){const f=a[s];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:r.start._bufferIndex+l,_index:r.start._index+s,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const s8={42:er,43:er,45:er,48:er,49:er,50:er,51:er,52:er,53:er,54:er,55:er,56:er,57:er,62:y4},o8={91:d7},l8={[-2]:Md,[-1]:Md,32:Md},u8={35:x7,42:Lu,45:[kg,Lu],60:k7,61:kg,95:Lu,96:vg,126:vg},c8={38:w4,92:k4},d8={[-5]:Ad,[-4]:Ad,[-3]:Ad,33:B7,38:w4,42:Am,60:[$w,_7],91:$7,92:[p7,k4],93:vf,95:Am,96:e7},m8={null:[Am,n8]},f8={null:[42,95]},h8={null:[]},p8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:f8,contentInitial:o8,disable:h8,document:s8,flow:u8,flowInitial:l8,insideSpan:m8,string:c8,text:d8},Symbol.toStringTag,{value:"Module"}));function g8(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let l=[],c=[];const d={attempt:te(D),check:te(O),consume:I,enter:L,exit:B,interrupt:te(O,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:w,parser:e,previous:null,sliceSerialize:v,sliceStream:x,write:g};let h=t.tokenize.call(f,d);return t.resolveAll&&s.push(t),f;function g(ie){return l=Cr(l,ie),N(),l[l.length-1]!==null?[]:(G(t,0),f.events=gc(s,f.events,f),f.events)}function v(ie,se){return b8(x(ie),se)}function x(ie){return x8(l,ie)}function w(){const{_bufferIndex:ie,_index:se,line:de,column:K,offset:P}=r;return{_bufferIndex:ie,_index:se,line:de,column:K,offset:P}}function E(ie){a[ie.line]=ie.column,z()}function N(){let ie;for(;r._index<l.length;){const se=l[r._index];if(typeof se=="string")for(ie=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ie&&r._bufferIndex<se.length;)T(se.charCodeAt(r._bufferIndex));else T(se)}}function T(ie){h=h(ie)}function I(ie){Ue(ie)?(r.line++,r.column=1,r.offset+=ie===-3?2:1,z()):ie!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=ie}function L(ie,se){const de=se||{};return de.type=ie,de.start=w(),f.events.push(["enter",de,f]),c.push(de),de}function B(ie){const se=c.pop();return se.end=w(),f.events.push(["exit",se,f]),se}function D(ie,se){G(ie,se.from)}function O(ie,se){se.restore()}function te(ie,se){return de;function de(K,P,Y){let ee,W,Q,A;return Array.isArray(K)?ne(K):"tokenize"in K?ne([K]):H(K);function H(ce){return fe;function fe(Me){const $e=Me!==null&&ce[Me],Qe=Me!==null&&ce.null,kt=[...Array.isArray($e)?$e:$e?[$e]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return ne(kt)(Me)}}function ne(ce){return ee=ce,W=0,ce.length===0?Y:R(ce[W])}function R(ce){return fe;function fe(Me){return A=J(),Q=ce,ce.partial||(f.currentConstruct=ce),ce.name&&f.parser.constructs.disable.null.includes(ce.name)?Ae():ce.tokenize.call(se?Object.assign(Object.create(f),se):f,d,xe,Ae)(Me)}}function xe(ce){return ie(Q,A),P}function Ae(ce){return A.restore(),++W<ee.length?R(ee[W]):Y}}}function G(ie,se){ie.resolveAll&&!s.includes(ie)&&s.push(ie),ie.resolve&&hr(f.events,se,f.events.length-se,ie.resolve(f.events.slice(se),f)),ie.resolveTo&&(f.events=ie.resolveTo(f.events,f))}function J(){const ie=w(),se=f.previous,de=f.currentConstruct,K=f.events.length,P=Array.from(c);return{from:K,restore:Y};function Y(){r=ie,f.previous=se,f.currentConstruct=de,f.events.length=K,c=P,z()}}function z(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function x8(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let l;if(n===a)l=[e[n].slice(r,s)];else{if(l=e.slice(n,a),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}s>0&&l.push(e[a].slice(0,s))}return l}function b8(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&a)continue;l=" ";break}default:l=String.fromCharCode(s)}a=s===-2,r.push(l)}return r.join("")}function v8(e){const r={constructs:b4([p8,...(e||{}).extensions||[]]),content:a(Lw),defined:[],document:a(Dw),flow:a(e8),lazy:{},string:a(r8),text:a(i8)};return r;function a(s){return l;function l(c){return g8(r,s,c)}}}function y8(e){for(;!S4(e););return e}const wg=/[\0\t\n\r]/g;function k8(){let e=1,t="",n=!0,r;return a;function a(s,l,c){const d=[];let f,h,g,v,x;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),g=0,t="",n&&(s.charCodeAt(0)===65279&&g++,n=void 0);g<s.length;){if(wg.lastIndex=g,f=wg.exec(s),v=f&&f.index!==void 0?f.index:s.length,x=s.charCodeAt(v),!f){t=s.slice(g);break}if(x===10&&g===v&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),g<v&&(d.push(s.slice(g,v)),e+=v-g),x){case 0:{d.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,d.push(-2);e++<h;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}g=v+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const w8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function S8(e){return e.replace(w8,E8)}function E8(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),s=a===120||a===88;return v4(n.slice(s?2:1),s?16:10)}return bf(n)||e}const M4={}.hasOwnProperty;function N8(e,t,n){return typeof t!="string"&&(n=t,t=void 0),T8(n)(y8(v8(n).document().write(k8()(e,t,!0))))}function T8(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(jt),autolinkProtocol:J,autolinkEmail:J,atxHeading:s(wn),blockQuote:s(Qe),characterEscape:J,characterReference:J,codeFenced:s(kt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(kt,l),codeText:s(Kt,l),codeTextData:J,data:J,codeFlowValue:J,definition:s(cn),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(dn),hardBreakEscape:s(at),hardBreakTrailing:s(at),htmlFlow:s(We,l),htmlFlowData:J,htmlText:s(We,l),htmlTextData:J,image:s(Ct),label:l,link:s(jt),listItem:s(en),listItemValue:v,listOrdered:s(je,g),listUnordered:s(je),paragraph:s(tn),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(wn),strong:s(Ft),thematicBreak:s(gn)},exit:{atxHeading:d(),atxHeadingSequence:D,autolink:d(),autolinkEmail:$e,autolinkProtocol:Me,blockQuote:d(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:ce,characterReference:fe,codeFenced:d(N),codeFencedFence:E,codeFencedFenceInfo:x,codeFencedFenceMeta:w,codeFlowValue:z,codeIndented:d(T),codeText:d(P),codeTextData:z,data:z,definition:d(),definitionDestinationString:B,definitionLabelString:I,definitionTitleString:L,emphasis:d(),hardBreakEscape:d(se),hardBreakTrailing:d(se),htmlFlow:d(de),htmlFlowData:z,htmlText:d(K),htmlTextData:z,image:d(ee),label:Q,labelText:W,lineEnding:ie,link:d(Y),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:xe,resourceDestinationString:A,resourceTitleString:H,resource:ne,setextHeading:d(G),setextHeadingLineSequence:te,setextHeadingText:O,strong:d(),thematicBreak:d()}};A4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let ke={type:"root",children:[]};const be={stack:[ke],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:h,data:n},Je=[];let st=-1;for(;++st<ue.length;)if(ue[st][1].type==="listOrdered"||ue[st][1].type==="listUnordered")if(ue[st][0]==="enter")Je.push(st);else{const Yt=Je.pop();st=a(ue,Yt,st)}for(st=-1;++st<ue.length;){const Yt=t[ue[st][0]];M4.call(Yt,ue[st][1].type)&&Yt[ue[st][1].type].call(Object.assign({sliceSerialize:ue[st][2].sliceSerialize},be),ue[st][1])}if(be.tokenStack.length>0){const Yt=be.tokenStack[be.tokenStack.length-1];(Yt[1]||Sg).call(be,void 0,Yt[0])}for(ke.position={start:Zi(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Zi(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},st=-1;++st<t.transforms.length;)ke=t.transforms[st](ke)||ke;return ke}function a(ue,ke,be){let Je=ke-1,st=-1,Yt=!1,jr,Vn,Rr,oi;for(;++Je<=be;){const xn=ue[Je];switch(xn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xn[0]==="enter"?st++:st--,oi=void 0;break}case"lineEndingBlank":{xn[0]==="enter"&&(jr&&!oi&&!st&&!Rr&&(Rr=Je),oi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:oi=void 0}if(!st&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||st===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(jr){let br=Je;for(Vn=void 0;br--;){const _n=ue[br];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;Vn&&(ue[Vn][1].type="lineEndingBlank",Yt=!0),_n[1].type="lineEnding",Vn=br}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}Rr&&(!Vn||Rr<Vn)&&(jr._spread=!0),jr.end=Object.assign({},Vn?ue[Vn][1].start:xn[1].end),ue.splice(Vn||Je,0,["exit",jr,xn[2]]),Je++,be++}if(xn[1].type==="listItemPrefix"){const br={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0};jr=br,ue.splice(Je,0,["enter",br,xn[2]]),Je++,be++,Rr=void 0,oi=!0}}}return ue[ke][1]._spread=Yt,be}function s(ue,ke){return be;function be(Je){c.call(this,ue(Je),Je),ke&&ke.call(this,Je)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ue,ke,be){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([ke,be||void 0]),ue.position={start:Zi(ke.start),end:void 0}}function d(ue){return ke;function ke(be){ue&&ue.call(this,be),f.call(this,be)}}function f(ue,ke){const be=this.stack.pop(),Je=this.tokenStack.pop();if(Je)Je[0].type!==ue.type&&(ke?ke.call(this,ue,Je[0]):(Je[1]||Sg).call(this,ue,Je[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Mo({start:ue.start,end:ue.end})+"): its not open");be.position.end=Zi(ue.end)}function h(){return xf(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(ue){if(this.data.expectingFirstListItemValue){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=ue}function w(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=ue}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ue.replace(/(\r?\n|\r)$/g,"")}function I(ue){const ke=this.resume(),be=this.stack[this.stack.length-1];be.label=ke,be.identifier=Hr(this.sliceSerialize(ue)).toLowerCase()}function L(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ue}function B(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ue}function D(ue){const ke=this.stack[this.stack.length-1];if(!ke.depth){const be=this.sliceSerialize(ue).length;ke.depth=be}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function te(ue){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function J(ue){const be=this.stack[this.stack.length-1].children;let Je=be[be.length-1];(!Je||Je.type!=="text")&&(Je=$t(),Je.position={start:Zi(ue.start),end:void 0},be.push(Je)),this.stack.push(Je)}function z(ue){const ke=this.stack.pop();ke.value+=this.sliceSerialize(ue),ke.position.end=Zi(ue.end)}function ie(ue){const ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ke.children[ke.children.length-1];be.position.end=Zi(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ke.type)&&(J.call(this,ue),z.call(this,ue))}function se(){this.data.atHardBreak=!0}function de(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ue}function K(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ue}function P(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ue}function Y(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=ke,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function ee(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=ke,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function W(ue){const ke=this.sliceSerialize(ue),be=this.stack[this.stack.length-2];be.label=S8(ke),be.identifier=Hr(ke).toLowerCase()}function Q(){const ue=this.stack[this.stack.length-1],ke=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Je=ue.children;be.children=Je}else be.alt=ke}function A(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ue}function H(){const ue=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ue}function ne(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function xe(ue){const ke=this.resume(),be=this.stack[this.stack.length-1];be.label=ke,be.identifier=Hr(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function Ae(ue){this.data.characterReferenceType=ue.type}function ce(ue){const ke=this.sliceSerialize(ue),be=this.data.characterReferenceType;let Je;be?(Je=v4(ke,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Je=bf(ke);const st=this.stack[this.stack.length-1];st.value+=Je}function fe(ue){const ke=this.stack.pop();ke.position.end=Zi(ue.end)}function Me(ue){z.call(this,ue);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(ue)}function $e(ue){z.call(this,ue);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(ue)}function Qe(){return{type:"blockquote",children:[]}}function kt(){return{type:"code",lang:null,meta:null,value:""}}function Kt(){return{type:"inlineCode",value:""}}function cn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function wn(){return{type:"heading",depth:0,children:[]}}function at(){return{type:"break"}}function We(){return{type:"html",value:""}}function Ct(){return{type:"image",title:null,url:"",alt:null}}function jt(){return{type:"link",title:null,url:"",children:[]}}function je(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function en(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function tn(){return{type:"paragraph",children:[]}}function Ft(){return{type:"strong",children:[]}}function $t(){return{type:"text",value:""}}function gn(){return{type:"thematicBreak"}}}function Zi(e){return{line:e.line,column:e.column,offset:e.offset}}function A4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?A4(e,r):C8(e,r)}}function C8(e,t){let n;for(n in t)if(M4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Sg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Mo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Mo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Mo({start:t.start,end:t.end})+") is still open")}function _8(e){const t=this;t.parser=n;function n(r){return N8(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function M8(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function A8(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function I8(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function j8(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function R8(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L8(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Rs(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=s+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function O8(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function D8(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function I4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=r:a.push({type:"text",value:r}),a}function z8(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return I4(e,t);const a={src:Rs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function P8(e,t){const n={src:Rs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function B8(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function F8(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return I4(e,t);const a={href:Rs(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function $8(e,t){const n={href:Rs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function H8(e,t,n){const r=e.all(t),a=n?U8(n):j4(t),s={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const h=r[c];(a||c!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?l.push(...h.children):l.push(h)}const d=r[r.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,f),e.applyData(t,f)}function U8(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=j4(n[r])}return t}function j4(e){const t=e.spread;return t??e.children.length>1}function W8(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const l=r[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function q8(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function G8(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function V8(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K8(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),a.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=ff(t.children[1]),d=d4(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),a.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function Y8(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const g=t.children[d],v={},x=l?l[d]:void 0;x&&(v.align=x);let w={type:"element",tagName:s,properties:v,children:[]};g&&(w.children=e.all(g),e.patch(g,w),w=e.applyData(g,w)),f.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function X8(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Eg=9,Ng=32;function Z8(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(Tg(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(Tg(t.slice(a),a>0,!1)),s.join("")}function Tg(e,t,n){let r=0,a=e.length;if(t){let s=e.codePointAt(r);for(;s===Eg||s===Ng;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(a-1);for(;s===Eg||s===Ng;)a--,s=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Q8(e,t){const n={type:"text",value:Z8(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function J8(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const e9={blockquote:M8,break:A8,code:I8,delete:j8,emphasis:R8,footnoteReference:L8,heading:O8,html:D8,imageReference:z8,image:P8,inlineCode:B8,linkReference:F8,link:$8,listItem:H8,list:W8,paragraph:q8,root:G8,strong:V8,table:K8,tableCell:X8,tableRow:Y8,text:Q8,thematicBreak:J8,toml:cu,yaml:cu,definition:cu,footnoteDefinition:cu};function cu(){}const R4=-1,xc=0,Io=1,Wu=2,yf=3,kf=4,wf=5,Sf=6,L4=7,O4=8,Cg=typeof self=="object"?self:globalThis,t9=(e,t)=>{const n=(a,s)=>(e.set(s,a),a),r=a=>{if(e.has(a))return e.get(a);const[s,l]=t[a];switch(s){case xc:case R4:return n(l,a);case Io:{const c=n([],a);for(const d of l)c.push(r(d));return c}case Wu:{const c=n({},a);for(const[d,f]of l)c[r(d)]=r(f);return c}case yf:return n(new Date(l),a);case kf:{const{source:c,flags:d}=l;return n(new RegExp(c,d),a)}case wf:{const c=n(new Map,a);for(const[d,f]of l)c.set(r(d),r(f));return c}case Sf:{const c=n(new Set,a);for(const d of l)c.add(r(d));return c}case L4:{const{name:c,message:d}=l;return n(new Cg[c](d),a)}case O4:return n(BigInt(l),a);case"BigInt":return n(Object(BigInt(l)),a);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new Cg[s](l),a)};return r},_g=e=>t9(new Map,e)(0),xs="",{toString:n9}={},{keys:r9}=Object,wo=e=>{const t=typeof e;if(t!=="object"||!e)return[xc,t];const n=n9.call(e).slice(8,-1);switch(n){case"Array":return[Io,xs];case"Object":return[Wu,xs];case"Date":return[yf,xs];case"RegExp":return[kf,xs];case"Map":return[wf,xs];case"Set":return[Sf,xs];case"DataView":return[Io,n]}return n.includes("Array")?[Io,n]:n.includes("Error")?[L4,n]:[Wu,n]},du=([e,t])=>e===xc&&(t==="function"||t==="symbol"),i9=(e,t,n,r)=>{const a=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},s=l=>{if(n.has(l))return n.get(l);let[c,d]=wo(l);switch(c){case xc:{let h=l;switch(d){case"bigint":c=O4,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return a([R4],l)}return a([c,h],l)}case Io:{if(d){let v=l;return d==="DataView"?v=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(l)),a([d,[...v]],l)}const h=[],g=a([c,h],l);for(const v of l)h.push(s(v));return g}case Wu:{if(d)switch(d){case"BigInt":return a([d,l.toString()],l);case"Boolean":case"Number":case"String":return a([d,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const h=[],g=a([c,h],l);for(const v of r9(l))(e||!du(wo(l[v])))&&h.push([s(v),s(l[v])]);return g}case yf:return a([c,l.toISOString()],l);case kf:{const{source:h,flags:g}=l;return a([c,{source:h,flags:g}],l)}case wf:{const h=[],g=a([c,h],l);for(const[v,x]of l)(e||!(du(wo(v))||du(wo(x))))&&h.push([s(v),s(x)]);return g}case Sf:{const h=[],g=a([c,h],l);for(const v of l)(e||!du(wo(v)))&&h.push(s(v));return g}}const{message:f}=l;return a([c,{name:d,message:f}],l)};return s},Mg=(e,{json:t,lossy:n}={})=>{const r=[];return i9(!(t||n),!!t,new Map,r)(e),r},qu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_g(Mg(e,t)):structuredClone(e):(e,t)=>_g(Mg(e,t));function a9(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function s9(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function o9(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||a9,r=e.options.footnoteBackLabel||s9,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const h=e.all(f),g=String(f.identifier).toUpperCase(),v=Rs(g.toLowerCase());let x=0;const w=[],E=e.footnoteCounts.get(g);for(;E!==void 0&&++x<=E;){w.length>0&&w.push({type:"text",value:" "});let I=typeof n=="string"?n:n(d,x);typeof I=="string"&&(I={type:"text",value:I}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const N=h[h.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const I=N.children[N.children.length-1];I&&I.type==="text"?I.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...w)}else h.push(...w);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,T),c.push(T)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...qu(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Ho=(function(e){if(e==null)return d9;if(typeof e=="function")return bc(e);if(typeof e=="object")return Array.isArray(e)?l9(e):u9(e);if(typeof e=="string")return c9(e);throw new Error("Expected function, string, or object as test")});function l9(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ho(e[n]);return bc(r);function r(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function u9(e){const t=e;return bc(n);function n(r){const a=r;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function c9(e){return bc(t);function t(n){return n&&n.type===e}}function bc(e){return t;function t(n,r,a){return!!(m9(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function d9(){return!0}function m9(e){return e!==null&&typeof e=="object"&&"type"in e}const D4=[],f9=!0,Im=!1,z4="skip";function Ef(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const s=Ho(a),l=r?-1:1;c(e,void 0,[])();function c(d,f,h){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return v;function v(){let x=D4,w,E,N;if((!t||s(d,f,h[h.length-1]||void 0))&&(x=h9(n(d,h)),x[0]===Im))return x;if("children"in d&&d.children){const T=d;if(T.children&&x[0]!==z4)for(E=(r?T.children.length:-1)+l,N=h.concat(T);E>-1&&E<T.children.length;){const I=T.children[E];if(w=c(I,E,N)(),w[0]===Im)return w;E=typeof w[1]=="number"?w[1]:E+l}}return x}}}function h9(e){return Array.isArray(e)?e:typeof e=="number"?[f9,e]:e==null?D4:[e]}function vc(e,t,n,r){let a,s,l;typeof t=="function"&&typeof n!="function"?(s=void 0,l=t,a=n):(s=t,l=n,a=r),Ef(e,s,c,a);function c(d,f){const h=f[f.length-1],g=h?h.children.indexOf(d):void 0;return l(d,g,h)}}const jm={}.hasOwnProperty,p9={};function g9(e,t){const n=t||p9,r=new Map,a=new Map,s=new Map,l={...e9,...n.handlers},c={all:f,applyData:b9,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:l,one:d,options:n,patch:x9,wrap:y9};return vc(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const g=h.type==="definition"?r:a,v=String(h.identifier).toUpperCase();g.has(v)||g.set(v,h)}}),c;function d(h,g){const v=h.type,x=c.handlers[v];if(jm.call(c.handlers,v)&&x)return x(c,h,g);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in h){const{children:E,...N}=h,T=qu(N);return T.children=c.all(h),T}return qu(h)}return(c.options.unknownHandler||v9)(c,h,g)}function f(h){const g=[];if("children"in h){const v=h.children;let x=-1;for(;++x<v.length;){const w=c.one(v[x],h);if(w){if(x&&v[x-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Ag(w.value)),!Array.isArray(w)&&w.type==="element")){const E=w.children[0];E&&E.type==="text"&&(E.value=Ag(E.value))}Array.isArray(w)?g.push(...w):g.push(w)}}}return g}}function x9(e,t){e.position&&(t.position=sw(e))}function b9(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&s&&Object.assign(n.properties,qu(s)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function v9(e,t){const n=t.data||{},r="value"in t&&!(jm.call(n,"hProperties")||jm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function y9(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Ag(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ig(e,t){const n=g9(e,t),r=n.one(e,void 0),a=o9(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&s.children.push({type:"text",value:`
`},a),s}function k9(e,t){return e&&"run"in e?async function(n,r){const a=Ig(n,{file:r,...t});await e.run(a,r)}:function(n,r){return Ig(n,{file:r,...e||t})}}function jg(e){if(e)throw e}var Id,Rg;function w9(){if(Rg)return Id;Rg=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},s=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!g)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},c=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return Id=function d(){var f,h,g,v,x,w,E=arguments[0],N=1,T=arguments.length,I=!1;for(typeof E=="boolean"&&(I=E,E=arguments[1]||{},N=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});N<T;++N)if(f=arguments[N],f!=null)for(h in f)g=c(E,h),v=c(f,h),E!==v&&(I&&v&&(s(v)||(x=a(v)))?(x?(x=!1,w=g&&a(g)?g:[]):w=g&&s(g)?g:{},l(E,{name:h,newValue:d(I,w,v)})):typeof v<"u"&&l(E,{name:h,newValue:v}));return E},Id}var S9=w9();const jd=rc(S9);function Rm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function E9(){const e=[],t={run:n,use:r};return t;function n(...a){let s=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...a);function c(d,...f){const h=e[++s];let g=-1;if(d){l(d);return}for(;++g<a.length;)(f[g]===null||f[g]===void 0)&&(f[g]=a[g]);a=f,h?N9(h,c)(...f):l(null,...f)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function N9(e,t){let n;return r;function r(...l){const c=e.length>l.length;let d;c&&l.push(a);try{d=e.apply(this,l)}catch(f){const h=f;if(c&&n)throw h;return a(h)}c||(d&&d.then&&typeof d.then=="function"?d.then(s,a):d instanceof Error?a(d):s(d))}function a(l,...c){n||(n=!0,t(l,...c))}function s(l){a(null,l)}}const Qr={basename:T9,dirname:C9,extname:_9,join:M9,sep:"/"};function T9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Uo(e);let n=0,r=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else r<0&&(s=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else l<0&&(s=!0,l=a+1),c>-1&&(e.codePointAt(a)===t.codePointAt(c--)?c<0&&(r=a):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function C9(e){if(Uo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function _9(e){Uo(e);let t=e.length,n=-1,r=0,a=-1,s=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||n<0||s===0||s===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function M9(...e){let t=-1,n;for(;++t<e.length;)Uo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":A9(n)}function A9(e){Uo(e);const t=e.codePointAt(0)===47;let n=I9(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function I9(e,t){let n="",r=0,a=-1,s=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(a===l-1||s===1))if(a!==l-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),a=l,s=0;continue}}else if(n.length>0){n="",r=0,a=l,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,l):n=e.slice(a+1,l),r=l-a-1;a=l,s=0}else c===46&&s>-1?s++:s=-1}return n}function Uo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const j9={cwd:R9};function R9(){return"/"}function Lm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function L9(e){if(typeof e=="string")e=new URL(e);else if(!Lm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return O9(e)}function O9(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Rd=["history","path","basename","stem","extname","dirname"];class P4{constructor(t){let n;t?Lm(t)?n={path:t}:typeof t=="string"||D9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":j9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rd.length;){const s=Rd[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let a;for(a in n)Rd.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Qr.basename(this.path):void 0}set basename(t){Od(t,"basename"),Ld(t,"basename"),this.path=Qr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qr.dirname(this.path):void 0}set dirname(t){Lg(this.basename,"dirname"),this.path=Qr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qr.extname(this.path):void 0}set extname(t){if(Ld(t,"extname"),Lg(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Lm(t)&&(t=L9(t)),Od(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qr.basename(this.path,this.extname):void 0}set stem(t){Od(t,"stem"),Ld(t,"stem"),this.path=Qr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new zn(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ld(e,t){if(e&&e.includes(Qr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qr.sep+"`")}function Od(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Lg(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function D9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const z9=(function(e){const r=this.constructor.prototype,a=r[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),P9={}.hasOwnProperty;class Nf extends z9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=E9()}copy(){const t=new Nf;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(jd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Pd("data",this.frozen),this.namespace[t]=n,this):P9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Pd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=mu(t),r=this.parser||this.Parser;return Dd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Dd("process",this.parser||this.Parser),zd("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(s,l){const c=mu(t),d=r.parse(c);r.run(d,c,function(h,g,v){if(h||!g||!v)return f(h);const x=g,w=r.stringify(x,v);$9(w)?v.value=w:v.result=w,f(h,v)});function f(h,g){h||!g?l(h):s?s(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),Dd("processSync",this.parser||this.Parser),zd("processSync",this.compiler||this.Compiler),this.process(t,a),Dg("processSync","process",n),r;function a(s,l){n=!0,jg(s),r=l}}run(t,n,r){Og(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(l,c){const d=mu(n);a.run(t,d,f);function f(h,g,v){const x=g||t;h?c(h):l?l(x):r(void 0,x,v)}}}runSync(t,n){let r=!1,a;return this.run(t,n,s),Dg("runSync","run",r),a;function s(l,c){jg(l),a=c,r=!0}}stringify(t,n){this.freeze();const r=mu(n),a=this.compiler||this.Compiler;return zd("stringify",a),Og(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Pd("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...g]=f;d(h,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(a.settings=jd(!0,a.settings,f.settings))}function c(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const g=f[h];s(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,h){let g=-1,v=-1;for(;++g<r.length;)if(r[g][0]===f){v=g;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[x,...w]=h;const E=r[v][1];Rm(E)&&Rm(x)&&(x=jd(!0,E,x)),r[v]=[f,x,...w]}}}}const B9=new Nf().freeze();function Dd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Pd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Og(e){if(!Rm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Dg(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mu(e){return F9(e)?e:new P4(e)}function F9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $9(e){return typeof e=="string"||H9(e)}function H9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const U9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zg=[],Pg={allowDangerousHtml:!0},W9=/^(https?|ircs?|mailto|xmpp)$/i,q9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function B4(e){const t=G9(e),n=V9(e);return K9(t.runSync(t.parse(n),n),e)}function G9(e){const t=e.rehypePlugins||zg,n=e.remarkPlugins||zg,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Pg}:Pg;return B9().use(_8).use(n).use(k9,r).use(t)}function V9(e){const t=e.children||"",n=new P4;return typeof t=="string"&&(n.value=t),n}function K9(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,s=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||Y9;for(const h of q9)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+U9+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),vc(e,f),dw(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function f(h,g,v){if(h.type==="raw"&&v&&typeof g=="number")return l?v.children.splice(g,1):v.children[g]={type:"text",value:h.value},g;if(h.type==="element"){let x;for(x in _d)if(Object.hasOwn(_d,x)&&Object.hasOwn(h.properties,x)){const w=h.properties[x],E=_d[x];(E===null||E.includes(h.tagName))&&(h.properties[x]=d(String(w||""),x,h))}}if(h.type==="element"){let x=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!x&&r&&typeof g=="number"&&(x=!r(h,g,v)),x&&v&&typeof g=="number")return c&&h.children?v.children.splice(g,1,...h.children):v.children.splice(g,1),g}}}function Y9(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||W9.test(e.slice(0,t))?e:""}function Bg(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function X9(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Z9(e,t,n){const a=Ho((n||{}).ignore||[]),s=Q9(t);let l=-1;for(;++l<s.length;)Ef(e,"text",c);function c(f,h){let g=-1,v;for(;++g<h.length;){const x=h[g],w=v?v.children:void 0;if(a(x,w?w.indexOf(x):void 0,v))return;v=x}if(v)return d(f,h)}function d(f,h){const g=h[h.length-1],v=s[l][0],x=s[l][1];let w=0;const N=g.children.indexOf(f);let T=!1,I=[];v.lastIndex=0;let L=v.exec(f.value);for(;L;){const B=L.index,D={index:L.index,input:L.input,stack:[...h,f]};let O=x(...L,D);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?v.lastIndex=B+1:(w!==B&&I.push({type:"text",value:f.value.slice(w,B)}),Array.isArray(O)?I.push(...O):O&&I.push(O),w=B+L[0].length,T=!0),!v.global)break;L=v.exec(f.value)}return T?(w<f.value.length&&I.push({type:"text",value:f.value.slice(w)}),g.children.splice(N,1,...I)):I=[f],N+I.length}}function Q9(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([J9(a[0]),eS(a[1])])}return t}function J9(e){return typeof e=="string"?new RegExp(X9(e),"g"):e}function eS(e){return typeof e=="function"?e:function(){return e}}const Bd="phrasing",Fd=["autolink","link","image","label"];function tS(){return{transforms:[lS],enter:{literalAutolink:rS,literalAutolinkEmail:$d,literalAutolinkHttp:$d,literalAutolinkWww:$d},exit:{literalAutolink:oS,literalAutolinkEmail:sS,literalAutolinkHttp:iS,literalAutolinkWww:aS}}}function nS(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bd,notInConstruct:Fd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bd,notInConstruct:Fd},{character:":",before:"[ps]",after:"\\/",inConstruct:Bd,notInConstruct:Fd}]}}function rS(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function $d(e){this.config.enter.autolinkProtocol.call(this,e)}function iS(e){this.config.exit.autolinkProtocol.call(this,e)}function aS(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function sS(e){this.config.exit.autolinkEmail.call(this,e)}function oS(e){this.exit(e)}function lS(e){Z9(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uS],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cS]],{ignore:["link","linkReference"]})}function uS(e,t,n,r,a){let s="";if(!F4(a)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!dS(n)))return!1;const l=mS(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:s+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function cS(e,t,n,r){return!F4(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function dS(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function mS(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=Bg(e,"(");let s=Bg(e,")");for(;r!==-1&&a>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function F4(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Pa(n)||pc(n))&&(!t||n!==47)}$4.peek=kS;function fS(){this.buffer()}function hS(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function pS(){this.buffer()}function gS(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function xS(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bS(e){this.exit(e)}function vS(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function yS(e){this.exit(e)}function kS(){return"["}function $4(e,t,n,r){const a=n.createTracker(r);let s=a.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return s+=a.move(n.safe(n.associationId(e),{after:"]",before:s})),c(),l(),s+=a.move("]"),s}function wS(){return{enter:{gfmFootnoteCallString:fS,gfmFootnoteCall:hS,gfmFootnoteDefinitionLabelString:pS,gfmFootnoteDefinition:gS},exit:{gfmFootnoteCallString:xS,gfmFootnoteCall:bS,gfmFootnoteDefinitionLabelString:vS,gfmFootnoteDefinition:yS}}}function SS(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:$4},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,s,l){const c=s.createTracker(l);let d=c.move("[^");const f=s.enter("footnoteDefinition"),h=s.enter("label");return d+=c.move(s.safe(s.associationId(r),{before:d,after:"]"})),h(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,c.current()),t?H4:ES))),f(),d}}function ES(e,t,n){return t===0?e:H4(e,t,n)}function H4(e,t,n){return(n?"":"    ")+e}const NS=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];U4.peek=AS;function TS(){return{canContainEols:["delete"],enter:{strikethrough:_S},exit:{strikethrough:MS}}}function CS(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:NS}],handlers:{delete:U4}}}function _S(e){this.enter({type:"delete",children:[]},e)}function MS(e){this.exit(e)}function U4(e,t,n,r){const a=n.createTracker(r),s=n.enter("strikethrough");let l=a.move("~~");return l+=n.containerPhrasing(e,{...a.current(),before:l,after:"~"}),l+=a.move("~~"),s(),l}function AS(){return"~"}function IS(e){return e.length}function jS(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||IS,s=[],l=[],c=[],d=[];let f=0,h=-1;for(;++h<e.length;){const E=[],N=[];let T=-1;for(e[h].length>f&&(f=e[h].length);++T<e[h].length;){const I=RS(e[h][T]);if(n.alignDelimiters!==!1){const L=a(I);N[T]=L,(d[T]===void 0||L>d[T])&&(d[T]=L)}E.push(I)}l[h]=E,c[h]=N}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<f;)s[g]=Fg(r[g]);else{const E=Fg(r);for(;++g<f;)s[g]=E}g=-1;const v=[],x=[];for(;++g<f;){const E=s[g];let N="",T="";E===99?(N=":",T=":"):E===108?N=":":E===114&&(T=":");let I=n.alignDelimiters===!1?1:Math.max(1,d[g]-N.length-T.length);const L=N+"-".repeat(I)+T;n.alignDelimiters!==!1&&(I=N.length+I+T.length,I>d[g]&&(d[g]=I),x[g]=I),v[g]=L}l.splice(1,0,v),c.splice(1,0,x),h=-1;const w=[];for(;++h<l.length;){const E=l[h],N=c[h];g=-1;const T=[];for(;++g<f;){const I=E[g]||"";let L="",B="";if(n.alignDelimiters!==!1){const D=d[g]-(N[g]||0),O=s[g];O===114?L=" ".repeat(D):O===99?D%2?(L=" ".repeat(D/2+.5),B=" ".repeat(D/2-.5)):(L=" ".repeat(D/2),B=L):B=" ".repeat(D)}n.delimiterStart!==!1&&!g&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||g)&&T.push(" "),n.alignDelimiters!==!1&&T.push(L),T.push(I),n.alignDelimiters!==!1&&T.push(B),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||g!==f-1)&&T.push("|")}w.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return w.join(`
`)}function RS(e){return e==null?"":String(e)}function Fg(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function LS(e,t,n,r){const a=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const l=n.indentLines(n.containerFlow(e,s.current()),OS);return a(),l}function OS(e,t,n){return">"+(n?"":" ")+e}function DS(e,t){return $g(e,t.inConstruct,!0)&&!$g(e,t.notInConstruct,!1)}function $g(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Hg(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&DS(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function W4(e,t){const n=String(e);let r=n.indexOf(t),a=r,s=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++s>l&&(l=s):s=1,a=r+t.length,r=n.indexOf(t,a);return l}function zS(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function PS(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function BS(e,t,n,r){const a=PS(n),s=e.value||"",l=a==="`"?"GraveAccent":"Tilde";if(zS(e,n)){const g=n.enter("codeIndented"),v=n.indentLines(s,FS);return g(),v}const c=n.createTracker(r),d=a.repeat(Math.max(W4(s,a)+1,3)),f=n.enter("codeFenced");let h=c.move(d);if(e.lang){const g=n.enter(`codeFencedLang${l}`);h+=c.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...c.current()})),g()}if(e.lang&&e.meta){const g=n.enter(`codeFencedMeta${l}`);h+=c.move(" "),h+=c.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...c.current()})),g()}return h+=c.move(`
`),s&&(h+=c.move(s+`
`)),h+=c.move(d),f(),h}function FS(e,t,n){return(n?"":"    ")+e}function Tf(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function $S(e,t,n,r){const a=Tf(n),s=a==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${s}`),f+=d.move(" "+a),f+=d.move(n.safe(e.title,{before:f,after:a,...d.current()})),f+=d.move(a),c()),l(),f}function HS(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Do(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Gu(e,t,n){const r=Ms(e),a=Ms(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}q4.peek=US;function q4(e,t,n,r){const a=HS(n),s=n.enter("emphasis"),l=n.createTracker(r),c=l.move(a);let d=l.move(n.containerPhrasing(e,{after:a,before:c,...l.current()}));const f=d.charCodeAt(0),h=Gu(r.before.charCodeAt(r.before.length-1),f,a);h.inside&&(d=Do(f)+d.slice(1));const g=d.charCodeAt(d.length-1),v=Gu(r.after.charCodeAt(0),g,a);v.inside&&(d=d.slice(0,-1)+Do(g));const x=l.move(a);return s(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},c+d+x}function US(e,t,n){return n.options.emphasis||"*"}function WS(e,t){let n=!1;return vc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Im}),!!((!e.depth||e.depth<3)&&xf(e)&&(t.options.setext||n))}function qS(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(WS(e,n)){const h=n.enter("headingSetext"),g=n.enter("phrasing"),v=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return g(),h(),v+`
`+(a===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(a),c=n.enter("headingAtx"),d=n.enter("phrasing");s.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(f)&&(f=Do(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),c(),f}G4.peek=GS;function G4(e){return e.value||""}function GS(){return"<"}V4.peek=VS;function V4(e,t,n,r){const a=Tf(n),s=a==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${s}`),f+=d.move(" "+a),f+=d.move(n.safe(e.title,{before:f,after:a,...d.current()})),f+=d.move(a),c()),f+=d.move(")"),l(),f}function VS(){return"!"}K4.peek=KS;function K4(e,t,n,r){const a=e.referenceType,s=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=h,s(),a==="full"||!f||f!==g?d+=c.move(g+"]"):a==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function KS(){return"!"}Y4.peek=YS;function Y4(e,t,n){let r=e.value||"",a="`",s=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const l=n.unsafe[s],c=n.compilePattern(l);let d;if(l.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return a+r+a}function YS(){return"`"}function X4(e,t){const n=xf(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Z4.peek=XS;function Z4(e,t,n,r){const a=Tf(n),s=a==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,d;if(X4(e,n)){const h=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(e,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=h,g}c=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${s}`),f+=l.move(" "+a),f+=l.move(n.safe(e.title,{before:f,after:a,...l.current()})),f+=l.move(a),d()),f+=l.move(")"),c(),f}function XS(e,t,n){return X4(e,n)?"<":"["}Q4.peek=ZS;function Q4(e,t,n,r){const a=e.referenceType,s=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=h,s(),a==="full"||!f||f!==g?d+=c.move(g+"]"):a==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function ZS(){return"["}function Cf(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function QS(e){const t=Cf(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function JS(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function J4(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function eE(e,t,n,r){const a=n.enter("list"),s=n.bulletCurrent;let l=e.ordered?JS(n):Cf(n);const c=e.ordered?l==="."?")":".":QS(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),J4(n)===l&&h){let g=-1;for(;++g<e.children.length;){const v=e.children[g];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=s,a(),f}function tE(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function nE(e,t,n,r){const a=tE(n);let s=n.bulletCurrent||Cf(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let l=s.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(s+" ".repeat(l-s.length)),c.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),h);return d(),f;function h(g,v,x){return v?(x?"":" ".repeat(l))+g:(x?s:s+" ".repeat(l-s.length))+g}}function rE(e,t,n,r){const a=n.enter("paragraph"),s=n.enter("phrasing"),l=n.containerPhrasing(e,r);return s(),a(),l}const iE=Ho(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function aE(e,t,n,r){return(e.children.some(function(l){return iE(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function sE(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}eb.peek=oE;function eb(e,t,n,r){const a=sE(n),s=n.enter("strong"),l=n.createTracker(r),c=l.move(a+a);let d=l.move(n.containerPhrasing(e,{after:a,before:c,...l.current()}));const f=d.charCodeAt(0),h=Gu(r.before.charCodeAt(r.before.length-1),f,a);h.inside&&(d=Do(f)+d.slice(1));const g=d.charCodeAt(d.length-1),v=Gu(r.after.charCodeAt(0),g,a);v.inside&&(d=d.slice(0,-1)+Do(g));const x=l.move(a+a);return s(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},c+d+x}function oE(e,t,n){return n.options.strong||"*"}function lE(e,t,n,r){return n.safe(e.value,r)}function uE(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function cE(e,t,n){const r=(J4(n)+(n.options.ruleSpaces?" ":"")).repeat(uE(n));return n.options.ruleSpaces?r.slice(0,-1):r}const tb={blockquote:LS,break:Hg,code:BS,definition:$S,emphasis:q4,hardBreak:Hg,heading:qS,html:G4,image:V4,imageReference:K4,inlineCode:Y4,link:Z4,linkReference:Q4,list:eE,listItem:nE,paragraph:rE,root:aE,strong:eb,text:lE,thematicBreak:cE};function dE(){return{enter:{table:mE,tableData:Ug,tableHeader:Ug,tableRow:hE},exit:{codeText:pE,table:fE,tableData:Hd,tableHeader:Hd,tableRow:Hd}}}function mE(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function fE(e){this.exit(e),this.data.inTable=void 0}function hE(e){this.enter({type:"tableRow",children:[]},e)}function Hd(e){this.exit(e)}function Ug(e){this.enter({type:"tableCell",children:[]},e)}function pE(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,gE));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function gE(e,t){return t==="|"?t:e}function xE(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:d,tableRow:c}};function l(x,w,E,N){return f(h(x,E,N),x.align)}function c(x,w,E,N){const T=g(x,E,N),I=f([T]);return I.slice(0,I.indexOf(`
`))}function d(x,w,E,N){const T=E.enter("tableCell"),I=E.enter("phrasing"),L=E.containerPhrasing(x,{...N,before:s,after:s});return I(),T(),L}function f(x,w){return jS(x,{align:w,alignDelimiters:r,padding:n,stringLength:a})}function h(x,w,E){const N=x.children;let T=-1;const I=[],L=w.enter("table");for(;++T<N.length;)I[T]=g(N[T],w,E);return L(),I}function g(x,w,E){const N=x.children;let T=-1;const I=[],L=w.enter("tableRow");for(;++T<N.length;)I[T]=d(N[T],x,w,E);return L(),I}function v(x,w,E){let N=tb.inlineCode(x,w,E);return E.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}function bE(){return{exit:{taskListCheckValueChecked:Wg,taskListCheckValueUnchecked:Wg,paragraph:yE}}}function vE(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kE}}}function Wg(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function yE(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let s=-1,l;for(;++s<a.length;){const c=a[s];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function kE(e,t,n,r){const a=e.children[0],s=typeof e.checked=="boolean"&&a&&a.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);s&&c.move(l);let d=tb.listItem(e,t,n,{...r,...c.current()});return s&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(h){return h+l}}function wE(){return[tS(),wS(),TS(),dE(),bE()]}function SE(e){return{extensions:[nS(),SS(e),CS(),xE(e),vE()]}}const EE={tokenize:AE,partial:!0},nb={tokenize:IE,partial:!0},rb={tokenize:jE,partial:!0},ib={tokenize:RE,partial:!0},NE={tokenize:LE,partial:!0},ab={name:"wwwAutolink",tokenize:_E,previous:ob},sb={name:"protocolAutolink",tokenize:ME,previous:lb},_i={name:"emailAutolink",tokenize:CE,previous:ub},ri={};function TE(){return{text:ri}}let Ma=48;for(;Ma<123;)ri[Ma]=_i,Ma++,Ma===58?Ma=65:Ma===91&&(Ma=97);ri[43]=_i;ri[45]=_i;ri[46]=_i;ri[95]=_i;ri[72]=[_i,sb];ri[104]=[_i,sb];ri[87]=[_i,ab];ri[119]=[_i,ab];function CE(e,t,n){const r=this;let a,s;return l;function l(g){return!Om(g)||!ub.call(r,r.previous)||_f(r.events)?n(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(g))}function c(g){return Om(g)?(e.consume(g),c):g===64?(e.consume(g),d):n(g)}function d(g){return g===46?e.check(NE,h,f)(g):g===45||g===95||Dn(g)?(s=!0,e.consume(g),d):h(g)}function f(g){return e.consume(g),a=!0,d}function h(g){return s&&a&&Wn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(g)):n(g)}}function _E(e,t,n){const r=this;return a;function a(l){return l!==87&&l!==119||!ob.call(r,r.previous)||_f(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(EE,e.attempt(nb,e.attempt(rb,s),n),n)(l))}function s(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function ME(e,t,n){const r=this;let a="",s=!1;return l;function l(g){return(g===72||g===104)&&lb.call(r,r.previous)&&!_f(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(g),e.consume(g),c):n(g)}function c(g){if(Wn(g)&&a.length<5)return a+=String.fromCodePoint(g),e.consume(g),c;if(g===58){const v=a.toLowerCase();if(v==="http"||v==="https")return e.consume(g),d}return n(g)}function d(g){return g===47?(e.consume(g),s?f:(s=!0,d)):n(g)}function f(g){return g===null||Uu(g)||Nt(g)||Pa(g)||pc(g)?n(g):e.attempt(nb,e.attempt(rb,h),n)(g)}function h(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(g)}}function AE(e,t,n){let r=0;return a;function a(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),a):l===46&&r===3?(e.consume(l),s):n(l)}function s(l){return l===null?n(l):t(l)}}function IE(e,t,n){let r,a,s;return l;function l(f){return f===46||f===95?e.check(ib,d,c)(f):f===null||Nt(f)||Pa(f)||f!==45&&pc(f)?d(f):(s=!0,e.consume(f),l)}function c(f){return f===95?r=!0:(a=r,r=void 0),e.consume(f),l}function d(f){return a||r||!s?n(f):t(f)}}function jE(e,t){let n=0,r=0;return a;function a(l){return l===40?(n++,e.consume(l),a):l===41&&r<n?s(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(ib,t,s)(l):l===null||Nt(l)||Pa(l)?t(l):(e.consume(l),a)}function s(l){return l===41&&r++,e.consume(l),a}}function RE(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),s):c===93?(e.consume(c),a):c===60||c===null||Nt(c)||Pa(c)?t(c):n(c)}function a(c){return c===null||c===40||c===91||Nt(c)||Pa(c)?t(c):r(c)}function s(c){return Wn(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):Wn(c)?(e.consume(c),l):n(c)}}function LE(e,t,n){return r;function r(s){return e.consume(s),a}function a(s){return Dn(s)?n(s):t(s)}}function ob(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Nt(e)}function lb(e){return!Wn(e)}function ub(e){return!(e===47||Om(e))}function Om(e){return e===43||e===45||e===46||e===95||Dn(e)}function _f(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const OE={tokenize:UE,partial:!0};function DE(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:FE,continuation:{tokenize:$E},exit:HE}},text:{91:{name:"gfmFootnoteCall",tokenize:BE},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zE,resolveTo:PE}}}}function zE(e,t,n){const r=this;let a=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;a--;){const d=r.events[a][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!l||!l._balanced)return n(d);const f=Hr(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!s.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function PE(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function BE(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,l;return c;function c(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),d}function d(g){return g!==94?n(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(g){if(s>999||g===93&&!l||g===null||g===91||Nt(g))return n(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return a.includes(Hr(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(g)}return Nt(g)||(l=!0),s++,e.consume(g),g===92?h:f}function h(g){return g===91||g===92||g===93?(e.consume(g),s++,f):f(g)}}function FE(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,l=0,c;return d;function d(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(w)}function h(w){if(l>999||w===93&&!c||w===null||w===91||Nt(w))return n(w);if(w===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return s=Hr(r.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Nt(w)||(c=!0),l++,e.consume(w),w===92?g:h}function g(w){return w===91||w===92||w===93?(e.consume(w),l++,h):h(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),a.includes(s)||a.push(s),mt(e,x,"gfmFootnoteDefinitionWhitespace")):n(w)}function x(w){return t(w)}}function $E(e,t,n){return e.check($o,t,e.attempt(OE,t,n))}function HE(e){e.exit("gfmFootnoteDefinition")}function UE(e,t,n){const r=this;return mt(e,a,"gfmFootnoteDefinitionIndent",5);function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(s):n(s)}}function WE(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(l,c){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},g={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},v=[["enter",h,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",g,c]],x=c.parser.constructs.insideSpan.null;x&&hr(v,v.length,0,gc(x,l.slice(f+1,d),c)),hr(v,v.length,0,[["exit",g,c],["enter",l[d][1],c],["exit",l[d][1],c],["exit",h,c]]),hr(l,f-1,d-f+3,v),d=f+v.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function s(l,c,d){const f=this.previous,h=this.events;let g=0;return v;function v(w){return f===126&&h[h.length-1][1].type!=="characterEscape"?d(w):(l.enter("strikethroughSequenceTemporary"),x(w))}function x(w){const E=Ms(f);if(w===126)return g>1?d(w):(l.consume(w),g++,x);if(g<2&&!n)return d(w);const N=l.exit("strikethroughSequenceTemporary"),T=Ms(w);return N._open=!T||T===2&&!!E,N._close=!E||E===2&&!!T,c(w)}}}class qE{constructor(){this.map=[]}add(t,n,r){GE(this,t,n,r)}consume(t){if(this.map.sort(function(s,l){return s[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const s of a)t.push(s);a=r.pop()}this.map.length=0}}function GE(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function VE(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function KE(){return{flow:{null:{name:"table",tokenize:YE,resolveAll:XE}}}}function YE(e,t,n){const r=this;let a=0,s=0,l;return c;function c(z){let ie=r.events.length-1;for(;ie>-1;){const K=r.events[ie][1].type;if(K==="lineEnding"||K==="linePrefix")ie--;else break}const se=ie>-1?r.events[ie][1].type:null,de=se==="tableHead"||se==="tableRow"?O:d;return de===O&&r.parser.lazy[r.now().line]?n(z):de(z)}function d(z){return e.enter("tableHead"),e.enter("tableRow"),f(z)}function f(z){return z===124||(l=!0,s+=1),h(z)}function h(z){return z===null?n(z):Ue(z)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),x):n(z):ht(z)?mt(e,h,"whitespace")(z):(s+=1,l&&(l=!1,a+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),g(z)))}function g(z){return z===null||z===124||Nt(z)?(e.exit("data"),h(z)):(e.consume(z),z===92?v:g)}function v(z){return z===92||z===124?(e.consume(z),g):g(z)}function x(z){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(z):(e.enter("tableDelimiterRow"),l=!1,ht(z)?mt(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):w(z))}function w(z){return z===45||z===58?N(z):z===124?(l=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),E):D(z)}function E(z){return ht(z)?mt(e,N,"whitespace")(z):N(z)}function N(z){return z===58?(s+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),T):z===45?(s+=1,T(z)):z===null||Ue(z)?B(z):D(z)}function T(z){return z===45?(e.enter("tableDelimiterFiller"),I(z)):D(z)}function I(z){return z===45?(e.consume(z),I):z===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),L):(e.exit("tableDelimiterFiller"),L(z))}function L(z){return ht(z)?mt(e,B,"whitespace")(z):B(z)}function B(z){return z===124?w(z):z===null||Ue(z)?!l||a!==s?D(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(z)):D(z)}function D(z){return n(z)}function O(z){return e.enter("tableRow"),te(z)}function te(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),te):z===null||Ue(z)?(e.exit("tableRow"),t(z)):ht(z)?mt(e,te,"whitespace")(z):(e.enter("data"),G(z))}function G(z){return z===null||z===124||Nt(z)?(e.exit("data"),te(z)):(e.consume(z),z===92?J:G)}function J(z){return z===92||z===124?(e.consume(z),G):G(z)}}function XE(e,t){let n=-1,r=!0,a=0,s=[0,0,0,0],l=[0,0,0,0],c=!1,d=0,f,h,g;const v=new qE;for(;++n<e.length;){const x=e[n],w=x[1];x[0]==="enter"?w.type==="tableHead"?(c=!1,d!==0&&(qg(v,t,d,f,h),h=void 0,d=0),f={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(n,0,[["enter",f,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,g=void 0,s=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(n,0,[["enter",h,t]])),a=w.type==="tableDelimiterRow"?2:h?3:1):a&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(s[1]!==0&&(l[0]=l[1],g=fu(v,t,s,a,void 0,g),s=[0,0,0,0]),l[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(l[0]=l[1],g=fu(v,t,s,a,void 0,g)),s=l,l=[s[1],n,0,0])):w.type==="tableHead"?(c=!0,d=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(d=n,s[1]!==0?(l[0]=l[1],g=fu(v,t,s,a,n,g)):l[1]!==0&&(g=fu(v,t,l,a,n,g)),a=0):a&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&qg(v,t,d,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=VE(t.events,n))}return e}function fu(e,t,n,r,a,s){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(s.end=Object.assign({},Ss(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const d=Ss(t.events,n[1]);if(s={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const f=Ss(t.events,n[2]),h=Ss(t.events,n[3]),g={type:c,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",g,t]]),r!==2){const v=t.events[n[2]],x=t.events[n[3]];if(v[1].end=Object.assign({},x[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,E=n[3]-n[2]-1;e.add(w,E,[])}}e.add(n[3]+1,0,[["exit",g,t]])}return a!==void 0&&(s.end=Object.assign({},Ss(t.events,a)),e.add(a,0,[["exit",s,t]]),s=void 0),s}function qg(e,t,n,r,a){const s=[],l=Ss(t.events,n);a&&(a.end=Object.assign({},l),s.push(["exit",a,t])),r.end=Object.assign({},l),s.push(["exit",r,t]),e.add(n+1,0,s)}function Ss(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const ZE={name:"tasklistCheck",tokenize:JE};function QE(){return{text:{91:ZE}}}function JE(e,t,n){const r=this;return a;function a(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),s)}function s(d){return Nt(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Ue(d)?t(d):ht(d)?e.check({tokenize:eN},t,n)(d):n(d)}}function eN(e,t,n){return mt(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function tN(e){return b4([TE(),DE(),WE(e),KE(),QE()])}const nN={};function cb(e){const t=this,n=e||nN,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(tN(n)),s.push(wE()),l.push(SE(n))}function rN(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:s},exit:{mathFlow:a,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:c,mathText:l,mathTextData:c}};function e(d){const f={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[f]}},d)}function t(){this.buffer()}function n(){const d=this.resume(),f=this.stack[this.stack.length-1];f.type,f.meta=d}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function a(d){const f=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.stack[this.stack.length-1];h.type,this.exit(d),h.value=f;const g=h.data.hChildren[0];g.type,g.tagName,g.children.push({type:"text",value:f}),this.data.mathFlowInside=void 0}function s(d){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},d),this.buffer()}function l(d){const f=this.resume(),h=this.stack[this.stack.length-1];h.type,this.exit(d),h.value=f,h.data.hChildren.push({type:"text",value:f})}function c(d){this.config.enter.data.call(this,d),this.config.exit.data.call(this,d)}}function iN(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),r.peek=a,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(s,l,c,d){const f=s.value||"",h=c.createTracker(d),g="$".repeat(Math.max(W4(f,"$")+1,2)),v=c.enter("mathFlow");let x=h.move(g);if(s.meta){const w=c.enter("mathFlowMeta");x+=h.move(c.safe(s.meta,{after:`
`,before:x,encode:["$"],...h.current()})),w()}return x+=h.move(`
`),f&&(x+=h.move(f+`
`)),x+=h.move(g),v(),x}function r(s,l,c){let d=s.value||"",f=1;for(t||f++;new RegExp("(^|[^$])"+"\\$".repeat(f)+"([^$]|$)").test(d);)f++;const h="$".repeat(f);/[^ \r\n]/.test(d)&&(/^[ \r\n]/.test(d)&&/[ \r\n]$/.test(d)||/^\$|\$$/.test(d))&&(d=" "+d+" ");let g=-1;for(;++g<c.unsafe.length;){const v=c.unsafe[g];if(!v.atBreak)continue;const x=c.compilePattern(v);let w;for(;w=x.exec(d);){let E=w.index;d.codePointAt(E)===10&&d.codePointAt(E-1)===13&&E--,d=d.slice(0,E)+" "+d.slice(w.index+1)}}return h+d+h}function a(){return"$"}}const aN={tokenize:sN,concrete:!0,name:"mathFlow"},Gg={tokenize:oN,partial:!0};function sN(e,t,n){const r=this,a=r.events[r.events.length-1],s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let l=0;return c;function c(I){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),d(I)}function d(I){return I===36?(e.consume(I),l++,d):l<2?n(I):(e.exit("mathFlowFenceSequence"),mt(e,f,"whitespace")(I))}function f(I){return I===null||Ue(I)?g(I):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(I))}function h(I){return I===null||Ue(I)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),g(I)):I===36?n(I):(e.consume(I),h)}function g(I){return e.exit("mathFlowFence"),r.interrupt?t(I):e.attempt(Gg,v,N)(I)}function v(I){return e.attempt({tokenize:T,partial:!0},N,x)(I)}function x(I){return(s?mt(e,w,"linePrefix",s+1):w)(I)}function w(I){return I===null?N(I):Ue(I)?e.attempt(Gg,v,N)(I):(e.enter("mathFlowValue"),E(I))}function E(I){return I===null||Ue(I)?(e.exit("mathFlowValue"),w(I)):(e.consume(I),E)}function N(I){return e.exit("mathFlow"),t(I)}function T(I,L,B){let D=0;return mt(I,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function O(J){return I.enter("mathFlowFence"),I.enter("mathFlowFenceSequence"),te(J)}function te(J){return J===36?(D++,I.consume(J),te):D<l?B(J):(I.exit("mathFlowFenceSequence"),mt(I,G,"whitespace")(J))}function G(J){return J===null||Ue(J)?(I.exit("mathFlowFence"),L(J)):B(J)}}}function oN(e,t,n){const r=this;return a;function a(l){return l===null?t(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function lN(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:uN,previous:cN,name:"mathText"};function r(a,s,l){let c=0,d,f;return h;function h(E){return a.enter("mathText"),a.enter("mathTextSequence"),g(E)}function g(E){return E===36?(a.consume(E),c++,g):c<2&&!n?l(E):(a.exit("mathTextSequence"),v(E))}function v(E){return E===null?l(E):E===36?(f=a.enter("mathTextSequence"),d=0,w(E)):E===32?(a.enter("space"),a.consume(E),a.exit("space"),v):Ue(E)?(a.enter("lineEnding"),a.consume(E),a.exit("lineEnding"),v):(a.enter("mathTextData"),x(E))}function x(E){return E===null||E===32||E===36||Ue(E)?(a.exit("mathTextData"),v(E)):(a.consume(E),x)}function w(E){return E===36?(a.consume(E),d++,w):d===c?(a.exit("mathTextSequence"),a.exit("mathText"),s(E)):(f.type="mathTextData",x(E))}}}function uN(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="mathTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function cN(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function dN(e){return{flow:{36:aN},text:{36:lN(e)}}}class nr{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new nr(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class pr{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new pr(n,nr.range(this,t))}}class we{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,a,s,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;a=l.start,s=l.end,a===c.length?r+=" at end of input: ":r+=" at position "+(a+1)+": ";var d=c.slice(a,s).replace(/[^]/g,"$&"),f;a>15?f=""+c.slice(a-15,a):f=c.slice(0,a);var h;s+15<c.length?h=c.slice(s,s+15)+"":h=c.slice(s),r+=f+d+h}var g=new Error(r);return g.name="ParseError",g.__proto__=we.prototype,g.position=a,a!=null&&s!=null&&(g.length=s-a),g.rawMessage=t,g}}we.prototype.__proto__=Error.prototype;var mN=function(t,n){return t===void 0?n:t},fN=/([A-Z])/g,hN=function(t){return t.replace(fN,"-$1").toLowerCase()},pN={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},gN=/[&><"']/g;function xN(e){return String(e).replace(gN,t=>pN[t])}var db=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},bN=function(t){var n=db(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},vN=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},yN=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},yt={deflt:mN,escape:xN,hyphenate:hN,getBaseElem:db,isCharacterBox:bN,protocolFromUrl:yN},Ou={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function kN(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Mf{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Ou)if(Ou.hasOwnProperty(n)){var r=Ou[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:kN(r)}}reportNonstrict(t,n,r){var a=this.strict;if(typeof a=="function"&&(a=a(t,n,r)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new we("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var a=this.strict;if(typeof a=="function")try{a=a(t,n,r)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=yt.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}class Qi{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return Jr[wN[this.id]]}sub(){return Jr[SN[this.id]]}fracNum(){return Jr[EN[this.id]]}fracDen(){return Jr[NN[this.id]]}cramp(){return Jr[TN[this.id]]}text(){return Jr[CN[this.id]]}isTight(){return this.size>=2}}var Af=0,Vu=1,_s=2,wi=3,zo=4,_r=5,As=6,qn=7,Jr=[new Qi(Af,0,!1),new Qi(Vu,0,!0),new Qi(_s,1,!1),new Qi(wi,1,!0),new Qi(zo,2,!1),new Qi(_r,2,!0),new Qi(As,3,!1),new Qi(qn,3,!0)],wN=[zo,_r,zo,_r,As,qn,As,qn],SN=[_r,_r,_r,_r,qn,qn,qn,qn],EN=[_s,wi,zo,_r,As,qn,As,qn],NN=[wi,wi,_r,_r,qn,qn,qn,qn],TN=[Vu,Vu,wi,wi,_r,_r,qn,qn],CN=[Af,Vu,_s,wi,_s,wi,_s,wi],Ze={DISPLAY:Jr[Af],TEXT:Jr[_s],SCRIPT:Jr[zo],SCRIPTSCRIPT:Jr[As]},Dm=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function _N(e){for(var t=0;t<Dm.length;t++)for(var n=Dm[t],r=0;r<n.blocks.length;r++){var a=n.blocks[r];if(e>=a[0]&&e<=a[1])return n.name}return null}var Du=[];Dm.forEach(e=>e.blocks.forEach(t=>Du.push(...t)));function mb(e){for(var t=0;t<Du.length;t+=2)if(e>=Du[t]&&e<=Du[t+1])return!0;return!1}var bs=80,MN=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},AN=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},IN=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},jN=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},RN=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},LN=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},ON=function(t,n,r){var a=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},DN=function(t,n,r){n=1e3*n;var a="";switch(t){case"sqrtMain":a=MN(n,bs);break;case"sqrtSize1":a=AN(n,bs);break;case"sqrtSize2":a=IN(n,bs);break;case"sqrtSize3":a=jN(n,bs);break;case"sqrtSize4":a=RN(n,bs);break;case"sqrtTall":a=ON(n,bs,r)}return a},zN=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Vg={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},PN=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Wo{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var ti={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},hu={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Kg={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function BN(e,t){ti[e]=t}function If(e,t,n){if(!ti[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),a=ti[t][r];if(!a&&e[0]in Kg&&(r=Kg[e[0]].charCodeAt(0),a=ti[t][r]),!a&&n==="text"&&mb(r)&&(a=ti[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var Ud={};function FN(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Ud[t]){var n=Ud[t]={cssEmPerMu:hu.quad[t]/18};for(var r in hu)hu.hasOwnProperty(r)&&(n[r]=hu[r][t])}return Ud[t]}var $N=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Yg=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Xg=function(t,n){return n.size<2?t:$N[t-1][n.size-1]};class ki{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||ki.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Yg[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new ki(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:Xg(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:Yg[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=Xg(ki.BASESIZE,t);return this.size===n&&this.textSize===ki.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ki.BASESIZE?["sizing","reset-size"+this.size,"size"+ki.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=FN(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ki.BASESIZE=6;var zm={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},HN={ex:!0,em:!0,mu:!0},fb=function(t){return typeof t!="string"&&(t=t.unit),t in zm||t in HN||t==="ex"},Vt=function(t,n){var r;if(t.unit in zm)r=zm[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var a;if(n.style.isTight()?a=n.havingStyle(n.style.text()):a=n,t.unit==="ex")r=a.fontMetrics().xHeight;else if(t.unit==="em")r=a.fontMetrics().quad;else throw new we("Invalid unit: '"+t.unit+"'");a!==n&&(r*=a.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Te=function(t){return+t.toFixed(4)+"em"},ia=function(t){return t.filter(n=>n).join(" ")},hb=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var a=n.getColor();a&&(this.style.color=a)}},pb=function(t){var n=document.createElement(t);n.className=ia(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&n.setAttribute(a,this.attributes[a]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},UN=/[\s"'>/=\x00-\x1f]/,gb=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+yt.escape(ia(this.classes))+'"');var r="";for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=yt.hyphenate(a)+":"+this.style[a]+";");r&&(n+=' style="'+yt.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(UN.test(s))throw new we("Invalid attribute name '"+s+"'");n+=" "+s+'="'+yt.escape(this.attributes[s])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+t+">",n};class qo{constructor(t,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,hb.call(this,t,r,a),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return pb.call(this,"span")}toMarkup(){return gb.call(this,"span")}}class jf{constructor(t,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,hb.call(this,n,a),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return pb.call(this,"a")}toMarkup(){return gb.call(this,"a")}}class WN{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+yt.escape(this.src)+'"'+(' alt="'+yt.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=yt.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+yt.escape(n)+'"'),t+="'/>",t}}var qN={:"",:"",:"",:""};class Ar{constructor(t,n,r,a,s,l,c,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=a||0,this.skew=s||0,this.width=l||0,this.classes=c||[],this.style=d||{},this.maxFontSize=0;var f=_N(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=qN[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Te(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ia(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=yt.escape(ia(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=yt.hyphenate(a)+":"+this.style[a]+";");r&&(t=!0,n+=' style="'+yt.escape(r)+'"');var s=yt.escape(this.text);return t?(n+=">",n+=s,n+="</span>",n):s}}class Ei{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+yt.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class aa{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Vg[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+yt.escape(this.alternate)+'"/>':'<path d="'+yt.escape(Vg[this.pathName])+'"/>'}}class Pm{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+yt.escape(this.attributes[n])+'"');return t+="/>",t}}function Zg(e){if(e instanceof Ar)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function GN(e){if(e instanceof qo)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var VN={bin:1,close:1,inner:1,open:1,punct:1,rel:1},KN={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},It={math:{},text:{}};function y(e,t,n,r,a,s){It[e][a]={font:t,group:n,replace:r},s&&r&&(It[e][r]=It[e][a])}var S="math",pe="text",_="main",$="ams",Bt="accent-token",Oe="bin",Gn="close",Ls="inner",Xe="mathord",pn="op-token",xr="open",yc="punct",U="rel",Mi="spacing",X="textord";y(S,_,U,"","\\equiv",!0);y(S,_,U,"","\\prec",!0);y(S,_,U,"","\\succ",!0);y(S,_,U,"","\\sim",!0);y(S,_,U,"","\\perp");y(S,_,U,"","\\preceq",!0);y(S,_,U,"","\\succeq",!0);y(S,_,U,"","\\simeq",!0);y(S,_,U,"","\\mid",!0);y(S,_,U,"","\\ll",!0);y(S,_,U,"","\\gg",!0);y(S,_,U,"","\\asymp",!0);y(S,_,U,"","\\parallel");y(S,_,U,"","\\bowtie",!0);y(S,_,U,"","\\smile",!0);y(S,_,U,"","\\sqsubseteq",!0);y(S,_,U,"","\\sqsupseteq",!0);y(S,_,U,"","\\doteq",!0);y(S,_,U,"","\\frown",!0);y(S,_,U,"","\\ni",!0);y(S,_,U,"","\\propto",!0);y(S,_,U,"","\\vdash",!0);y(S,_,U,"","\\dashv",!0);y(S,_,U,"","\\owns");y(S,_,yc,".","\\ldotp");y(S,_,yc,"","\\cdotp");y(S,_,X,"#","\\#");y(pe,_,X,"#","\\#");y(S,_,X,"&","\\&");y(pe,_,X,"&","\\&");y(S,_,X,"","\\aleph",!0);y(S,_,X,"","\\forall",!0);y(S,_,X,"","\\hbar",!0);y(S,_,X,"","\\exists",!0);y(S,_,X,"","\\nabla",!0);y(S,_,X,"","\\flat",!0);y(S,_,X,"","\\ell",!0);y(S,_,X,"","\\natural",!0);y(S,_,X,"","\\clubsuit",!0);y(S,_,X,"","\\wp",!0);y(S,_,X,"","\\sharp",!0);y(S,_,X,"","\\diamondsuit",!0);y(S,_,X,"","\\Re",!0);y(S,_,X,"","\\heartsuit",!0);y(S,_,X,"","\\Im",!0);y(S,_,X,"","\\spadesuit",!0);y(S,_,X,"","\\S",!0);y(pe,_,X,"","\\S");y(S,_,X,"","\\P",!0);y(pe,_,X,"","\\P");y(S,_,X,"","\\dag");y(pe,_,X,"","\\dag");y(pe,_,X,"","\\textdagger");y(S,_,X,"","\\ddag");y(pe,_,X,"","\\ddag");y(pe,_,X,"","\\textdaggerdbl");y(S,_,Gn,"","\\rmoustache",!0);y(S,_,xr,"","\\lmoustache",!0);y(S,_,Gn,"","\\rgroup",!0);y(S,_,xr,"","\\lgroup",!0);y(S,_,Oe,"","\\mp",!0);y(S,_,Oe,"","\\ominus",!0);y(S,_,Oe,"","\\uplus",!0);y(S,_,Oe,"","\\sqcap",!0);y(S,_,Oe,"","\\ast");y(S,_,Oe,"","\\sqcup",!0);y(S,_,Oe,"","\\bigcirc",!0);y(S,_,Oe,"","\\bullet",!0);y(S,_,Oe,"","\\ddagger");y(S,_,Oe,"","\\wr",!0);y(S,_,Oe,"","\\amalg");y(S,_,Oe,"&","\\And");y(S,_,U,"","\\longleftarrow",!0);y(S,_,U,"","\\Leftarrow",!0);y(S,_,U,"","\\Longleftarrow",!0);y(S,_,U,"","\\longrightarrow",!0);y(S,_,U,"","\\Rightarrow",!0);y(S,_,U,"","\\Longrightarrow",!0);y(S,_,U,"","\\leftrightarrow",!0);y(S,_,U,"","\\longleftrightarrow",!0);y(S,_,U,"","\\Leftrightarrow",!0);y(S,_,U,"","\\Longleftrightarrow",!0);y(S,_,U,"","\\mapsto",!0);y(S,_,U,"","\\longmapsto",!0);y(S,_,U,"","\\nearrow",!0);y(S,_,U,"","\\hookleftarrow",!0);y(S,_,U,"","\\hookrightarrow",!0);y(S,_,U,"","\\searrow",!0);y(S,_,U,"","\\leftharpoonup",!0);y(S,_,U,"","\\rightharpoonup",!0);y(S,_,U,"","\\swarrow",!0);y(S,_,U,"","\\leftharpoondown",!0);y(S,_,U,"","\\rightharpoondown",!0);y(S,_,U,"","\\nwarrow",!0);y(S,_,U,"","\\rightleftharpoons",!0);y(S,$,U,"","\\nless",!0);y(S,$,U,"","\\@nleqslant");y(S,$,U,"","\\@nleqq");y(S,$,U,"","\\lneq",!0);y(S,$,U,"","\\lneqq",!0);y(S,$,U,"","\\@lvertneqq");y(S,$,U,"","\\lnsim",!0);y(S,$,U,"","\\lnapprox",!0);y(S,$,U,"","\\nprec",!0);y(S,$,U,"","\\npreceq",!0);y(S,$,U,"","\\precnsim",!0);y(S,$,U,"","\\precnapprox",!0);y(S,$,U,"","\\nsim",!0);y(S,$,U,"","\\@nshortmid");y(S,$,U,"","\\nmid",!0);y(S,$,U,"","\\nvdash",!0);y(S,$,U,"","\\nvDash",!0);y(S,$,U,"","\\ntriangleleft");y(S,$,U,"","\\ntrianglelefteq",!0);y(S,$,U,"","\\subsetneq",!0);y(S,$,U,"","\\@varsubsetneq");y(S,$,U,"","\\subsetneqq",!0);y(S,$,U,"","\\@varsubsetneqq");y(S,$,U,"","\\ngtr",!0);y(S,$,U,"","\\@ngeqslant");y(S,$,U,"","\\@ngeqq");y(S,$,U,"","\\gneq",!0);y(S,$,U,"","\\gneqq",!0);y(S,$,U,"","\\@gvertneqq");y(S,$,U,"","\\gnsim",!0);y(S,$,U,"","\\gnapprox",!0);y(S,$,U,"","\\nsucc",!0);y(S,$,U,"","\\nsucceq",!0);y(S,$,U,"","\\succnsim",!0);y(S,$,U,"","\\succnapprox",!0);y(S,$,U,"","\\ncong",!0);y(S,$,U,"","\\@nshortparallel");y(S,$,U,"","\\nparallel",!0);y(S,$,U,"","\\nVDash",!0);y(S,$,U,"","\\ntriangleright");y(S,$,U,"","\\ntrianglerighteq",!0);y(S,$,U,"","\\@nsupseteqq");y(S,$,U,"","\\supsetneq",!0);y(S,$,U,"","\\@varsupsetneq");y(S,$,U,"","\\supsetneqq",!0);y(S,$,U,"","\\@varsupsetneqq");y(S,$,U,"","\\nVdash",!0);y(S,$,U,"","\\precneqq",!0);y(S,$,U,"","\\succneqq",!0);y(S,$,U,"","\\@nsubseteqq");y(S,$,Oe,"","\\unlhd");y(S,$,Oe,"","\\unrhd");y(S,$,U,"","\\nleftarrow",!0);y(S,$,U,"","\\nrightarrow",!0);y(S,$,U,"","\\nLeftarrow",!0);y(S,$,U,"","\\nRightarrow",!0);y(S,$,U,"","\\nleftrightarrow",!0);y(S,$,U,"","\\nLeftrightarrow",!0);y(S,$,U,"","\\vartriangle");y(S,$,X,"","\\hslash");y(S,$,X,"","\\triangledown");y(S,$,X,"","\\lozenge");y(S,$,X,"","\\circledS");y(S,$,X,"","\\circledR");y(pe,$,X,"","\\circledR");y(S,$,X,"","\\measuredangle",!0);y(S,$,X,"","\\nexists");y(S,$,X,"","\\mho");y(S,$,X,"","\\Finv",!0);y(S,$,X,"","\\Game",!0);y(S,$,X,"","\\backprime");y(S,$,X,"","\\blacktriangle");y(S,$,X,"","\\blacktriangledown");y(S,$,X,"","\\blacksquare");y(S,$,X,"","\\blacklozenge");y(S,$,X,"","\\bigstar");y(S,$,X,"","\\sphericalangle",!0);y(S,$,X,"","\\complement",!0);y(S,$,X,"","\\eth",!0);y(pe,_,X,"","");y(S,$,X,"","\\diagup");y(S,$,X,"","\\diagdown");y(S,$,X,"","\\square");y(S,$,X,"","\\Box");y(S,$,X,"","\\Diamond");y(S,$,X,"","\\yen",!0);y(pe,$,X,"","\\yen",!0);y(S,$,X,"","\\checkmark",!0);y(pe,$,X,"","\\checkmark");y(S,$,X,"","\\beth",!0);y(S,$,X,"","\\daleth",!0);y(S,$,X,"","\\gimel",!0);y(S,$,X,"","\\digamma",!0);y(S,$,X,"","\\varkappa");y(S,$,xr,"","\\@ulcorner",!0);y(S,$,Gn,"","\\@urcorner",!0);y(S,$,xr,"","\\@llcorner",!0);y(S,$,Gn,"","\\@lrcorner",!0);y(S,$,U,"","\\leqq",!0);y(S,$,U,"","\\leqslant",!0);y(S,$,U,"","\\eqslantless",!0);y(S,$,U,"","\\lesssim",!0);y(S,$,U,"","\\lessapprox",!0);y(S,$,U,"","\\approxeq",!0);y(S,$,Oe,"","\\lessdot");y(S,$,U,"","\\lll",!0);y(S,$,U,"","\\lessgtr",!0);y(S,$,U,"","\\lesseqgtr",!0);y(S,$,U,"","\\lesseqqgtr",!0);y(S,$,U,"","\\doteqdot");y(S,$,U,"","\\risingdotseq",!0);y(S,$,U,"","\\fallingdotseq",!0);y(S,$,U,"","\\backsim",!0);y(S,$,U,"","\\backsimeq",!0);y(S,$,U,"","\\subseteqq",!0);y(S,$,U,"","\\Subset",!0);y(S,$,U,"","\\sqsubset",!0);y(S,$,U,"","\\preccurlyeq",!0);y(S,$,U,"","\\curlyeqprec",!0);y(S,$,U,"","\\precsim",!0);y(S,$,U,"","\\precapprox",!0);y(S,$,U,"","\\vartriangleleft");y(S,$,U,"","\\trianglelefteq");y(S,$,U,"","\\vDash",!0);y(S,$,U,"","\\Vvdash",!0);y(S,$,U,"","\\smallsmile");y(S,$,U,"","\\smallfrown");y(S,$,U,"","\\bumpeq",!0);y(S,$,U,"","\\Bumpeq",!0);y(S,$,U,"","\\geqq",!0);y(S,$,U,"","\\geqslant",!0);y(S,$,U,"","\\eqslantgtr",!0);y(S,$,U,"","\\gtrsim",!0);y(S,$,U,"","\\gtrapprox",!0);y(S,$,Oe,"","\\gtrdot");y(S,$,U,"","\\ggg",!0);y(S,$,U,"","\\gtrless",!0);y(S,$,U,"","\\gtreqless",!0);y(S,$,U,"","\\gtreqqless",!0);y(S,$,U,"","\\eqcirc",!0);y(S,$,U,"","\\circeq",!0);y(S,$,U,"","\\triangleq",!0);y(S,$,U,"","\\thicksim");y(S,$,U,"","\\thickapprox");y(S,$,U,"","\\supseteqq",!0);y(S,$,U,"","\\Supset",!0);y(S,$,U,"","\\sqsupset",!0);y(S,$,U,"","\\succcurlyeq",!0);y(S,$,U,"","\\curlyeqsucc",!0);y(S,$,U,"","\\succsim",!0);y(S,$,U,"","\\succapprox",!0);y(S,$,U,"","\\vartriangleright");y(S,$,U,"","\\trianglerighteq");y(S,$,U,"","\\Vdash",!0);y(S,$,U,"","\\shortmid");y(S,$,U,"","\\shortparallel");y(S,$,U,"","\\between",!0);y(S,$,U,"","\\pitchfork",!0);y(S,$,U,"","\\varpropto");y(S,$,U,"","\\blacktriangleleft");y(S,$,U,"","\\therefore",!0);y(S,$,U,"","\\backepsilon");y(S,$,U,"","\\blacktriangleright");y(S,$,U,"","\\because",!0);y(S,$,U,"","\\llless");y(S,$,U,"","\\gggtr");y(S,$,Oe,"","\\lhd");y(S,$,Oe,"","\\rhd");y(S,$,U,"","\\eqsim",!0);y(S,_,U,"","\\Join");y(S,$,U,"","\\Doteq",!0);y(S,$,Oe,"","\\dotplus",!0);y(S,$,Oe,"","\\smallsetminus");y(S,$,Oe,"","\\Cap",!0);y(S,$,Oe,"","\\Cup",!0);y(S,$,Oe,"","\\doublebarwedge",!0);y(S,$,Oe,"","\\boxminus",!0);y(S,$,Oe,"","\\boxplus",!0);y(S,$,Oe,"","\\divideontimes",!0);y(S,$,Oe,"","\\ltimes",!0);y(S,$,Oe,"","\\rtimes",!0);y(S,$,Oe,"","\\leftthreetimes",!0);y(S,$,Oe,"","\\rightthreetimes",!0);y(S,$,Oe,"","\\curlywedge",!0);y(S,$,Oe,"","\\curlyvee",!0);y(S,$,Oe,"","\\circleddash",!0);y(S,$,Oe,"","\\circledast",!0);y(S,$,Oe,"","\\centerdot");y(S,$,Oe,"","\\intercal",!0);y(S,$,Oe,"","\\doublecap");y(S,$,Oe,"","\\doublecup");y(S,$,Oe,"","\\boxtimes",!0);y(S,$,U,"","\\dashrightarrow",!0);y(S,$,U,"","\\dashleftarrow",!0);y(S,$,U,"","\\leftleftarrows",!0);y(S,$,U,"","\\leftrightarrows",!0);y(S,$,U,"","\\Lleftarrow",!0);y(S,$,U,"","\\twoheadleftarrow",!0);y(S,$,U,"","\\leftarrowtail",!0);y(S,$,U,"","\\looparrowleft",!0);y(S,$,U,"","\\leftrightharpoons",!0);y(S,$,U,"","\\curvearrowleft",!0);y(S,$,U,"","\\circlearrowleft",!0);y(S,$,U,"","\\Lsh",!0);y(S,$,U,"","\\upuparrows",!0);y(S,$,U,"","\\upharpoonleft",!0);y(S,$,U,"","\\downharpoonleft",!0);y(S,_,U,"","\\origof",!0);y(S,_,U,"","\\imageof",!0);y(S,$,U,"","\\multimap",!0);y(S,$,U,"","\\leftrightsquigarrow",!0);y(S,$,U,"","\\rightrightarrows",!0);y(S,$,U,"","\\rightleftarrows",!0);y(S,$,U,"","\\twoheadrightarrow",!0);y(S,$,U,"","\\rightarrowtail",!0);y(S,$,U,"","\\looparrowright",!0);y(S,$,U,"","\\curvearrowright",!0);y(S,$,U,"","\\circlearrowright",!0);y(S,$,U,"","\\Rsh",!0);y(S,$,U,"","\\downdownarrows",!0);y(S,$,U,"","\\upharpoonright",!0);y(S,$,U,"","\\downharpoonright",!0);y(S,$,U,"","\\rightsquigarrow",!0);y(S,$,U,"","\\leadsto");y(S,$,U,"","\\Rrightarrow",!0);y(S,$,U,"","\\restriction");y(S,_,X,"","`");y(S,_,X,"$","\\$");y(pe,_,X,"$","\\$");y(pe,_,X,"$","\\textdollar");y(S,_,X,"%","\\%");y(pe,_,X,"%","\\%");y(S,_,X,"_","\\_");y(pe,_,X,"_","\\_");y(pe,_,X,"_","\\textunderscore");y(S,_,X,"","\\angle",!0);y(S,_,X,"","\\infty",!0);y(S,_,X,"","\\prime");y(S,_,X,"","\\triangle");y(S,_,X,"","\\Gamma",!0);y(S,_,X,"","\\Delta",!0);y(S,_,X,"","\\Theta",!0);y(S,_,X,"","\\Lambda",!0);y(S,_,X,"","\\Xi",!0);y(S,_,X,"","\\Pi",!0);y(S,_,X,"","\\Sigma",!0);y(S,_,X,"","\\Upsilon",!0);y(S,_,X,"","\\Phi",!0);y(S,_,X,"","\\Psi",!0);y(S,_,X,"","\\Omega",!0);y(S,_,X,"A","");y(S,_,X,"B","");y(S,_,X,"E","");y(S,_,X,"Z","");y(S,_,X,"H","");y(S,_,X,"I","");y(S,_,X,"K","");y(S,_,X,"M","");y(S,_,X,"N","");y(S,_,X,"O","");y(S,_,X,"P","");y(S,_,X,"T","");y(S,_,X,"X","");y(S,_,X,"","\\neg",!0);y(S,_,X,"","\\lnot");y(S,_,X,"","\\top");y(S,_,X,"","\\bot");y(S,_,X,"","\\emptyset");y(S,$,X,"","\\varnothing");y(S,_,Xe,"","\\alpha",!0);y(S,_,Xe,"","\\beta",!0);y(S,_,Xe,"","\\gamma",!0);y(S,_,Xe,"","\\delta",!0);y(S,_,Xe,"","\\epsilon",!0);y(S,_,Xe,"","\\zeta",!0);y(S,_,Xe,"","\\eta",!0);y(S,_,Xe,"","\\theta",!0);y(S,_,Xe,"","\\iota",!0);y(S,_,Xe,"","\\kappa",!0);y(S,_,Xe,"","\\lambda",!0);y(S,_,Xe,"","\\mu",!0);y(S,_,Xe,"","\\nu",!0);y(S,_,Xe,"","\\xi",!0);y(S,_,Xe,"","\\omicron",!0);y(S,_,Xe,"","\\pi",!0);y(S,_,Xe,"","\\rho",!0);y(S,_,Xe,"","\\sigma",!0);y(S,_,Xe,"","\\tau",!0);y(S,_,Xe,"","\\upsilon",!0);y(S,_,Xe,"","\\phi",!0);y(S,_,Xe,"","\\chi",!0);y(S,_,Xe,"","\\psi",!0);y(S,_,Xe,"","\\omega",!0);y(S,_,Xe,"","\\varepsilon",!0);y(S,_,Xe,"","\\vartheta",!0);y(S,_,Xe,"","\\varpi",!0);y(S,_,Xe,"","\\varrho",!0);y(S,_,Xe,"","\\varsigma",!0);y(S,_,Xe,"","\\varphi",!0);y(S,_,Oe,"","*",!0);y(S,_,Oe,"+","+");y(S,_,Oe,"","-",!0);y(S,_,Oe,"","\\cdot",!0);y(S,_,Oe,"","\\circ",!0);y(S,_,Oe,"","\\div",!0);y(S,_,Oe,"","\\pm",!0);y(S,_,Oe,"","\\times",!0);y(S,_,Oe,"","\\cap",!0);y(S,_,Oe,"","\\cup",!0);y(S,_,Oe,"","\\setminus",!0);y(S,_,Oe,"","\\land");y(S,_,Oe,"","\\lor");y(S,_,Oe,"","\\wedge",!0);y(S,_,Oe,"","\\vee",!0);y(S,_,X,"","\\surd");y(S,_,xr,"","\\langle",!0);y(S,_,xr,"","\\lvert");y(S,_,xr,"","\\lVert");y(S,_,Gn,"?","?");y(S,_,Gn,"!","!");y(S,_,Gn,"","\\rangle",!0);y(S,_,Gn,"","\\rvert");y(S,_,Gn,"","\\rVert");y(S,_,U,"=","=");y(S,_,U,":",":");y(S,_,U,"","\\approx",!0);y(S,_,U,"","\\cong",!0);y(S,_,U,"","\\ge");y(S,_,U,"","\\geq",!0);y(S,_,U,"","\\gets");y(S,_,U,">","\\gt",!0);y(S,_,U,"","\\in",!0);y(S,_,U,"","\\@not");y(S,_,U,"","\\subset",!0);y(S,_,U,"","\\supset",!0);y(S,_,U,"","\\subseteq",!0);y(S,_,U,"","\\supseteq",!0);y(S,$,U,"","\\nsubseteq",!0);y(S,$,U,"","\\nsupseteq",!0);y(S,_,U,"","\\models");y(S,_,U,"","\\leftarrow",!0);y(S,_,U,"","\\le");y(S,_,U,"","\\leq",!0);y(S,_,U,"<","\\lt",!0);y(S,_,U,"","\\rightarrow",!0);y(S,_,U,"","\\to");y(S,$,U,"","\\ngeq",!0);y(S,$,U,"","\\nleq",!0);y(S,_,Mi,"","\\ ");y(S,_,Mi,"","\\space");y(S,_,Mi,"","\\nobreakspace");y(pe,_,Mi,"","\\ ");y(pe,_,Mi,""," ");y(pe,_,Mi,"","\\space");y(pe,_,Mi,"","\\nobreakspace");y(S,_,Mi,null,"\\nobreak");y(S,_,Mi,null,"\\allowbreak");y(S,_,yc,",",",");y(S,_,yc,";",";");y(S,$,Oe,"","\\barwedge",!0);y(S,$,Oe,"","\\veebar",!0);y(S,_,Oe,"","\\odot",!0);y(S,_,Oe,"","\\oplus",!0);y(S,_,Oe,"","\\otimes",!0);y(S,_,X,"","\\partial",!0);y(S,_,Oe,"","\\oslash",!0);y(S,$,Oe,"","\\circledcirc",!0);y(S,$,Oe,"","\\boxdot",!0);y(S,_,Oe,"","\\bigtriangleup");y(S,_,Oe,"","\\bigtriangledown");y(S,_,Oe,"","\\dagger");y(S,_,Oe,"","\\diamond");y(S,_,Oe,"","\\star");y(S,_,Oe,"","\\triangleleft");y(S,_,Oe,"","\\triangleright");y(S,_,xr,"{","\\{");y(pe,_,X,"{","\\{");y(pe,_,X,"{","\\textbraceleft");y(S,_,Gn,"}","\\}");y(pe,_,X,"}","\\}");y(pe,_,X,"}","\\textbraceright");y(S,_,xr,"{","\\lbrace");y(S,_,Gn,"}","\\rbrace");y(S,_,xr,"[","\\lbrack",!0);y(pe,_,X,"[","\\lbrack",!0);y(S,_,Gn,"]","\\rbrack",!0);y(pe,_,X,"]","\\rbrack",!0);y(S,_,xr,"(","\\lparen",!0);y(S,_,Gn,")","\\rparen",!0);y(pe,_,X,"<","\\textless",!0);y(pe,_,X,">","\\textgreater",!0);y(S,_,xr,"","\\lfloor",!0);y(S,_,Gn,"","\\rfloor",!0);y(S,_,xr,"","\\lceil",!0);y(S,_,Gn,"","\\rceil",!0);y(S,_,X,"\\","\\backslash");y(S,_,X,"","|");y(S,_,X,"","\\vert");y(pe,_,X,"|","\\textbar",!0);y(S,_,X,"","\\|");y(S,_,X,"","\\Vert");y(pe,_,X,"","\\textbardbl");y(pe,_,X,"~","\\textasciitilde");y(pe,_,X,"\\","\\textbackslash");y(pe,_,X,"^","\\textasciicircum");y(S,_,U,"","\\uparrow",!0);y(S,_,U,"","\\Uparrow",!0);y(S,_,U,"","\\downarrow",!0);y(S,_,U,"","\\Downarrow",!0);y(S,_,U,"","\\updownarrow",!0);y(S,_,U,"","\\Updownarrow",!0);y(S,_,pn,"","\\coprod");y(S,_,pn,"","\\bigvee");y(S,_,pn,"","\\bigwedge");y(S,_,pn,"","\\biguplus");y(S,_,pn,"","\\bigcap");y(S,_,pn,"","\\bigcup");y(S,_,pn,"","\\int");y(S,_,pn,"","\\intop");y(S,_,pn,"","\\iint");y(S,_,pn,"","\\iiint");y(S,_,pn,"","\\prod");y(S,_,pn,"","\\sum");y(S,_,pn,"","\\bigotimes");y(S,_,pn,"","\\bigoplus");y(S,_,pn,"","\\bigodot");y(S,_,pn,"","\\oint");y(S,_,pn,"","\\oiint");y(S,_,pn,"","\\oiiint");y(S,_,pn,"","\\bigsqcup");y(S,_,pn,"","\\smallint");y(pe,_,Ls,"","\\textellipsis");y(S,_,Ls,"","\\mathellipsis");y(pe,_,Ls,"","\\ldots",!0);y(S,_,Ls,"","\\ldots",!0);y(S,_,Ls,"","\\@cdots",!0);y(S,_,Ls,"","\\ddots",!0);y(S,_,X,"","\\varvdots");y(pe,_,X,"","\\varvdots");y(S,_,Bt,"","\\acute");y(S,_,Bt,"","\\grave");y(S,_,Bt,"","\\ddot");y(S,_,Bt,"~","\\tilde");y(S,_,Bt,"","\\bar");y(S,_,Bt,"","\\breve");y(S,_,Bt,"","\\check");y(S,_,Bt,"^","\\hat");y(S,_,Bt,"","\\vec");y(S,_,Bt,"","\\dot");y(S,_,Bt,"","\\mathring");y(S,_,Xe,"","\\@imath");y(S,_,Xe,"","\\@jmath");y(S,_,X,"","");y(S,_,X,"","");y(pe,_,X,"","\\i",!0);y(pe,_,X,"","\\j",!0);y(pe,_,X,"","\\ss",!0);y(pe,_,X,"","\\ae",!0);y(pe,_,X,"","\\oe",!0);y(pe,_,X,"","\\o",!0);y(pe,_,X,"","\\AE",!0);y(pe,_,X,"","\\OE",!0);y(pe,_,X,"","\\O",!0);y(pe,_,Bt,"","\\'");y(pe,_,Bt,"","\\`");y(pe,_,Bt,"","\\^");y(pe,_,Bt,"","\\~");y(pe,_,Bt,"","\\=");y(pe,_,Bt,"","\\u");y(pe,_,Bt,"","\\.");y(pe,_,Bt,"","\\c");y(pe,_,Bt,"","\\r");y(pe,_,Bt,"","\\v");y(pe,_,Bt,"",'\\"');y(pe,_,Bt,"","\\H");y(pe,_,Bt,"","\\textcircled");var xb={"--":!0,"---":!0,"``":!0,"''":!0};y(pe,_,X,"","--",!0);y(pe,_,X,"","\\textendash");y(pe,_,X,"","---",!0);y(pe,_,X,"","\\textemdash");y(pe,_,X,"","`",!0);y(pe,_,X,"","\\textquoteleft");y(pe,_,X,"","'",!0);y(pe,_,X,"","\\textquoteright");y(pe,_,X,"","``",!0);y(pe,_,X,"","\\textquotedblleft");y(pe,_,X,"","''",!0);y(pe,_,X,"","\\textquotedblright");y(S,_,X,"","\\degree",!0);y(pe,_,X,"","\\degree");y(pe,_,X,"","\\textdegree",!0);y(S,_,X,"","\\pounds");y(S,_,X,"","\\mathsterling",!0);y(pe,_,X,"","\\pounds");y(pe,_,X,"","\\textsterling",!0);y(S,$,X,"","\\maltese");y(pe,$,X,"","\\maltese");var Qg='0123456789/@."';for(var Wd=0;Wd<Qg.length;Wd++){var Jg=Qg.charAt(Wd);y(S,_,X,Jg,Jg)}var e2='0123456789!@*()-=+";:?/.,';for(var qd=0;qd<e2.length;qd++){var t2=e2.charAt(qd);y(pe,_,X,t2,t2)}var Ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Gd=0;Gd<Ku.length;Gd++){var pu=Ku.charAt(Gd);y(S,_,Xe,pu,pu),y(pe,_,X,pu,pu)}y(S,$,X,"C","");y(pe,$,X,"C","");y(S,$,X,"H","");y(pe,$,X,"H","");y(S,$,X,"N","");y(pe,$,X,"N","");y(S,$,X,"P","");y(pe,$,X,"P","");y(S,$,X,"Q","");y(pe,$,X,"Q","");y(S,$,X,"R","");y(pe,$,X,"R","");y(S,$,X,"Z","");y(pe,$,X,"Z","");y(S,_,Xe,"h","");y(pe,_,Xe,"h","");var tt="";for(var Hn=0;Hn<Ku.length;Hn++){var Qt=Ku.charAt(Hn);tt=String.fromCharCode(55349,56320+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56372+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56424+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56580+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56684+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56736+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56788+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56840+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56944+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),Hn<26&&(tt=String.fromCharCode(55349,56632+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt),tt=String.fromCharCode(55349,56476+Hn),y(S,_,Xe,Qt,tt),y(pe,_,X,Qt,tt))}tt="";y(S,_,Xe,"k",tt);y(pe,_,X,"k",tt);for(var Aa=0;Aa<10;Aa++){var Ji=Aa.toString();tt=String.fromCharCode(55349,57294+Aa),y(S,_,Xe,Ji,tt),y(pe,_,X,Ji,tt),tt=String.fromCharCode(55349,57314+Aa),y(S,_,Xe,Ji,tt),y(pe,_,X,Ji,tt),tt=String.fromCharCode(55349,57324+Aa),y(S,_,Xe,Ji,tt),y(pe,_,X,Ji,tt),tt=String.fromCharCode(55349,57334+Aa),y(S,_,Xe,Ji,tt),y(pe,_,X,Ji,tt)}var Bm="";for(var Vd=0;Vd<Bm.length;Vd++){var gu=Bm.charAt(Vd);y(S,_,Xe,gu,gu),y(pe,_,X,gu,gu)}var xu=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],n2=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],YN=function(t,n){var r=t.charCodeAt(0),a=t.charCodeAt(1),s=(r-55296)*1024+(a-56320)+65536,l=n==="math"?0:1;if(119808<=s&&s<120484){var c=Math.floor((s-119808)/26);return[xu[c][2],xu[c][l]]}else if(120782<=s&&s<=120831){var d=Math.floor((s-120782)/10);return[n2[d][2],n2[d][l]]}else{if(s===120485||s===120486)return[xu[0][2],xu[0][l]];if(120486<s&&s<120782)return["",""];throw new we("Unsupported character: "+t)}},kc=function(t,n,r){return It[r][t]&&It[r][t].replace&&(t=It[r][t].replace),{value:t,metrics:If(t,n,r)}},$r=function(t,n,r,a,s){var l=kc(t,n,r),c=l.metrics;t=l.value;var d;if(c){var f=c.italic;(r==="text"||a&&a.font==="mathit")&&(f=0),d=new Ar(t,c.height,c.depth,f,c.skew,c.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),d=new Ar(t,0,0,0,0,0,s);if(a){d.maxFontSize=a.sizeMultiplier,a.style.isTight()&&d.classes.push("mtight");var h=a.getColor();h&&(d.style.color=h)}return d},XN=function(t,n,r,a){return a===void 0&&(a=[]),r.font==="boldsymbol"&&kc(t,"Main-Bold",n).metrics?$r(t,"Main-Bold",n,r,a.concat(["mathbf"])):t==="\\"||It[n][t].font==="main"?$r(t,"Main-Regular",n,r,a):$r(t,"AMS-Regular",n,r,a.concat(["amsrm"]))},ZN=function(t,n,r,a,s){return s!=="textord"&&kc(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},QN=function(t,n,r){var a=t.mode,s=t.text,l=["mord"],c=a==="math"||a==="text"&&n.font,d=c?n.font:n.fontFamily,f="",h="";if(s.charCodeAt(0)===55349&&([f,h]=YN(s,a)),f.length>0)return $r(s,f,a,n,l.concat(h));if(d){var g,v;if(d==="boldsymbol"){var x=ZN(s,a,n,l,r);g=x.fontName,v=[x.fontClass]}else c?(g=yb[d].fontName,v=[d]):(g=bu(d,n.fontWeight,n.fontShape),v=[d,n.fontWeight,n.fontShape]);if(kc(s,g,a).metrics)return $r(s,g,a,n,l.concat(v));if(xb.hasOwnProperty(s)&&g.slice(0,10)==="Typewriter"){for(var w=[],E=0;E<s.length;E++)w.push($r(s[E],g,a,n,l.concat(v)));return vb(w)}}if(r==="mathord")return $r(s,"Math-Italic",a,n,l.concat(["mathnormal"]));if(r==="textord"){var N=It[a][s]&&It[a][s].font;if(N==="ams"){var T=bu("amsrm",n.fontWeight,n.fontShape);return $r(s,T,a,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(N==="main"||!N){var I=bu("textrm",n.fontWeight,n.fontShape);return $r(s,I,a,n,l.concat(n.fontWeight,n.fontShape))}else{var L=bu(N,n.fontWeight,n.fontShape);return $r(s,L,a,n,l.concat(L,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},JN=(e,t)=>{if(ia(e.classes)!==ia(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},eT=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Ar&&r instanceof Ar&&JN(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},Rf=function(t){for(var n=0,r=0,a=0,s=0;s<t.children.length;s++){var l=t.children[s];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>a&&(a=l.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=a},tr=function(t,n,r,a){var s=new qo(t,n,r,a);return Rf(s),s},bb=(e,t,n,r)=>new qo(e,t,n,r),tT=function(t,n,r){var a=tr([t],[],n);return a.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),a.style.borderBottomWidth=Te(a.height),a.maxFontSize=1,a},nT=function(t,n,r,a){var s=new jf(t,n,r,a);return Rf(s),s},vb=function(t){var n=new Wo(t);return Rf(n),n},rT=function(t,n){return t instanceof Wo?tr([],[t],n):t},iT=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],a=-n[0].shift-n[0].elem.depth,s=a,l=1;l<n.length;l++){var c=-n[l].shift-s-n[l].elem.depth,d=c-(n[l-1].elem.height+n[l-1].elem.depth);s=s+c,r.push({type:"kern",size:d}),r.push(n[l])}return{children:r,depth:a}}var f;if(t.positionType==="top"){for(var h=t.positionData,g=0;g<t.children.length;g++){var v=t.children[g];h-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}f=h}else if(t.positionType==="bottom")f=-t.positionData;else{var x=t.children[0];if(x.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")f=-x.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")f=-x.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:f}},aT=function(t,n){for(var{children:r,depth:a}=iT(t),s=0,l=0;l<r.length;l++){var c=r[l];if(c.type==="elem"){var d=c.elem;s=Math.max(s,d.maxFontSize,d.height)}}s+=2;var f=tr(["pstrut"],[]);f.style.height=Te(s);for(var h=[],g=a,v=a,x=a,w=0;w<r.length;w++){var E=r[w];if(E.type==="kern")x+=E.size;else{var N=E.elem,T=E.wrapperClasses||[],I=E.wrapperStyle||{},L=tr(T,[f,N],void 0,I);L.style.top=Te(-s-x-N.depth),E.marginLeft&&(L.style.marginLeft=E.marginLeft),E.marginRight&&(L.style.marginRight=E.marginRight),h.push(L),x+=N.height+N.depth}g=Math.min(g,x),v=Math.max(v,x)}var B=tr(["vlist"],h);B.style.height=Te(v);var D;if(g<0){var O=tr([],[]),te=tr(["vlist"],[O]);te.style.height=Te(-g);var G=tr(["vlist-s"],[new Ar("")]);D=[tr(["vlist-r"],[B,G]),tr(["vlist-r"],[te])]}else D=[tr(["vlist-r"],[B])];var J=tr(["vlist-t"],D);return D.length===2&&J.classes.push("vlist-t2"),J.height=v,J.depth=-g,J},sT=(e,t)=>{var n=tr(["mspace"],[],t),r=Vt(e,t);return n.style.marginRight=Te(r),n},bu=function(t,n,r){var a="";switch(t){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=t}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",a+"-"+s},yb={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},kb={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},oT=function(t,n){var[r,a,s]=kb[t],l=new aa(r),c=new Ei([l],{width:Te(a),height:Te(s),style:"width:"+Te(a),viewBox:"0 0 "+1e3*a+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),d=bb(["overlay"],[c],n);return d.height=s,d.style.height=Te(s),d.style.width=Te(a),d},ae={fontMap:yb,makeSymbol:$r,mathsym:XN,makeSpan:tr,makeSvgSpan:bb,makeLineSpan:tT,makeAnchor:nT,makeFragment:vb,wrapFragment:rT,makeVList:aT,makeOrd:QN,makeGlue:sT,staticSvg:oT,svgData:kb,tryCombineChars:eT},Gt={number:3,unit:"mu"},Ia={number:4,unit:"mu"},vi={number:5,unit:"mu"},lT={mord:{mop:Gt,mbin:Ia,mrel:vi,minner:Gt},mop:{mord:Gt,mop:Gt,mrel:vi,minner:Gt},mbin:{mord:Ia,mop:Ia,mopen:Ia,minner:Ia},mrel:{mord:vi,mop:vi,mopen:vi,minner:vi},mopen:{},mclose:{mop:Gt,mbin:Ia,mrel:vi,minner:Gt},mpunct:{mord:Gt,mop:Gt,mrel:vi,mopen:Gt,mclose:Gt,mpunct:Gt,minner:Gt},minner:{mord:Gt,mop:Gt,mbin:Ia,mrel:vi,mopen:Gt,mpunct:Gt,minner:Gt}},uT={mord:{mop:Gt},mop:{mord:Gt,mop:Gt},mbin:{},mrel:{},mopen:{},mclose:{mop:Gt},mpunct:{},minner:{mop:Gt}},wb={},Yu={},Xu={};function Ie(e){for(var{type:t,names:n,props:r,handler:a,htmlBuilder:s,mathmlBuilder:l}=e,c={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:a},d=0;d<n.length;++d)wb[n[d]]=c;t&&(s&&(Yu[t]=s),l&&(Xu[t]=l))}function Fa(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;Ie({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Zu=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},un=function(t){return t.type==="ordgroup"?t.body:[t]},Ni=ae.makeSpan,cT=["leftmost","mbin","mopen","mrel","mop","mpunct"],dT=["rightmost","mrel","mclose","mpunct"],mT={display:Ze.DISPLAY,text:Ze.TEXT,script:Ze.SCRIPT,scriptscript:Ze.SCRIPTSCRIPT},fT={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},kn=function(t,n,r,a){a===void 0&&(a=[null,null]);for(var s=[],l=0;l<t.length;l++){var c=bt(t[l],n);if(c instanceof Wo){var d=c.children;s.push(...d)}else s.push(c)}if(ae.tryCombineChars(s),!r)return s;var f=n;if(t.length===1){var h=t[0];h.type==="sizing"?f=n.havingSize(h.size):h.type==="styling"&&(f=n.havingStyle(mT[h.style]))}var g=Ni([a[0]||"leftmost"],[],n),v=Ni([a[1]||"rightmost"],[],n),x=r==="root";return r2(s,(w,E)=>{var N=E.classes[0],T=w.classes[0];N==="mbin"&&dT.includes(T)?E.classes[0]="mord":T==="mbin"&&cT.includes(N)&&(w.classes[0]="mord")},{node:g},v,x),r2(s,(w,E)=>{var N=Fm(E),T=Fm(w),I=N&&T?w.hasClass("mtight")?uT[N][T]:lT[N][T]:null;if(I)return ae.makeGlue(I,f)},{node:g},v,x),s},r2=function e(t,n,r,a,s){a&&t.push(a);for(var l=0;l<t.length;l++){var c=t[l],d=Sb(c);if(d){e(d.children,n,r,null,s);continue}var f=!c.hasClass("mspace");if(f){var h=n(c,r.node);h&&(r.insertAfter?r.insertAfter(h):(t.unshift(h),l++))}f?r.node=c:s&&c.hasClass("newline")&&(r.node=Ni(["leftmost"])),r.insertAfter=(g=>v=>{t.splice(g+1,0,v),l++})(l)}a&&t.pop()},Sb=function(t){return t instanceof Wo||t instanceof jf||t instanceof qo&&t.hasClass("enclosing")?t:null},hT=function e(t,n){var r=Sb(t);if(r){var a=r.children;if(a.length){if(n==="right")return e(a[a.length-1],"right");if(n==="left")return e(a[0],"left")}}return t},Fm=function(t,n){return t?(n&&(t=hT(t,n)),fT[t.classes[0]]||null):null},Po=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return Ni(n.concat(r))},bt=function(t,n,r){if(!t)return Ni();if(Yu[t.type]){var a=Yu[t.type](t,n);if(r&&n.size!==r.size){a=Ni(n.sizingClasses(r),[a],n);var s=n.sizeMultiplier/r.sizeMultiplier;a.height*=s,a.depth*=s}return a}else throw new we("Got group of unknown type: '"+t.type+"'")};function vu(e,t){var n=Ni(["base"],e,t),r=Ni(["strut"]);return r.style.height=Te(n.height+n.depth),n.depth&&(r.style.verticalAlign=Te(-n.depth)),n.children.unshift(r),n}function $m(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=kn(e,t,"root"),a;r.length===2&&r[1].hasClass("tag")&&(a=r.pop());for(var s=[],l=[],c=0;c<r.length;c++)if(l.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var d=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,l.push(r[c]),r[c].hasClass("nobreak")&&(d=!0);d||(s.push(vu(l,t)),l=[])}else r[c].hasClass("newline")&&(l.pop(),l.length>0&&(s.push(vu(l,t)),l=[]),s.push(r[c]));l.length>0&&s.push(vu(l,t));var f;n?(f=vu(kn(n,t,!0)),f.classes=["tag"],s.push(f)):a&&s.push(a);var h=Ni(["katex-html"],s);if(h.setAttribute("aria-hidden","true"),f){var g=f.children[0];g.style.height=Te(h.height+h.depth),h.depth&&(g.style.verticalAlign=Te(-h.depth))}return h}function Eb(e){return new Wo(e)}class fr{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=ia(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof ni&&this.children[r+1]instanceof ni){for(var a=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof ni;)a+=this.children[++r].toText();t.appendChild(new ni(a).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=yt.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+yt.escape(ia(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class ni{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return yt.escape(this.toText())}toText(){return this.text}}class pT{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Te(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Te(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ye={MathNode:fr,TextNode:ni,SpaceNode:pT,newDocumentFragment:Eb},Ir=function(t,n,r){return It[n][t]&&It[n][t].replace&&t.charCodeAt(0)!==55349&&!(xb.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=It[n][t].replace),new ye.TextNode(t)},Lf=function(t){return t.length===1?t[0]:new ye.MathNode("mrow",t)},Of=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var a=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=t.text;if(["\\imath","\\jmath"].includes(s))return null;It[a][s]&&It[a][s].replace&&(s=It[a][s].replace);var l=ae.fontMap[r].fontName;return If(s,l,a)?ae.fontMap[r].variant:null};function Kd(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof ni&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof ni&&n.text===","}else return!1}var sr=function(t,n,r){if(t.length===1){var a=Tt(t[0],n);return r&&a instanceof fr&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var s=[],l,c=0;c<t.length;c++){var d=Tt(t[c],n);if(d instanceof fr&&l instanceof fr){if(d.type==="mtext"&&l.type==="mtext"&&d.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...d.children);continue}else if(d.type==="mn"&&l.type==="mn"){l.children.push(...d.children);continue}else if(Kd(d)&&l.type==="mn"){l.children.push(...d.children);continue}else if(d.type==="mn"&&Kd(l))d.children=[...l.children,...d.children],s.pop();else if((d.type==="msup"||d.type==="msub")&&d.children.length>=1&&(l.type==="mn"||Kd(l))){var f=d.children[0];f instanceof fr&&f.type==="mn"&&(f.children=[...l.children,...f.children],s.pop())}else if(l.type==="mi"&&l.children.length===1){var h=l.children[0];if(h instanceof ni&&h.text===""&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var g=d.children[0];g instanceof ni&&g.text.length>0&&(g.text=g.text.slice(0,1)+""+g.text.slice(1),s.pop())}}}s.push(d),l=d}return s},sa=function(t,n,r){return Lf(sr(t,n,r))},Tt=function(t,n){if(!t)return new ye.MathNode("mrow");if(Xu[t.type]){var r=Xu[t.type](t,n);return r}else throw new we("Got group of unknown type: '"+t.type+"'")};function i2(e,t,n,r,a){var s=sr(e,n),l;s.length===1&&s[0]instanceof fr&&["mrow","mtable"].includes(s[0].type)?l=s[0]:l=new ye.MathNode("mrow",s);var c=new ye.MathNode("annotation",[new ye.TextNode(t)]);c.setAttribute("encoding","application/x-tex");var d=new ye.MathNode("semantics",[l,c]),f=new ye.MathNode("math",[d]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var h=a?"katex":"katex-mathml";return ae.makeSpan([h],[f])}var Nb=function(t){return new ki({style:t.displayMode?Ze.DISPLAY:Ze.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},Tb=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=ae.makeSpan(r,[t])}return t},gT=function(t,n,r){var a=Nb(r),s;if(r.output==="mathml")return i2(t,n,a,r.displayMode,!0);if(r.output==="html"){var l=$m(t,a);s=ae.makeSpan(["katex"],[l])}else{var c=i2(t,n,a,r.displayMode,!1),d=$m(t,a);s=ae.makeSpan(["katex"],[c,d])}return Tb(s,r)},xT=function(t,n,r){var a=Nb(r),s=$m(t,a),l=ae.makeSpan(["katex"],[s]);return Tb(l,r)},bT={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},vT=function(t){var n=new ye.MathNode("mo",[new ye.TextNode(bT[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},yT={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},kT=function(t){return t.type==="ordgroup"?t.body.length:1},wT=function(t,n){function r(){var c=4e5,d=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(d)){var f=t,h=kT(f.base),g,v,x;if(h>5)d==="widehat"||d==="widecheck"?(g=420,c=2364,x=.42,v=d+"4"):(g=312,c=2340,x=.34,v="tilde4");else{var w=[1,1,2,2,3,3][h];d==="widehat"||d==="widecheck"?(c=[0,1062,2364,2364,2364][w],g=[0,239,300,360,420][w],x=[0,.24,.3,.3,.36,.42][w],v=d+w):(c=[0,600,1033,2339,2340][w],g=[0,260,286,306,312][w],x=[0,.26,.286,.3,.306,.34][w],v="tilde"+w)}var E=new aa(v),N=new Ei([E],{width:"100%",height:Te(x),viewBox:"0 0 "+c+" "+g,preserveAspectRatio:"none"});return{span:ae.makeSvgSpan([],[N],n),minWidth:0,height:x}}else{var T=[],I=yT[d],[L,B,D]=I,O=D/1e3,te=L.length,G,J;if(te===1){var z=I[3];G=["hide-tail"],J=[z]}else if(te===2)G=["halfarrow-left","halfarrow-right"],J=["xMinYMin","xMaxYMin"];else if(te===3)G=["brace-left","brace-center","brace-right"],J=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+te+" children.");for(var ie=0;ie<te;ie++){var se=new aa(L[ie]),de=new Ei([se],{width:"400em",height:Te(O),viewBox:"0 0 "+c+" "+D,preserveAspectRatio:J[ie]+" slice"}),K=ae.makeSvgSpan([G[ie]],[de],n);if(te===1)return{span:K,minWidth:B,height:O};K.style.height=Te(O),T.push(K)}return{span:ae.makeSpan(["stretchy"],T,n),minWidth:B,height:O}}}var{span:a,minWidth:s,height:l}=r();return a.height=l,a.style.height=Te(l),s>0&&(a.style.minWidth=Te(s)),a},ST=function(t,n,r,a,s){var l,c=t.height+t.depth+r+a;if(/fbox|color|angl/.test(n)){if(l=ae.makeSpan(["stretchy",n],[],s),n==="fbox"){var d=s.color&&s.getColor();d&&(l.style.borderColor=d)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new Pm({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new Pm({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new Ei(f,{width:"100%",height:Te(c)});l=ae.makeSvgSpan([],[h],s)}return l.height=c,l.style.height=Te(c),l},Ti={encloseSpan:ST,mathMLnode:vT,svgSpan:wT};function lt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Df(e){var t=wc(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function wc(e){return e&&(e.type==="atom"||KN.hasOwnProperty(e.type))?e:null}var zf=(e,t)=>{var n,r,a;e&&e.type==="supsub"?(r=lt(e.base,"accent"),n=r.base,e.base=n,a=GN(bt(e,t)),e.base=r):(r=lt(e,"accent"),n=r.base);var s=bt(n,t.havingCrampedStyle()),l=r.isShifty&&yt.isCharacterBox(n),c=0;if(l){var d=yt.getBaseElem(n),f=bt(d,t.havingCrampedStyle());c=Zg(f).skew}var h=r.label==="\\c",g=h?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight),v;if(r.isStretchy)v=Ti.svgSpan(r,t),v=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+Te(2*c)+")",marginLeft:Te(2*c)}:void 0}]},t);else{var x,w;r.label==="\\vec"?(x=ae.staticSvg("vec",t),w=ae.svgData.vec[1]):(x=ae.makeOrd({mode:r.mode,text:r.label},t,"textord"),x=Zg(x),x.italic=0,w=x.width,h&&(g+=x.depth)),v=ae.makeSpan(["accent-body"],[x]);var E=r.label==="\\textcircled";E&&(v.classes.push("accent-full"),g=s.height);var N=c;E||(N-=w/2),v.style.left=Te(N),r.label==="\\textcircled"&&(v.style.top=".2em"),v=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-g},{type:"elem",elem:v}]},t)}var T=ae.makeSpan(["mord","accent"],[v],t);return a?(a.children[0]=T,a.height=Math.max(T.height,a.height),a.classes[0]="mord",a):T},Cb=(e,t)=>{var n=e.isStretchy?Ti.mathMLnode(e.label):new ye.MathNode("mo",[Ir(e.label,e.mode)]),r=new ye.MathNode("mover",[Tt(e.base,t),n]);return r.setAttribute("accent","true"),r},ET=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ie({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Zu(t[0]),r=!ET.test(e.funcName),a=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:a,base:n}},htmlBuilder:zf,mathmlBuilder:Cb});Ie({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:zf,mathmlBuilder:Cb});Ie({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:a}},htmlBuilder:(e,t)=>{var n=bt(e.base,t),r=Ti.svgSpan(e,t),a=e.label==="\\utilde"?.12:0,s=ae.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:n}]},t);return ae.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:(e,t)=>{var n=Ti.mathMLnode(e.label),r=new ye.MathNode("munder",[Tt(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var yu=e=>{var t=new ye.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ie({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:a}=e;return{type:"xArrow",mode:r.mode,label:a,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),a=ae.wrapFragment(bt(e.body,r,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(s+"-arrow-pad");var l;e.below&&(r=t.havingStyle(n.sub()),l=ae.wrapFragment(bt(e.below,r,t),t),l.classes.push(s+"-arrow-pad"));var c=Ti.svgSpan(e,t),d=-t.fontMetrics().axisHeight+.5*c.height,f=-t.fontMetrics().axisHeight-.5*c.height-.111;(a.depth>.25||e.label==="\\xleftequilibrium")&&(f-=a.depth);var h;if(l){var g=-t.fontMetrics().axisHeight+l.height+.5*c.height+.111;h=ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:f},{type:"elem",elem:c,shift:d},{type:"elem",elem:l,shift:g}]},t)}else h=ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:f},{type:"elem",elem:c,shift:d}]},t);return h.children[0].children[0].children[1].classes.push("svg-align"),ae.makeSpan(["mrel","x-arrow"],[h],t)},mathmlBuilder(e,t){var n=Ti.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var a=yu(Tt(e.body,t));if(e.below){var s=yu(Tt(e.below,t));r=new ye.MathNode("munderover",[n,s,a])}else r=new ye.MathNode("mover",[n,a])}else if(e.below){var l=yu(Tt(e.below,t));r=new ye.MathNode("munder",[n,l])}else r=yu(),r=new ye.MathNode("mover",[n,r]);return r}});var NT=ae.makeSpan;function _b(e,t){var n=kn(e.body,t,!0);return NT([e.mclass],n,t)}function Mb(e,t){var n,r=sr(e.body,t);return e.mclass==="minner"?n=new ye.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new ye.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new ye.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Ie({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:un(a),isCharacterBox:yt.isCharacterBox(a)}},htmlBuilder:_b,mathmlBuilder:Mb});var Sc=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ie({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Sc(t[0]),body:un(t[1]),isCharacterBox:yt.isCharacterBox(t[1])}}});Ie({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,a=t[1],s=t[0],l;r!=="\\stackrel"?l=Sc(a):l="mrel";var c={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:un(a)},d={type:"supsub",mode:s.mode,base:c,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:l,body:[d],isCharacterBox:yt.isCharacterBox(d)}},htmlBuilder:_b,mathmlBuilder:Mb});Ie({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Sc(t[0]),body:un(t[0])}},htmlBuilder(e,t){var n=kn(e.body,t,!0),r=ae.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=sr(e.body,t),r=new ye.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var TT={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},a2=()=>({type:"styling",body:[],mode:"math",style:"display"}),s2=e=>e.type==="textord"&&e.text==="@",CT=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function _T(e,t,n){var r=TT[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var a=n.callFunction("\\\\cdleft",[t[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[s],[]),c=n.callFunction("\\\\cdright",[t[1]],[]),d={type:"ordgroup",mode:"math",body:[a,l,c]};return n.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function MT(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new we("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],a=[r],s=0;s<t.length;s++){for(var l=t[s],c=a2(),d=0;d<l.length;d++)if(!s2(l[d]))c.body.push(l[d]);else{r.push(c),d+=1;var f=Df(l[d]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var g=0;g<2;g++){for(var v=!0,x=d+1;x<l.length;x++){if(CT(l[x],f)){v=!1,d=x;break}if(s2(l[x]))throw new we("Missing a "+f+" character to complete a CD arrow.",l[x]);h[g].body.push(l[x])}if(v)throw new we("Missing a "+f+" character to complete a CD arrow.",l[d])}else throw new we('Expected one of "<>AV=|." after @',l[d]);var w=_T(f,h,e),E={type:"styling",body:[w],mode:"math",style:"display"};r.push(E),c=a2()}s%2===0?r.push(c):r.shift(),r=[],a.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var N=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:N,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}Ie({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=ae.wrapFragment(bt(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Te(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new ye.MathNode("mrow",[Tt(e.label,t)]);return n=new ye.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ye.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Ie({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=ae.wrapFragment(bt(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new ye.MathNode("mrow",[Tt(e.fragment,t)])}});Ie({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=lt(t[0],"ordgroup"),a=r.body,s="",l=0;l<a.length;l++){var c=lt(a[l],"textord");s+=c.text}var d=parseInt(s),f;if(isNaN(d))throw new we("\\@char has non-numeric argument "+s);if(d<0||d>=1114111)throw new we("\\@char with invalid code point "+s);return d<=65535?f=String.fromCharCode(d):(d-=65536,f=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var Ab=(e,t)=>{var n=kn(e.body,t.withColor(e.color),!1);return ae.makeFragment(n)},Ib=(e,t)=>{var n=sr(e.body,t.withColor(e.color)),r=new ye.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};Ie({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=lt(t[0],"color-token").color,a=t[1];return{type:"color",mode:n.mode,color:r,body:un(a)}},htmlBuilder:Ab,mathmlBuilder:Ib});Ie({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,a=lt(t[0],"color-token").color;n.gullet.macros.set("\\current@color",a);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:a,body:s}},htmlBuilder:Ab,mathmlBuilder:Ib});Ie({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,a=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:a&&lt(a,"size").value}},htmlBuilder(e,t){var n=ae.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Te(Vt(e.size,t)))),n},mathmlBuilder(e,t){var n=new ye.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Te(Vt(e.size,t)))),n}});var Hm={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},jb=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new we("Expected a control sequence",e);return t},AT=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},Rb=(e,t,n,r)=>{var a=e.gullet.macros.get(n.text);a==null&&(n.noexpand=!0,a={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,a,r)};Ie({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(Hm[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Hm[r.text]),lt(t.parseFunction(),"internal");throw new we("Invalid token after macro prefix",r)}});Ie({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),a=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new we("Expected a control sequence",r);for(var s=0,l,c=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){l=t.gullet.future(),c[s].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new we('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new we('Argument number "'+r.text+'" out of order');s++,c.push([])}else{if(r.text==="EOF")throw new we("Expected a macro definition");c[s].push(r.text)}var{tokens:d}=t.gullet.consumeArg();return l&&d.unshift(l),(n==="\\edef"||n==="\\xdef")&&(d=t.gullet.expandTokens(d),d.reverse()),t.gullet.macros.set(a,{tokens:d,numArgs:s,delimiters:c},n===Hm[n]),{type:"internal",mode:t.mode}}});Ie({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=jb(t.gullet.popToken());t.gullet.consumeSpaces();var a=AT(t);return Rb(t,r,a,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ie({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=jb(t.gullet.popToken()),a=t.gullet.popToken(),s=t.gullet.popToken();return Rb(t,r,s,n==="\\\\globalfuture"),t.gullet.pushToken(s),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});var To=function(t,n,r){var a=It.math[t]&&It.math[t].replace,s=If(a||t,n,r);if(!s)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return s},Pf=function(t,n,r,a){var s=r.havingBaseStyle(n),l=ae.makeSpan(a.concat(s.sizingClasses(r)),[t],r),c=s.sizeMultiplier/r.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=s.sizeMultiplier,l},Lb=function(t,n,r){var a=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/a.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Te(s),t.height-=s,t.depth+=s},IT=function(t,n,r,a,s,l){var c=ae.makeSymbol(t,"Main-Regular",s,a),d=Pf(c,n,a,l);return r&&Lb(d,a,n),d},jT=function(t,n,r,a){return ae.makeSymbol(t,"Size"+n+"-Regular",r,a)},Ob=function(t,n,r,a,s,l){var c=jT(t,n,s,a),d=Pf(ae.makeSpan(["delimsizing","size"+n],[c],a),Ze.TEXT,a,l);return r&&Lb(d,a,Ze.TEXT),d},Yd=function(t,n,r){var a;n==="Size1-Regular"?a="delim-size1":a="delim-size4";var s=ae.makeSpan(["delimsizinginner",a],[ae.makeSpan([],[ae.makeSymbol(t,n,r)])]);return{type:"elem",elem:s}},Xd=function(t,n,r){var a=ti["Size4-Regular"][t.charCodeAt(0)]?ti["Size4-Regular"][t.charCodeAt(0)][4]:ti["Size1-Regular"][t.charCodeAt(0)][4],s=new aa("inner",zN(t,Math.round(1e3*n))),l=new Ei([s],{width:Te(a),height:Te(n),style:"width:"+Te(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=ae.makeSvgSpan([],[l],r);return c.height=n,c.style.height=Te(n),c.style.width=Te(a),{type:"elem",elem:c}},Um=.008,ku={type:"kern",size:-1*Um},RT=["|","\\lvert","\\rvert","\\vert"],LT=["\\|","\\lVert","\\rVert","\\Vert"],Db=function(t,n,r,a,s,l){var c,d,f,h,g="",v=0;c=f=h=t,d=null;var x="Size1-Regular";t==="\\uparrow"?f=h="":t==="\\Uparrow"?f=h="":t==="\\downarrow"?c=f="":t==="\\Downarrow"?c=f="":t==="\\updownarrow"?(c="\\uparrow",f="",h="\\downarrow"):t==="\\Updownarrow"?(c="\\Uparrow",f="",h="\\Downarrow"):RT.includes(t)?(f="",g="vert",v=333):LT.includes(t)?(f="",g="doublevert",v=556):t==="["||t==="\\lbrack"?(c="",f="",h="",x="Size4-Regular",g="lbrack",v=667):t==="]"||t==="\\rbrack"?(c="",f="",h="",x="Size4-Regular",g="rbrack",v=667):t==="\\lfloor"||t===""?(f=c="",h="",x="Size4-Regular",g="lfloor",v=667):t==="\\lceil"||t===""?(c="",f=h="",x="Size4-Regular",g="lceil",v=667):t==="\\rfloor"||t===""?(f=c="",h="",x="Size4-Regular",g="rfloor",v=667):t==="\\rceil"||t===""?(c="",f=h="",x="Size4-Regular",g="rceil",v=667):t==="("||t==="\\lparen"?(c="",f="",h="",x="Size4-Regular",g="lparen",v=875):t===")"||t==="\\rparen"?(c="",f="",h="",x="Size4-Regular",g="rparen",v=875):t==="\\{"||t==="\\lbrace"?(c="",d="",h="",f="",x="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(c="",d="",h="",f="",x="Size4-Regular"):t==="\\lgroup"||t===""?(c="",h="",f="",x="Size4-Regular"):t==="\\rgroup"||t===""?(c="",h="",f="",x="Size4-Regular"):t==="\\lmoustache"||t===""?(c="",h="",f="",x="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(c="",h="",f="",x="Size4-Regular");var w=To(c,x,s),E=w.height+w.depth,N=To(f,x,s),T=N.height+N.depth,I=To(h,x,s),L=I.height+I.depth,B=0,D=1;if(d!==null){var O=To(d,x,s);B=O.height+O.depth,D=2}var te=E+L+B,G=Math.max(0,Math.ceil((n-te)/(D*T))),J=te+G*D*T,z=a.fontMetrics().axisHeight;r&&(z*=a.sizeMultiplier);var ie=J/2-z,se=[];if(g.length>0){var de=J-E-L,K=Math.round(J*1e3),P=PN(g,Math.round(de*1e3)),Y=new aa(g,P),ee=(v/1e3).toFixed(3)+"em",W=(K/1e3).toFixed(3)+"em",Q=new Ei([Y],{width:ee,height:W,viewBox:"0 0 "+v+" "+K}),A=ae.makeSvgSpan([],[Q],a);A.height=K/1e3,A.style.width=ee,A.style.height=W,se.push({type:"elem",elem:A})}else{if(se.push(Yd(h,x,s)),se.push(ku),d===null){var H=J-E-L+2*Um;se.push(Xd(f,H,a))}else{var ne=(J-E-L-B)/2+2*Um;se.push(Xd(f,ne,a)),se.push(ku),se.push(Yd(d,x,s)),se.push(ku),se.push(Xd(f,ne,a))}se.push(ku),se.push(Yd(c,x,s))}var R=a.havingBaseStyle(Ze.TEXT),xe=ae.makeVList({positionType:"bottom",positionData:ie,children:se},R);return Pf(ae.makeSpan(["delimsizing","mult"],[xe],R),Ze.TEXT,a,l)},Zd=80,Qd=.08,Jd=function(t,n,r,a,s){var l=DN(t,a,r),c=new aa(t,l),d=new Ei([c],{width:"400em",height:Te(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ae.makeSvgSpan(["hide-tail"],[d],s)},OT=function(t,n){var r=n.havingBaseSizing(),a=Fb("\\surd",t*r.sizeMultiplier,Bb,r),s=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,d=0,f=0,h=0,g;return a.type==="small"?(h=1e3+1e3*l+Zd,t<1?s=1:t<1.4&&(s=.7),d=(1+l+Qd)/s,f=(1+l)/s,c=Jd("sqrtMain",d,h,l,n),c.style.minWidth="0.853em",g=.833/s):a.type==="large"?(h=(1e3+Zd)*jo[a.size],f=(jo[a.size]+l)/s,d=(jo[a.size]+l+Qd)/s,c=Jd("sqrtSize"+a.size,d,h,l,n),c.style.minWidth="1.02em",g=1/s):(d=t+l+Qd,f=t+l,h=Math.floor(1e3*t+l)+Zd,c=Jd("sqrtTall",d,h,l,n),c.style.minWidth="0.742em",g=1.056),c.height=f,c.style.height=Te(d),{span:c,advanceWidth:g,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*s}},zb=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],DT=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Pb=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],jo=[0,1.2,1.8,2.4,3],zT=function(t,n,r,a,s){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),zb.includes(t)||Pb.includes(t))return Ob(t,n,!1,r,a,s);if(DT.includes(t))return Db(t,jo[n],!1,r,a,s);throw new we("Illegal delimiter: '"+t+"'")},PT=[{type:"small",style:Ze.SCRIPTSCRIPT},{type:"small",style:Ze.SCRIPT},{type:"small",style:Ze.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],BT=[{type:"small",style:Ze.SCRIPTSCRIPT},{type:"small",style:Ze.SCRIPT},{type:"small",style:Ze.TEXT},{type:"stack"}],Bb=[{type:"small",style:Ze.SCRIPTSCRIPT},{type:"small",style:Ze.SCRIPT},{type:"small",style:Ze.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],FT=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},Fb=function(t,n,r,a){for(var s=Math.min(2,3-a.style.size),l=s;l<r.length&&r[l].type!=="stack";l++){var c=To(t,FT(r[l]),"math"),d=c.height+c.depth;if(r[l].type==="small"){var f=a.havingBaseStyle(r[l].style);d*=f.sizeMultiplier}if(d>n)return r[l]}return r[r.length-1]},$b=function(t,n,r,a,s,l){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var c;Pb.includes(t)?c=PT:zb.includes(t)?c=Bb:c=BT;var d=Fb(t,n,c,a);return d.type==="small"?IT(t,d.style,r,a,s,l):d.type==="large"?Ob(t,d.size,r,a,s,l):Db(t,n,r,a,s,l)},$T=function(t,n,r,a,s,l){var c=a.fontMetrics().axisHeight*a.sizeMultiplier,d=901,f=5/a.fontMetrics().ptPerEm,h=Math.max(n-c,r+c),g=Math.max(h/500*d,2*h-f);return $b(t,g,!0,a,s,l)},Si={sqrtImage:OT,sizedDelim:zT,sizeToMaxHeight:jo,customSizedDelim:$b,leftRightDelim:$T},o2={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},HT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ec(e,t){var n=wc(e);if(n&&HT.includes(n.text))return n;throw n?new we("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new we("Invalid delimiter type '"+e.type+"'",e)}Ie({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Ec(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:o2[e.funcName].size,mclass:o2[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?ae.makeSpan([e.mclass]):Si.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Ir(e.delim,e.mode));var n=new ye.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Te(Si.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function l2(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ie({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new we("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Ec(t[0],e).text,color:n}}});Ie({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Ec(t[0],e),r=e.parser;++r.leftrightDepth;var a=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=lt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:a,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(e,t)=>{l2(e);for(var n=kn(e.body,t,!0,["mopen","mclose"]),r=0,a=0,s=!1,l=0;l<n.length;l++)n[l].isMiddle?s=!0:(r=Math.max(n[l].height,r),a=Math.max(n[l].depth,a));r*=t.sizeMultiplier,a*=t.sizeMultiplier;var c;if(e.left==="."?c=Po(t,["mopen"]):c=Si.leftRightDelim(e.left,r,a,t,e.mode,["mopen"]),n.unshift(c),s)for(var d=1;d<n.length;d++){var f=n[d],h=f.isMiddle;h&&(n[d]=Si.leftRightDelim(h.delim,r,a,h.options,e.mode,[]))}var g;if(e.right===".")g=Po(t,["mclose"]);else{var v=e.rightColor?t.withColor(e.rightColor):t;g=Si.leftRightDelim(e.right,r,a,v,e.mode,["mclose"])}return n.push(g),ae.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{l2(e);var n=sr(e.body,t);if(e.left!=="."){var r=new ye.MathNode("mo",[Ir(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var a=new ye.MathNode("mo",[Ir(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),n.push(a)}return Lf(n)}});Ie({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Ec(t[0],e);if(!e.parser.leftrightDepth)throw new we("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Po(t,[]);else{n=Si.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Ir("|","text"):Ir(e.delim,e.mode),r=new ye.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Bf=(e,t)=>{var n=ae.wrapFragment(bt(e.body,t),t),r=e.label.slice(1),a=t.sizeMultiplier,s,l=0,c=yt.isCharacterBox(e.body);if(r==="sout")s=ae.makeSpan(["stretchy","sout"]),s.height=t.fontMetrics().defaultRuleThickness/a,l=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var d=Vt({number:.6,unit:"pt"},t),f=Vt({number:.35,unit:"ex"},t),h=t.havingBaseSizing();a=a/h.sizeMultiplier;var g=n.height+n.depth+d+f;n.style.paddingLeft=Te(g/2+d);var v=Math.floor(1e3*g*a),x=LN(v),w=new Ei([new aa("phase",x)],{width:"400em",height:Te(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});s=ae.makeSvgSpan(["hide-tail"],[w],t),s.style.height=Te(g),l=n.depth+d+f}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var E=0,N=0,T=0;/box/.test(r)?(T=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),E=t.fontMetrics().fboxsep+(r==="colorbox"?0:T),N=E):r==="angl"?(T=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),E=4*T,N=Math.max(0,.25-n.depth)):(E=c?.2:0,N=E),s=Ti.encloseSpan(n,r,E,N,t),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Te(T)):r==="angl"&&T!==.049&&(s.style.borderTopWidth=Te(T),s.style.borderRightWidth=Te(T)),l=n.depth+N,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor))}var I;if(e.backgroundColor)I=ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:l},{type:"elem",elem:n,shift:0}]},t);else{var L=/cancel|phase/.test(r)?["svg-align"]:[];I=ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:l,wrapperClasses:L}]},t)}return/cancel/.test(r)&&(I.height=n.height,I.depth=n.depth),/cancel/.test(r)&&!c?ae.makeSpan(["mord","cancel-lap"],[I],t):ae.makeSpan(["mord"],[I],t)},Ff=(e,t)=>{var n=0,r=new ye.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Tt(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};Ie({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:a}=e,s=lt(t[0],"color-token").color,l=t[1];return{type:"enclose",mode:r.mode,label:a,backgroundColor:s,body:l}},htmlBuilder:Bf,mathmlBuilder:Ff});Ie({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:a}=e,s=lt(t[0],"color-token").color,l=lt(t[1],"color-token").color,c=t[2];return{type:"enclose",mode:r.mode,label:a,backgroundColor:l,borderColor:s,body:c}},htmlBuilder:Bf,mathmlBuilder:Ff});Ie({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Ie({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"enclose",mode:n.mode,label:r,body:a}},htmlBuilder:Bf,mathmlBuilder:Ff});Ie({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var Hb={};function ii(e){for(var{type:t,names:n,props:r,handler:a,htmlBuilder:s,mathmlBuilder:l}=e,c={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},d=0;d<n.length;++d)Hb[n[d]]=c;s&&(Yu[t]=s),l&&(Xu[t]=l)}var Ub={};function j(e,t){Ub[e]=t}function u2(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Nc=e=>{var t=e.parser.settings;if(!t.displayMode)throw new we("{"+e.envName+"} can be used only in display mode.")};function $f(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function ca(e,t,n){var{hskipBeforeAndAfter:r,addJot:a,cols:s,arraystretch:l,colSeparationType:c,autoTag:d,singleRow:f,emptySingleRow:h,maxNumCols:g,leqno:v}=t;if(e.gullet.beginGroup(),f||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var x=e.gullet.expandMacroAsText("\\arraystretch");if(x==null)l=1;else if(l=parseFloat(x),!l||l<0)throw new we("Invalid \\arraystretch: "+x)}e.gullet.beginGroup();var w=[],E=[w],N=[],T=[],I=d!=null?[]:void 0;function L(){d&&e.gullet.macros.set("\\@eqnsw","1",!0)}function B(){I&&(e.gullet.macros.get("\\df@tag")?(I.push(e.subparse([new pr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):I.push(!!d&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(L(),T.push(u2(e));;){var D=e.parseExpression(!1,f?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),D={type:"ordgroup",mode:e.mode,body:D},n&&(D={type:"styling",mode:e.mode,style:n,body:[D]}),w.push(D);var O=e.fetch().text;if(O==="&"){if(g&&w.length===g){if(f||c)throw new we("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(O==="\\end"){B(),w.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(E.length>1||!h)&&E.pop(),T.length<E.length+1&&T.push([]);break}else if(O==="\\\\"){e.consume();var te=void 0;e.gullet.future().text!==" "&&(te=e.parseSizeGroup(!0)),N.push(te?te.value:null),B(),T.push(u2(e)),w=[],E.push(w),L()}else throw new we("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:l,body:E,cols:s,rowGaps:N,hskipBeforeAndAfter:r,hLinesBeforeRow:T,colSeparationType:c,tags:I,leqno:v}}function Hf(e){return e.slice(0,1)==="d"?"display":"text"}var ai=function(t,n){var r,a,s=t.body.length,l=t.hLinesBeforeRow,c=0,d=new Array(s),f=[],h=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),g=1/n.fontMetrics().ptPerEm,v=5*g;if(t.colSeparationType&&t.colSeparationType==="small"){var x=n.havingStyle(Ze.SCRIPT).sizeMultiplier;v=.2778*(x/n.sizeMultiplier)}var w=t.colSeparationType==="CD"?Vt({number:3,unit:"ex"},n):12*g,E=3*g,N=t.arraystretch*w,T=.7*N,I=.3*N,L=0;function B(Ct){for(var jt=0;jt<Ct.length;++jt)jt>0&&(L+=.25),f.push({pos:L,isDashed:Ct[jt]})}for(B(l[0]),r=0;r<t.body.length;++r){var D=t.body[r],O=T,te=I;c<D.length&&(c=D.length);var G=new Array(D.length);for(a=0;a<D.length;++a){var J=bt(D[a],n);te<J.depth&&(te=J.depth),O<J.height&&(O=J.height),G[a]=J}var z=t.rowGaps[r],ie=0;z&&(ie=Vt(z,n),ie>0&&(ie+=I,te<ie&&(te=ie),ie=0)),t.addJot&&(te+=E),G.height=O,G.depth=te,L+=O,G.pos=L,L+=te+ie,d[r]=G,B(l[r+1])}var se=L/2+n.fontMetrics().axisHeight,de=t.cols||[],K=[],P,Y,ee=[];if(t.tags&&t.tags.some(Ct=>Ct))for(r=0;r<s;++r){var W=d[r],Q=W.pos-se,A=t.tags[r],H=void 0;A===!0?H=ae.makeSpan(["eqn-num"],[],n):A===!1?H=ae.makeSpan([],[],n):H=ae.makeSpan([],kn(A,n,!0),n),H.depth=W.depth,H.height=W.height,ee.push({type:"elem",elem:H,shift:Q})}for(a=0,Y=0;a<c||Y<de.length;++a,++Y){for(var ne=de[Y]||{},R=!0;ne.type==="separator";){if(R||(P=ae.makeSpan(["arraycolsep"],[]),P.style.width=Te(n.fontMetrics().doubleRuleSep),K.push(P)),ne.separator==="|"||ne.separator===":"){var xe=ne.separator==="|"?"solid":"dashed",Ae=ae.makeSpan(["vertical-separator"],[],n);Ae.style.height=Te(L),Ae.style.borderRightWidth=Te(h),Ae.style.borderRightStyle=xe,Ae.style.margin="0 "+Te(-h/2);var ce=L-se;ce&&(Ae.style.verticalAlign=Te(-ce)),K.push(Ae)}else throw new we("Invalid separator type: "+ne.separator);Y++,ne=de[Y]||{},R=!1}if(!(a>=c)){var fe=void 0;(a>0||t.hskipBeforeAndAfter)&&(fe=yt.deflt(ne.pregap,v),fe!==0&&(P=ae.makeSpan(["arraycolsep"],[]),P.style.width=Te(fe),K.push(P)));var Me=[];for(r=0;r<s;++r){var $e=d[r],Qe=$e[a];if(Qe){var kt=$e.pos-se;Qe.depth=$e.depth,Qe.height=$e.height,Me.push({type:"elem",elem:Qe,shift:kt})}}Me=ae.makeVList({positionType:"individualShift",children:Me},n),Me=ae.makeSpan(["col-align-"+(ne.align||"c")],[Me]),K.push(Me),(a<c-1||t.hskipBeforeAndAfter)&&(fe=yt.deflt(ne.postgap,v),fe!==0&&(P=ae.makeSpan(["arraycolsep"],[]),P.style.width=Te(fe),K.push(P)))}}if(d=ae.makeSpan(["mtable"],K),f.length>0){for(var Kt=ae.makeLineSpan("hline",n,h),cn=ae.makeLineSpan("hdashline",n,h),dn=[{type:"elem",elem:d,shift:0}];f.length>0;){var wn=f.pop(),at=wn.pos-se;wn.isDashed?dn.push({type:"elem",elem:cn,shift:at}):dn.push({type:"elem",elem:Kt,shift:at})}d=ae.makeVList({positionType:"individualShift",children:dn},n)}if(ee.length===0)return ae.makeSpan(["mord"],[d],n);var We=ae.makeVList({positionType:"individualShift",children:ee},n);return We=ae.makeSpan(["tag"],[We],n),ae.makeFragment([d,We])},UT={c:"center ",l:"left ",r:"right "},si=function(t,n){for(var r=[],a=new ye.MathNode("mtd",[],["mtr-glue"]),s=new ye.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<t.body.length;l++){for(var c=t.body[l],d=[],f=0;f<c.length;f++)d.push(new ye.MathNode("mtd",[Tt(c[f],n)]));t.tags&&t.tags[l]&&(d.unshift(a),d.push(a),t.leqno?d.unshift(s):d.push(s)),r.push(new ye.MathNode("mtr",d))}var h=new ye.MathNode("mtable",r),g=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);h.setAttribute("rowspacing",Te(g));var v="",x="";if(t.cols&&t.cols.length>0){var w=t.cols,E="",N=!1,T=0,I=w.length;w[0].type==="separator"&&(v+="top ",T=1),w[w.length-1].type==="separator"&&(v+="bottom ",I-=1);for(var L=T;L<I;L++)w[L].type==="align"?(x+=UT[w[L].align],N&&(E+="none "),N=!0):w[L].type==="separator"&&N&&(E+=w[L].separator==="|"?"solid ":"dashed ",N=!1);h.setAttribute("columnalign",x.trim()),/[sd]/.test(E)&&h.setAttribute("columnlines",E.trim())}if(t.colSeparationType==="align"){for(var B=t.cols||[],D="",O=1;O<B.length;O++)D+=O%2?"0em ":"1em ";h.setAttribute("columnspacing",D.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var te="",G=t.hLinesBeforeRow;v+=G[0].length>0?"left ":"",v+=G[G.length-1].length>0?"right ":"";for(var J=1;J<G.length-1;J++)te+=G[J].length===0?"none ":G[J][0]?"dashed ":"solid ";return/[sd]/.test(te)&&h.setAttribute("rowlines",te.trim()),v!==""&&(h=new ye.MathNode("menclose",[h]),h.setAttribute("notation",v.trim())),t.arraystretch&&t.arraystretch<1&&(h=new ye.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},Wb=function(t,n){t.envName.indexOf("ed")===-1&&Nc(t);var r=[],a=t.envName.indexOf("at")>-1?"alignat":"align",s=t.envName==="split",l=ca(t.parser,{cols:r,addJot:!0,autoTag:s?void 0:$f(t.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:s?2:void 0,leqno:t.parser.settings.leqno},"display"),c,d=0,f={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var h="",g=0;g<n[0].body.length;g++){var v=lt(n[0].body[g],"textord");h+=v.text}c=Number(h),d=c*2}var x=!d;l.body.forEach(function(T){for(var I=1;I<T.length;I+=2){var L=lt(T[I],"styling"),B=lt(L.body[0],"ordgroup");B.body.unshift(f)}if(x)d<T.length&&(d=T.length);else{var D=T.length/2;if(c<D)throw new we("Too many math in a row: "+("expected "+c+", but got "+D),T[0])}});for(var w=0;w<d;++w){var E="r",N=0;w%2===1?E="l":w>0&&x&&(N=1),r[w]={type:"align",align:E,pregap:N,postgap:0}}return l.colSeparationType=x?"align":"alignat",l};ii({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=wc(t[0]),r=n?[t[0]]:lt(t[0],"ordgroup").body,a=r.map(function(l){var c=Df(l),d=c.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new we("Unknown column alignment: "+d,l)}),s={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return ca(e.parser,s,Hf(e.envName))},htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var a=e.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),n=a.fetch().text,"lcr".indexOf(n)===-1)throw new we("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),r.cols=[{type:"align",align:n}]}}var s=ca(e.parser,r,Hf(e.envName)),l=Math.max(0,...s.body.map(c=>c.length));return s.cols=new Array(l).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=ca(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=wc(t[0]),r=n?[t[0]]:lt(t[0],"ordgroup").body,a=r.map(function(l){var c=Df(l),d=c.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new we("Unknown column alignment: "+d,l)});if(a.length>1)throw new we("{subarray} can contain only one column");var s={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=ca(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new we("{subarray} can contain only one column");return s},htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ca(e.parser,t,Hf(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Wb,htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&Nc(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$f(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return ca(e.parser,t,"display")},htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Wb,htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Nc(e);var t={autoTag:$f(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return ca(e.parser,t,"display")},htmlBuilder:ai,mathmlBuilder:si});ii({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Nc(e),MT(e.parser)},htmlBuilder:ai,mathmlBuilder:si});j("\\nonumber","\\gdef\\@eqnsw{0}");j("\\notag","\\nonumber");Ie({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new we(e.funcName+" valid only within array environment")}});var c2=Hb;Ie({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];if(a.type!=="ordgroup")throw new we("Invalid environment name",a);for(var s="",l=0;l<a.body.length;++l)s+=lt(a.body[l],"textord").text;if(r==="\\begin"){if(!c2.hasOwnProperty(s))throw new we("No such environment: "+s,a);var c=c2[s],{args:d,optArgs:f}=n.parseArguments("\\begin{"+s+"}",c),h={mode:n.mode,envName:s,parser:n},g=c.handler(h,d,f);n.expect("\\end",!1);var v=n.nextToken,x=lt(n.parseFunction(),"environment");if(x.name!==s)throw new we("Mismatch: \\begin{"+s+"} matched by \\end{"+x.name+"}",v);return g}return{type:"environment",mode:n.mode,name:s,nameGroup:a}}});var qb=(e,t)=>{var n=e.font,r=t.withFont(n);return bt(e.body,r)},Gb=(e,t)=>{var n=e.font,r=t.withFont(n);return Tt(e.body,r)},d2={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ie({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=Zu(t[0]),s=r;return s in d2&&(s=d2[s]),{type:"font",mode:n.mode,font:s.slice(1),body:a}},htmlBuilder:qb,mathmlBuilder:Gb});Ie({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],a=yt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Sc(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:a}}});Ie({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:a}=e,{mode:s}=n,l=n.parseExpression(!0,a),c="math"+r.slice(1);return{type:"font",mode:s,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:qb,mathmlBuilder:Gb});var Vb=(e,t)=>{var n=t;return e==="display"?n=n.id>=Ze.SCRIPT.id?n.text():Ze.DISPLAY:e==="text"&&n.size===Ze.DISPLAY.size?n=Ze.TEXT:e==="script"?n=Ze.SCRIPT:e==="scriptscript"&&(n=Ze.SCRIPTSCRIPT),n},Uf=(e,t)=>{var n=Vb(e.size,t.style),r=n.fracNum(),a=n.fracDen(),s;s=t.havingStyle(r);var l=bt(e.numer,s,t);if(e.continued){var c=8.5/t.fontMetrics().ptPerEm,d=3.5/t.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<d?d:l.depth}s=t.havingStyle(a);var f=bt(e.denom,s,t),h,g,v;e.hasBarLine?(e.barSize?(g=Vt(e.barSize,t),h=ae.makeLineSpan("frac-line",t,g)):h=ae.makeLineSpan("frac-line",t),g=h.height,v=h.height):(h=null,g=0,v=t.fontMetrics().defaultRuleThickness);var x,w,E;n.size===Ze.DISPLAY.size||e.size==="display"?(x=t.fontMetrics().num1,g>0?w=3*v:w=7*v,E=t.fontMetrics().denom1):(g>0?(x=t.fontMetrics().num2,w=v):(x=t.fontMetrics().num3,w=3*v),E=t.fontMetrics().denom2);var N;if(h){var I=t.fontMetrics().axisHeight;x-l.depth-(I+.5*g)<w&&(x+=w-(x-l.depth-(I+.5*g))),I-.5*g-(f.height-E)<w&&(E+=w-(I-.5*g-(f.height-E)));var L=-(I-.5*g);N=ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:E},{type:"elem",elem:h,shift:L},{type:"elem",elem:l,shift:-x}]},t)}else{var T=x-l.depth-(f.height-E);T<w&&(x+=.5*(w-T),E+=.5*(w-T)),N=ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:E},{type:"elem",elem:l,shift:-x}]},t)}s=t.havingStyle(n),N.height*=s.sizeMultiplier/t.sizeMultiplier,N.depth*=s.sizeMultiplier/t.sizeMultiplier;var B;n.size===Ze.DISPLAY.size?B=t.fontMetrics().delim1:n.size===Ze.SCRIPTSCRIPT.size?B=t.havingStyle(Ze.SCRIPT).fontMetrics().delim2:B=t.fontMetrics().delim2;var D,O;return e.leftDelim==null?D=Po(t,["mopen"]):D=Si.customSizedDelim(e.leftDelim,B,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?O=ae.makeSpan([]):e.rightDelim==null?O=Po(t,["mclose"]):O=Si.customSizedDelim(e.rightDelim,B,!0,t.havingStyle(n),e.mode,["mclose"]),ae.makeSpan(["mord"].concat(s.sizingClasses(t)),[D,ae.makeSpan(["mfrac"],[N]),O],t)},Wf=(e,t)=>{var n=new ye.MathNode("mfrac",[Tt(e.numer,t),Tt(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=Vt(e.barSize,t);n.setAttribute("linethickness",Te(r))}var a=Vb(e.size,t.style);if(a.size!==t.style.size){n=new ye.MathNode("mstyle",[n]);var s=a.size===Ze.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var l=[];if(e.leftDelim!=null){var c=new ye.MathNode("mo",[new ye.TextNode(e.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),e.rightDelim!=null){var d=new ye.MathNode("mo",[new ye.TextNode(e.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),l.push(d)}return Lf(l)}return n};Ie({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],s=t[1],l,c=null,d=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",d=")";break;case"\\\\bracefrac":l=!1,c="\\{",d="\\}";break;case"\\\\brackfrac":l=!1,c="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:a,denom:s,hasBarLine:l,leftDelim:c,rightDelim:d,size:f,barSize:null}},htmlBuilder:Uf,mathmlBuilder:Wf});Ie({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],s=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:a,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ie({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,a;switch(n){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:a,token:r}}});var m2=["display","text","script","scriptscript"],f2=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Ie({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],a=t[5],s=Zu(t[0]),l=s.type==="atom"&&s.family==="open"?f2(s.text):null,c=Zu(t[1]),d=c.type==="atom"&&c.family==="close"?f2(c.text):null,f=lt(t[2],"size"),h,g=null;f.isBlank?h=!0:(g=f.value,h=g.number>0);var v="auto",x=t[3];if(x.type==="ordgroup"){if(x.body.length>0){var w=lt(x.body[0],"textord");v=m2[Number(w.text)]}}else x=lt(x,"textord"),v=m2[Number(x.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:a,continued:!1,hasBarLine:h,barSize:g,leftDelim:l,rightDelim:d,size:v}},htmlBuilder:Uf,mathmlBuilder:Wf});Ie({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:a}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:lt(t[0],"size").value,token:a}}});Ie({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],s=vN(lt(t[1],"infix").size),l=t[2],c=s.number>0;return{type:"genfrac",mode:n.mode,numer:a,denom:l,continued:!1,hasBarLine:c,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Uf,mathmlBuilder:Wf});var Kb=(e,t)=>{var n=t.style,r,a;e.type==="supsub"?(r=e.sup?bt(e.sup,t.havingStyle(n.sup()),t):bt(e.sub,t.havingStyle(n.sub()),t),a=lt(e.base,"horizBrace")):a=lt(e,"horizBrace");var s=bt(a.base,t.havingBaseStyle(Ze.DISPLAY)),l=Ti.svgSpan(a,t),c;if(a.isOver?(c=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},t),c.children[0].children[0].children[1].classes.push("svg-align")):(c=ae.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},t),c.children[0].children[0].children[0].classes.push("svg-align")),r){var d=ae.makeSpan(["mord",a.isOver?"mover":"munder"],[c],t);a.isOver?c=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:r}]},t):c=ae.makeVList({positionType:"bottom",positionData:d.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:d}]},t)}return ae.makeSpan(["mord",a.isOver?"mover":"munder"],[c],t)},WT=(e,t)=>{var n=Ti.mathMLnode(e.label);return new ye.MathNode(e.isOver?"mover":"munder",[Tt(e.base,t),n])};Ie({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:Kb,mathmlBuilder:WT});Ie({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],a=lt(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:n.mode,href:a,body:un(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=kn(e.body,t,!1);return ae.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=sa(e.body,t);return n instanceof fr||(n=new fr("mrow",[n])),n.setAttribute("href",e.href),n}});Ie({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=lt(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var a=[],s=0;s<r.length;s++){var l=r[s];l==="~"&&(l="\\textasciitilde"),a.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:a};return{type:"href",mode:n.mode,href:r,body:un(c)}}});Ie({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:un(t[0])}},htmlBuilder(e,t){var n=kn(e.body,t,!1);return ae.makeFragment(n)},mathmlBuilder(e,t){return new ye.MathNode("mrow",sr(e.body,t))}});Ie({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:a}=e,s=lt(t[0],"raw").string,l=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,d={};switch(r){case"\\htmlClass":d.class=s,c={command:"\\htmlClass",class:s};break;case"\\htmlId":d.id=s,c={command:"\\htmlId",id:s};break;case"\\htmlStyle":d.style=s,c={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),h=0;h<f.length;h++){var g=f[h].split("=");if(g.length!==2)throw new we("Error parsing key-value for \\htmlData");d["data-"+g[0].trim()]=g[1].trim()}c={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:d,body:un(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=kn(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var a=ae.makeSpan(r,n,t);for(var s in e.attributes)s!=="class"&&e.attributes.hasOwnProperty(s)&&a.setAttribute(s,e.attributes[s]);return a},mathmlBuilder:(e,t)=>sa(e.body,t)});Ie({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:un(t[0]),mathml:un(t[1])}},htmlBuilder:(e,t)=>{var n=kn(e.html,t,!1);return ae.makeFragment(n)},mathmlBuilder:(e,t)=>sa(e.mathml,t)});var em=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new we("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!fb(r))throw new we("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Ie({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,a={number:0,unit:"em"},s={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var d=lt(n[0],"raw").string,f=d.split(","),h=0;h<f.length;h++){var g=f[h].split("=");if(g.length===2){var v=g[1].trim();switch(g[0].trim()){case"alt":c=v;break;case"width":a=em(v);break;case"height":s=em(v);break;case"totalheight":l=em(v);break;default:throw new we("Invalid key: '"+g[0]+"' in \\includegraphics.")}}}var x=lt(t[0],"url").url;return c===""&&(c=x,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:x})?{type:"includegraphics",mode:r.mode,alt:c,width:a,height:s,totalheight:l,src:x}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=Vt(e.height,t),r=0;e.totalheight.number>0&&(r=Vt(e.totalheight,t)-n);var a=0;e.width.number>0&&(a=Vt(e.width,t));var s={height:Te(n+r)};a>0&&(s.width=Te(a)),r>0&&(s.verticalAlign=Te(-r));var l=new WN(e.src,e.alt,s);return l.height=n,l.depth=r,l},mathmlBuilder:(e,t)=>{var n=new ye.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=Vt(e.height,t),a=0;if(e.totalheight.number>0&&(a=Vt(e.totalheight,t)-r,n.setAttribute("valign",Te(-a))),n.setAttribute("height",Te(r+a)),e.width.number>0){var s=Vt(e.width,t);n.setAttribute("width",Te(s))}return n.setAttribute("src",e.src),n}});Ie({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,a=lt(t[0],"size");if(n.settings.strict){var s=r[1]==="m",l=a.value.unit==="mu";s?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+a.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:a.value}},htmlBuilder(e,t){return ae.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=Vt(e.dimension,t);return new ye.SpaceNode(n)}});Ie({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:a}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=ae.makeSpan([],[bt(e.body,t)]),n=ae.makeSpan(["inner"],[n],t)):n=ae.makeSpan(["inner"],[bt(e.body,t)]);var r=ae.makeSpan(["fix"],[]),a=ae.makeSpan([e.alignment],[n,r],t),s=ae.makeSpan(["strut"]);return s.style.height=Te(a.height+a.depth),a.depth&&(s.style.verticalAlign=Te(-a.depth)),a.children.unshift(s),a=ae.makeSpan(["thinbox"],[a],t),ae.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:(e,t)=>{var n=new ye.MathNode("mpadded",[Tt(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Ie({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,a=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",l=r.parseExpression(!1,s);return r.expect(s),r.switchMode(a),{type:"styling",mode:r.mode,style:"text",body:l}}});Ie({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new we("Mismatched "+e.funcName)}});var h2=(e,t)=>{switch(t.style.size){case Ze.DISPLAY.size:return e.display;case Ze.TEXT.size:return e.text;case Ze.SCRIPT.size:return e.script;case Ze.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ie({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:un(t[0]),text:un(t[1]),script:un(t[2]),scriptscript:un(t[3])}},htmlBuilder:(e,t)=>{var n=h2(e,t),r=kn(n,t,!1);return ae.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=h2(e,t);return sa(n,t)}});var Yb=(e,t,n,r,a,s,l)=>{e=ae.makeSpan([],[e]);var c=n&&yt.isCharacterBox(n),d,f;if(t){var h=bt(t,r.havingStyle(a.sup()),r);f={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var g=bt(n,r.havingStyle(a.sub()),r);d={elem:g,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-g.height)}}var v;if(f&&d){var x=r.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+e.depth+l;v=ae.makeVList({positionType:"bottom",positionData:x,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:Te(-s)},{type:"kern",size:d.kern},{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Te(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(d){var w=e.height-l;v=ae.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:Te(-s)},{type:"kern",size:d.kern},{type:"elem",elem:e}]},r)}else if(f){var E=e.depth+l;v=ae.makeVList({positionType:"bottom",positionData:E,children:[{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Te(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var N=[v];if(d&&s!==0&&!c){var T=ae.makeSpan(["mspace"],[],r);T.style.marginRight=Te(s),N.unshift(T)}return ae.makeSpan(["mop","op-limits"],N,r)},Xb=["\\smallint"],Os=(e,t)=>{var n,r,a=!1,s;e.type==="supsub"?(n=e.sup,r=e.sub,s=lt(e.base,"op"),a=!0):s=lt(e,"op");var l=t.style,c=!1;l.size===Ze.DISPLAY.size&&s.symbol&&!Xb.includes(s.name)&&(c=!0);var d;if(s.symbol){var f=c?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),d=ae.makeSymbol(s.name,f,"math",t,["mop","op-symbol",c?"large-op":"small-op"]),h.length>0){var g=d.italic,v=ae.staticSvg(h+"Size"+(c?"2":"1"),t);d=ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:v,shift:c?.08:0}]},t),s.name="\\"+h,d.classes.unshift("mop"),d.italic=g}}else if(s.body){var x=kn(s.body,t,!0);x.length===1&&x[0]instanceof Ar?(d=x[0],d.classes[0]="mop"):d=ae.makeSpan(["mop"],x,t)}else{for(var w=[],E=1;E<s.name.length;E++)w.push(ae.mathsym(s.name[E],s.mode,t));d=ae.makeSpan(["mop"],w,t)}var N=0,T=0;return(d instanceof Ar||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(N=(d.height-d.depth)/2-t.fontMetrics().axisHeight,T=d.italic),a?Yb(d,n,r,t,l,T,N):(N&&(d.style.position="relative",d.style.top=Te(N)),d)},Go=(e,t)=>{var n;if(e.symbol)n=new fr("mo",[Ir(e.name,e.mode)]),Xb.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new fr("mo",sr(e.body,t));else{n=new fr("mi",[new ni(e.name.slice(1))]);var r=new fr("mo",[Ir("","text")]);e.parentIsSupSub?n=new fr("mrow",[n,r]):n=Eb([n,r])}return n},qT={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ie({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=r;return a.length===1&&(a=qT[a]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Os,mathmlBuilder:Go});Ie({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:un(r)}},htmlBuilder:Os,mathmlBuilder:Go});var GT={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ie({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Os,mathmlBuilder:Go});Ie({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Os,mathmlBuilder:Go});Ie({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=GT[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Os,mathmlBuilder:Go});var Zb=(e,t)=>{var n,r,a=!1,s;e.type==="supsub"?(n=e.sup,r=e.sub,s=lt(e.base,"operatorname"),a=!0):s=lt(e,"operatorname");var l;if(s.body.length>0){for(var c=s.body.map(g=>{var v=g.text;return typeof v=="string"?{type:"textord",mode:g.mode,text:v}:g}),d=kn(c,t.withFont("mathrm"),!0),f=0;f<d.length;f++){var h=d[f];h instanceof Ar&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ae.makeSpan(["mop"],d,t)}else l=ae.makeSpan(["mop"],[],t);return a?Yb(l,n,r,t,t.style,0,0):l},VT=(e,t)=>{for(var n=sr(e.body,t.withFont("mathrm")),r=!0,a=0;a<n.length;a++){var s=n[a];if(!(s instanceof ye.SpaceNode))if(s instanceof ye.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=s.children[0];s.children.length===1&&l instanceof ye.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(h=>h.toText()).join("");n=[new ye.TextNode(c)]}var d=new ye.MathNode("mi",n);d.setAttribute("mathvariant","normal");var f=new ye.MathNode("mo",[Ir("","text")]);return e.parentIsSupSub?new ye.MathNode("mrow",[d,f]):ye.newDocumentFragment([d,f])};Ie({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"operatorname",mode:n.mode,body:un(a),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Zb,mathmlBuilder:VT});j("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Fa({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?ae.makeFragment(kn(e.body,t,!1)):ae.makeSpan(["mord"],kn(e.body,t,!0),t)},mathmlBuilder(e,t){return sa(e.body,t,!0)}});Ie({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=bt(e.body,t.havingCrampedStyle()),r=ae.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,s=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r},{type:"kern",size:a}]},t);return ae.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var n=new ye.MathNode("mo",[new ye.TextNode("")]);n.setAttribute("stretchy","true");var r=new ye.MathNode("mover",[Tt(e.body,t),n]);return r.setAttribute("accent","true"),r}});Ie({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:un(r)}},htmlBuilder:(e,t)=>{var n=kn(e.body,t.withPhantom(),!1);return ae.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=sr(e.body,t);return new ye.MathNode("mphantom",n)}});Ie({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=ae.makeSpan([],[bt(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),ae.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=sr(un(e.body),t),r=new ye.MathNode("mphantom",n),a=new ye.MathNode("mpadded",[r]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});Ie({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=ae.makeSpan(["inner"],[bt(e.body,t.withPhantom())]),r=ae.makeSpan(["fix"],[]);return ae.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=sr(un(e.body),t),r=new ye.MathNode("mphantom",n),a=new ye.MathNode("mpadded",[r]);return a.setAttribute("width","0px"),a}});Ie({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=lt(t[0],"size").value,a=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:a}},htmlBuilder(e,t){var n=bt(e.body,t),r=Vt(e.dy,t);return ae.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new ye.MathNode("mpadded",[Tt(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});Ie({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Ie({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,a=n[0],s=lt(t[0],"size"),l=lt(t[1],"size");return{type:"rule",mode:r.mode,shift:a&&lt(a,"size").value,width:s.value,height:l.value}},htmlBuilder(e,t){var n=ae.makeSpan(["mord","rule"],[],t),r=Vt(e.width,t),a=Vt(e.height,t),s=e.shift?Vt(e.shift,t):0;return n.style.borderRightWidth=Te(r),n.style.borderTopWidth=Te(a),n.style.bottom=Te(s),n.width=r,n.height=a+s,n.depth=-s,n.maxFontSize=a*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=Vt(e.width,t),r=Vt(e.height,t),a=e.shift?Vt(e.shift,t):0,s=t.color&&t.getColor()||"black",l=new ye.MathNode("mspace");l.setAttribute("mathbackground",s),l.setAttribute("width",Te(n)),l.setAttribute("height",Te(r));var c=new ye.MathNode("mpadded",[l]);return a>=0?c.setAttribute("height",Te(a)):(c.setAttribute("height",Te(a)),c.setAttribute("depth",Te(-a))),c.setAttribute("voffset",Te(a)),c}});function Qb(e,t,n){for(var r=kn(e,t,!1),a=t.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var l=r[s].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[s].classes,t.sizingClasses(n)):r[s].classes[l+1]==="reset-size"+t.size&&(r[s].classes[l+1]="reset-size"+n.size),r[s].height*=a,r[s].depth*=a}return ae.makeFragment(r)}var p2=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],KT=(e,t)=>{var n=t.havingSize(e.size);return Qb(e.body,n,t)};Ie({type:"sizing",names:p2,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:a}=e,s=a.parseExpression(!1,n);return{type:"sizing",mode:a.mode,size:p2.indexOf(r)+1,body:s}},htmlBuilder:KT,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=sr(e.body,n),a=new ye.MathNode("mstyle",r);return a.setAttribute("mathsize",Te(n.sizeMultiplier)),a}});Ie({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,a=!1,s=!1,l=n[0]&&lt(n[0],"ordgroup");if(l)for(var c="",d=0;d<l.body.length;++d){var f=l.body[d];if(c=f.text,c==="t")a=!0;else if(c==="b")s=!0;else{a=!1,s=!1;break}}else a=!0,s=!0;var h=t[0];return{type:"smash",mode:r.mode,body:h,smashHeight:a,smashDepth:s}},htmlBuilder:(e,t)=>{var n=ae.makeSpan([],[bt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].depth=0;var s=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return ae.makeSpan(["mord"],[s],t)},mathmlBuilder:(e,t)=>{var n=new ye.MathNode("mpadded",[Tt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});Ie({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,a=n[0],s=t[0];return{type:"sqrt",mode:r.mode,body:s,index:a}},htmlBuilder(e,t){var n=bt(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=ae.wrapFragment(n,t);var r=t.fontMetrics(),a=r.defaultRuleThickness,s=a;t.style.id<Ze.TEXT.id&&(s=t.fontMetrics().xHeight);var l=a+s/4,c=n.height+n.depth+l+a,{span:d,ruleWidth:f,advanceWidth:h}=Si.sqrtImage(c,t),g=d.height-f;g>n.height+n.depth+l&&(l=(l+g-n.height-n.depth)/2);var v=d.height-n.height-l-f;n.style.paddingLeft=Te(h);var x=ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+v)},{type:"elem",elem:d},{type:"kern",size:f}]},t);if(e.index){var w=t.havingStyle(Ze.SCRIPTSCRIPT),E=bt(e.index,w,t),N=.6*(x.height-x.depth),T=ae.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:E}]},t),I=ae.makeSpan(["root"],[T]);return ae.makeSpan(["mord","sqrt"],[I,x],t)}else return ae.makeSpan(["mord","sqrt"],[x],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new ye.MathNode("mroot",[Tt(n,t),Tt(r,t)]):new ye.MathNode("msqrt",[Tt(n,t)])}});var g2={display:Ze.DISPLAY,text:Ze.TEXT,script:Ze.SCRIPT,scriptscript:Ze.SCRIPTSCRIPT};Ie({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:a}=e,s=a.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:a.mode,style:l,body:s}},htmlBuilder(e,t){var n=g2[e.style],r=t.havingStyle(n).withFont("");return Qb(e.body,r,t)},mathmlBuilder(e,t){var n=g2[e.style],r=t.havingStyle(n),a=sr(e.body,r),s=new ye.MathNode("mstyle",a),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[e.style];return s.setAttribute("scriptlevel",c[0]),s.setAttribute("displaystyle",c[1]),s}});var YT=function(t,n){var r=t.base;if(r)if(r.type==="op"){var a=r.limits&&(n.style.size===Ze.DISPLAY.size||r.alwaysHandleSupSub);return a?Os:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===Ze.DISPLAY.size||r.limits);return s?Zb:null}else{if(r.type==="accent")return yt.isCharacterBox(r.base)?zf:null;if(r.type==="horizBrace"){var l=!t.sub;return l===r.isOver?Kb:null}else return null}else return null};Fa({type:"supsub",htmlBuilder(e,t){var n=YT(e,t);if(n)return n(e,t);var{base:r,sup:a,sub:s}=e,l=bt(r,t),c,d,f=t.fontMetrics(),h=0,g=0,v=r&&yt.isCharacterBox(r);if(a){var x=t.havingStyle(t.style.sup());c=bt(a,x,t),v||(h=l.height-x.fontMetrics().supDrop*x.sizeMultiplier/t.sizeMultiplier)}if(s){var w=t.havingStyle(t.style.sub());d=bt(s,w,t),v||(g=l.depth+w.fontMetrics().subDrop*w.sizeMultiplier/t.sizeMultiplier)}var E;t.style===Ze.DISPLAY?E=f.sup1:t.style.cramped?E=f.sup3:E=f.sup2;var N=t.sizeMultiplier,T=Te(.5/f.ptPerEm/N),I=null;if(d){var L=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(l instanceof Ar||L)&&(I=Te(-l.italic))}var B;if(c&&d){h=Math.max(h,E,c.depth+.25*f.xHeight),g=Math.max(g,f.sub2);var D=f.defaultRuleThickness,O=4*D;if(h-c.depth-(d.height-g)<O){g=O-(h-c.depth)+d.height;var te=.8*f.xHeight-(h-c.depth);te>0&&(h+=te,g-=te)}var G=[{type:"elem",elem:d,shift:g,marginRight:T,marginLeft:I},{type:"elem",elem:c,shift:-h,marginRight:T}];B=ae.makeVList({positionType:"individualShift",children:G},t)}else if(d){g=Math.max(g,f.sub1,d.height-.8*f.xHeight);var J=[{type:"elem",elem:d,marginLeft:I,marginRight:T}];B=ae.makeVList({positionType:"shift",positionData:g,children:J},t)}else if(c)h=Math.max(h,E,c.depth+.25*f.xHeight),B=ae.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:c,marginRight:T}]},t);else throw new Error("supsub must have either sup or sub.");var z=Fm(l,"right")||"mord";return ae.makeSpan([z],[l,ae.makeSpan(["msupsub"],[B])],t)},mathmlBuilder(e,t){var n=!1,r,a;e.base&&e.base.type==="horizBrace"&&(a=!!e.sup,a===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var s=[Tt(e.base,t)];e.sub&&s.push(Tt(e.sub,t)),e.sup&&s.push(Tt(e.sup,t));var l;if(n)l=r?"mover":"munder";else if(e.sub)if(e.sup){var f=e.base;f&&f.type==="op"&&f.limits&&t.style===Ze.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(t.style===Ze.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var d=e.base;d&&d.type==="op"&&d.limits&&(t.style===Ze.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||t.style===Ze.DISPLAY)?l="munder":l="msub"}else{var c=e.base;c&&c.type==="op"&&c.limits&&(t.style===Ze.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||t.style===Ze.DISPLAY)?l="mover":l="msup"}return new ye.MathNode(l,s)}});Fa({type:"atom",htmlBuilder(e,t){return ae.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new ye.MathNode("mo",[Ir(e.text,e.mode)]);if(e.family==="bin"){var r=Of(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var Jb={mi:"italic",mn:"normal",mtext:"normal"};Fa({type:"mathord",htmlBuilder(e,t){return ae.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new ye.MathNode("mi",[Ir(e.text,e.mode,t)]),r=Of(e,t)||"italic";return r!==Jb[n.type]&&n.setAttribute("mathvariant",r),n}});Fa({type:"textord",htmlBuilder(e,t){return ae.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Ir(e.text,e.mode,t),r=Of(e,t)||"normal",a;return e.mode==="text"?a=new ye.MathNode("mtext",[n]):/[0-9]/.test(e.text)?a=new ye.MathNode("mn",[n]):e.text==="\\prime"?a=new ye.MathNode("mo",[n]):a=new ye.MathNode("mi",[n]),r!==Jb[a.type]&&a.setAttribute("mathvariant",r),a}});var tm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},nm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Fa({type:"spacing",htmlBuilder(e,t){if(nm.hasOwnProperty(e.text)){var n=nm[e.text].className||"";if(e.mode==="text"){var r=ae.makeOrd(e,t,"textord");return r.classes.push(n),r}else return ae.makeSpan(["mspace",n],[ae.mathsym(e.text,e.mode,t)],t)}else{if(tm.hasOwnProperty(e.text))return ae.makeSpan(["mspace",tm[e.text]],[],t);throw new we('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(nm.hasOwnProperty(e.text))n=new ye.MathNode("mtext",[new ye.TextNode("")]);else{if(tm.hasOwnProperty(e.text))return new ye.MathNode("mspace");throw new we('Unknown type of space "'+e.text+'"')}return n}});var x2=()=>{var e=new ye.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Fa({type:"tag",mathmlBuilder(e,t){var n=new ye.MathNode("mtable",[new ye.MathNode("mtr",[x2(),new ye.MathNode("mtd",[sa(e.body,t)]),x2(),new ye.MathNode("mtd",[sa(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var b2={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},v2={"\\textbf":"textbf","\\textmd":"textmd"},XT={"\\textit":"textit","\\textup":"textup"},y2=(e,t)=>{var n=e.font;if(n){if(b2[n])return t.withTextFontFamily(b2[n]);if(v2[n])return t.withTextFontWeight(v2[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(XT[n])};Ie({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"text",mode:n.mode,body:un(a),font:r}},htmlBuilder(e,t){var n=y2(e,t),r=kn(e.body,n,!0);return ae.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=y2(e,t);return sa(e.body,n)}});Ie({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=bt(e.body,t),r=ae.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,s=ae.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:a},{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n}]},t);return ae.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var n=new ye.MathNode("mo",[new ye.TextNode("")]);n.setAttribute("stretchy","true");var r=new ye.MathNode("munder",[Tt(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});Ie({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=bt(e.body,t),r=t.fontMetrics().axisHeight,a=.5*(n.height-r-(n.depth+r));return ae.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new ye.MathNode("mpadded",[Tt(e.body,t)],["vcenter"])}});Ie({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new we("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=k2(e),r=[],a=t.havingStyle(t.style.text()),s=0;s<n.length;s++){var l=n[s];l==="~"&&(l="\\textasciitilde"),r.push(ae.makeSymbol(l,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return ae.makeSpan(["mord","text"].concat(a.sizingClasses(t)),ae.tryCombineChars(r),a)},mathmlBuilder(e,t){var n=new ye.TextNode(k2(e)),r=new ye.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var k2=e=>e.body.replace(/ /g,e.star?"":""),ea=wb,ev=`[ \r
	]`,ZT="\\\\[a-zA-Z@]+",QT="\\\\[^\uD800-\uDFFF]",JT="("+ZT+")"+ev+"*",eC=`\\\\(
|[ \r	]+
?)[ \r	]*`,Wm="[-]",tC=new RegExp(Wm+"+$"),nC="("+ev+"+)|"+(eC+"|")+"([!-\\[\\]---]"+(Wm+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Wm+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+JT)+("|"+QT+")");class w2{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(nC,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new pr("EOF",new nr(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new we("Unexpected character: '"+t[n]+"'",new pr(t[n],new nr(this,n,n+1)));var a=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[a]===14){var s=t.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new pr(a,new nr(this,n,this.tokenRegex.lastIndex))}}class rC{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new we("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(t)&&(s[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var iC=Ub;j("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});j("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});j("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});j("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});j("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});j("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");j("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var S2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};j("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new we("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=S2[t.text],r==null||r>=n)throw new we("Invalid base-"+n+" digit "+t.text);for(var a;(a=S2[e.future().text])!=null&&a<n;)r*=n,r+=a,e.popToken()}return"\\@char{"+r+"}"});var qf=(e,t,n,r)=>{var a=e.consumeArg().tokens;if(a.length!==1)throw new we("\\newcommand's first argument must be a macro name");var s=a[0].text,l=e.isDefined(s);if(l&&!t)throw new we("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!l&&!n)throw new we("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var c=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var d="",f=e.expandNextToken();f.text!=="]"&&f.text!=="EOF";)d+=f.text,f=e.expandNextToken();if(!d.match(/^\s*[0-9]+\s*$/))throw new we("Invalid number of arguments: "+d);c=parseInt(d),a=e.consumeArg().tokens}return l&&r||e.macros.set(s,{tokens:a,numArgs:c}),""};j("\\newcommand",e=>qf(e,!1,!0,!1));j("\\renewcommand",e=>qf(e,!0,!1,!1));j("\\providecommand",e=>qf(e,!0,!0,!0));j("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});j("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});j("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),ea[n],It.math[n],It.text[n]),""});j("\\bgroup","{");j("\\egroup","}");j("~","\\nobreakspace");j("\\lq","`");j("\\rq","'");j("\\aa","\\r a");j("\\AA","\\r A");j("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");j("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");j("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");j("","\\mathscr{B}");j("","\\mathscr{E}");j("","\\mathscr{F}");j("","\\mathscr{H}");j("","\\mathscr{I}");j("","\\mathscr{L}");j("","\\mathscr{M}");j("","\\mathscr{R}");j("","\\mathfrak{C}");j("","\\mathfrak{H}");j("","\\mathfrak{Z}");j("\\Bbbk","\\Bbb{k}");j("","\\cdotp");j("\\llap","\\mathllap{\\textrm{#1}}");j("\\rlap","\\mathrlap{\\textrm{#1}}");j("\\clap","\\mathclap{\\textrm{#1}}");j("\\mathstrut","\\vphantom{(}");j("\\underbar","\\underline{\\text{#1}}");j("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');j("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");j("\\ne","\\neq");j("","\\neq");j("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");j("","\\notin");j("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");j("","\\perp");j("","\\mathclose{!\\mkern-0.8mu!}");j("","\\notni");j("","\\ulcorner");j("","\\urcorner");j("","\\llcorner");j("","\\lrcorner");j("","\\copyright");j("","\\textregistered");j("","\\textregistered");j("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');j("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');j("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');j("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');j("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");j("","\\vdots");j("\\varGamma","\\mathit{\\Gamma}");j("\\varDelta","\\mathit{\\Delta}");j("\\varTheta","\\mathit{\\Theta}");j("\\varLambda","\\mathit{\\Lambda}");j("\\varXi","\\mathit{\\Xi}");j("\\varPi","\\mathit{\\Pi}");j("\\varSigma","\\mathit{\\Sigma}");j("\\varUpsilon","\\mathit{\\Upsilon}");j("\\varPhi","\\mathit{\\Phi}");j("\\varPsi","\\mathit{\\Psi}");j("\\varOmega","\\mathit{\\Omega}");j("\\substack","\\begin{subarray}{c}#1\\end{subarray}");j("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");j("\\boxed","\\fbox{$\\displaystyle{#1}$}");j("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");j("\\implies","\\DOTSB\\;\\Longrightarrow\\;");j("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");j("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");j("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var E2={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};j("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in E2?t=E2[n]:(n.slice(0,4)==="\\not"||n in It.math&&["bin","rel"].includes(It.math[n].group))&&(t="\\dotsb"),t});var Gf={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};j("\\dotso",function(e){var t=e.future().text;return t in Gf?"\\ldots\\,":"\\ldots"});j("\\dotsc",function(e){var t=e.future().text;return t in Gf&&t!==","?"\\ldots\\,":"\\ldots"});j("\\cdots",function(e){var t=e.future().text;return t in Gf?"\\@cdots\\,":"\\@cdots"});j("\\dotsb","\\cdots");j("\\dotsm","\\cdots");j("\\dotsi","\\!\\cdots");j("\\dotsx","\\ldots\\,");j("\\DOTSI","\\relax");j("\\DOTSB","\\relax");j("\\DOTSX","\\relax");j("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");j("\\,","\\tmspace+{3mu}{.1667em}");j("\\thinspace","\\,");j("\\>","\\mskip{4mu}");j("\\:","\\tmspace+{4mu}{.2222em}");j("\\medspace","\\:");j("\\;","\\tmspace+{5mu}{.2777em}");j("\\thickspace","\\;");j("\\!","\\tmspace-{3mu}{.1667em}");j("\\negthinspace","\\!");j("\\negmedspace","\\tmspace-{4mu}{.2222em}");j("\\negthickspace","\\tmspace-{5mu}{.277em}");j("\\enspace","\\kern.5em ");j("\\enskip","\\hskip.5em\\relax");j("\\quad","\\hskip1em\\relax");j("\\qquad","\\hskip2em\\relax");j("\\tag","\\@ifstar\\tag@literal\\tag@paren");j("\\tag@paren","\\tag@literal{({#1})}");j("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new we("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});j("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");j("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");j("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");j("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");j("\\newline","\\\\\\relax");j("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var tv=Te(ti["Main-Regular"][84][1]-.7*ti["Main-Regular"][65][1]);j("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+tv+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");j("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+tv+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");j("\\hspace","\\@ifstar\\@hspacer\\@hspace");j("\\@hspace","\\hskip #1\\relax");j("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");j("\\ordinarycolon",":");j("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");j("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');j("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');j("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');j("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');j("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');j("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');j("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');j("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');j("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');j("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');j("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');j("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');j("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');j("","\\dblcolon");j("","\\eqcolon");j("","\\coloneqq");j("","\\eqqcolon");j("","\\Coloneqq");j("\\ratio","\\vcentcolon");j("\\coloncolon","\\dblcolon");j("\\colonequals","\\coloneqq");j("\\coloncolonequals","\\Coloneqq");j("\\equalscolon","\\eqqcolon");j("\\equalscoloncolon","\\Eqqcolon");j("\\colonminus","\\coloneq");j("\\coloncolonminus","\\Coloneq");j("\\minuscolon","\\eqcolon");j("\\minuscoloncolon","\\Eqcolon");j("\\coloncolonapprox","\\Colonapprox");j("\\coloncolonsim","\\Colonsim");j("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");j("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");j("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");j("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");j("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");j("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");j("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");j("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");j("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");j("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");j("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");j("\\ngeqq","\\html@mathml{\\@ngeqq}{}");j("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");j("\\nleqq","\\html@mathml{\\@nleqq}{}");j("\\nleqslant","\\html@mathml{\\@nleqslant}{}");j("\\nshortmid","\\html@mathml{\\@nshortmid}{}");j("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");j("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");j("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");j("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");j("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");j("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");j("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");j("\\imath","\\html@mathml{\\@imath}{}");j("\\jmath","\\html@mathml{\\@jmath}{}");j("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");j("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");j("","\\llbracket");j("","\\rrbracket");j("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");j("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");j("","\\lBrace");j("","\\rBrace");j("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");j("","\\minuso");j("\\darr","\\downarrow");j("\\dArr","\\Downarrow");j("\\Darr","\\Downarrow");j("\\lang","\\langle");j("\\rang","\\rangle");j("\\uarr","\\uparrow");j("\\uArr","\\Uparrow");j("\\Uarr","\\Uparrow");j("\\N","\\mathbb{N}");j("\\R","\\mathbb{R}");j("\\Z","\\mathbb{Z}");j("\\alef","\\aleph");j("\\alefsym","\\aleph");j("\\Alpha","\\mathrm{A}");j("\\Beta","\\mathrm{B}");j("\\bull","\\bullet");j("\\Chi","\\mathrm{X}");j("\\clubs","\\clubsuit");j("\\cnums","\\mathbb{C}");j("\\Complex","\\mathbb{C}");j("\\Dagger","\\ddagger");j("\\diamonds","\\diamondsuit");j("\\empty","\\emptyset");j("\\Epsilon","\\mathrm{E}");j("\\Eta","\\mathrm{H}");j("\\exist","\\exists");j("\\harr","\\leftrightarrow");j("\\hArr","\\Leftrightarrow");j("\\Harr","\\Leftrightarrow");j("\\hearts","\\heartsuit");j("\\image","\\Im");j("\\infin","\\infty");j("\\Iota","\\mathrm{I}");j("\\isin","\\in");j("\\Kappa","\\mathrm{K}");j("\\larr","\\leftarrow");j("\\lArr","\\Leftarrow");j("\\Larr","\\Leftarrow");j("\\lrarr","\\leftrightarrow");j("\\lrArr","\\Leftrightarrow");j("\\Lrarr","\\Leftrightarrow");j("\\Mu","\\mathrm{M}");j("\\natnums","\\mathbb{N}");j("\\Nu","\\mathrm{N}");j("\\Omicron","\\mathrm{O}");j("\\plusmn","\\pm");j("\\rarr","\\rightarrow");j("\\rArr","\\Rightarrow");j("\\Rarr","\\Rightarrow");j("\\real","\\Re");j("\\reals","\\mathbb{R}");j("\\Reals","\\mathbb{R}");j("\\Rho","\\mathrm{P}");j("\\sdot","\\cdot");j("\\sect","\\S");j("\\spades","\\spadesuit");j("\\sub","\\subset");j("\\sube","\\subseteq");j("\\supe","\\supseteq");j("\\Tau","\\mathrm{T}");j("\\thetasym","\\vartheta");j("\\weierp","\\wp");j("\\Zeta","\\mathrm{Z}");j("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");j("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");j("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");j("\\bra","\\mathinner{\\langle{#1}|}");j("\\ket","\\mathinner{|{#1}\\rangle}");j("\\braket","\\mathinner{\\langle{#1}\\rangle}");j("\\Bra","\\left\\langle#1\\right|");j("\\Ket","\\left|#1\\right\\rangle");var nv=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.consumeArg().tokens,l=t.macros.get("|"),c=t.macros.get("\\|");t.macros.beginGroup();var d=g=>v=>{e&&(v.macros.set("|",l),a.length&&v.macros.set("\\|",c));var x=g;if(!g&&a.length){var w=v.future();w.text==="|"&&(v.popToken(),x=!0)}return{tokens:x?a:r,numArgs:0}};t.macros.set("|",d(!1)),a.length&&t.macros.set("\\|",d(!0));var f=t.consumeArg().tokens,h=t.expandTokens([...s,...f,...n]);return t.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};j("\\bra@ket",nv(!1));j("\\bra@set",nv(!0));j("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");j("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");j("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");j("\\angln","{\\angl n}");j("\\blue","\\textcolor{##6495ed}{#1}");j("\\orange","\\textcolor{##ffa500}{#1}");j("\\pink","\\textcolor{##ff00af}{#1}");j("\\red","\\textcolor{##df0030}{#1}");j("\\green","\\textcolor{##28ae7b}{#1}");j("\\gray","\\textcolor{gray}{#1}");j("\\purple","\\textcolor{##9d38bd}{#1}");j("\\blueA","\\textcolor{##ccfaff}{#1}");j("\\blueB","\\textcolor{##80f6ff}{#1}");j("\\blueC","\\textcolor{##63d9ea}{#1}");j("\\blueD","\\textcolor{##11accd}{#1}");j("\\blueE","\\textcolor{##0c7f99}{#1}");j("\\tealA","\\textcolor{##94fff5}{#1}");j("\\tealB","\\textcolor{##26edd5}{#1}");j("\\tealC","\\textcolor{##01d1c1}{#1}");j("\\tealD","\\textcolor{##01a995}{#1}");j("\\tealE","\\textcolor{##208170}{#1}");j("\\greenA","\\textcolor{##b6ffb0}{#1}");j("\\greenB","\\textcolor{##8af281}{#1}");j("\\greenC","\\textcolor{##74cf70}{#1}");j("\\greenD","\\textcolor{##1fab54}{#1}");j("\\greenE","\\textcolor{##0d923f}{#1}");j("\\goldA","\\textcolor{##ffd0a9}{#1}");j("\\goldB","\\textcolor{##ffbb71}{#1}");j("\\goldC","\\textcolor{##ff9c39}{#1}");j("\\goldD","\\textcolor{##e07d10}{#1}");j("\\goldE","\\textcolor{##a75a05}{#1}");j("\\redA","\\textcolor{##fca9a9}{#1}");j("\\redB","\\textcolor{##ff8482}{#1}");j("\\redC","\\textcolor{##f9685d}{#1}");j("\\redD","\\textcolor{##e84d39}{#1}");j("\\redE","\\textcolor{##bc2612}{#1}");j("\\maroonA","\\textcolor{##ffbde0}{#1}");j("\\maroonB","\\textcolor{##ff92c6}{#1}");j("\\maroonC","\\textcolor{##ed5fa6}{#1}");j("\\maroonD","\\textcolor{##ca337c}{#1}");j("\\maroonE","\\textcolor{##9e034e}{#1}");j("\\purpleA","\\textcolor{##ddd7ff}{#1}");j("\\purpleB","\\textcolor{##c6b9fc}{#1}");j("\\purpleC","\\textcolor{##aa87ff}{#1}");j("\\purpleD","\\textcolor{##7854ab}{#1}");j("\\purpleE","\\textcolor{##543b78}{#1}");j("\\mintA","\\textcolor{##f5f9e8}{#1}");j("\\mintB","\\textcolor{##edf2df}{#1}");j("\\mintC","\\textcolor{##e0e5cc}{#1}");j("\\grayA","\\textcolor{##f6f7f7}{#1}");j("\\grayB","\\textcolor{##f0f1f2}{#1}");j("\\grayC","\\textcolor{##e3e5e6}{#1}");j("\\grayD","\\textcolor{##d6d8da}{#1}");j("\\grayE","\\textcolor{##babec2}{#1}");j("\\grayF","\\textcolor{##888d93}{#1}");j("\\grayG","\\textcolor{##626569}{#1}");j("\\grayH","\\textcolor{##3b3e40}{#1}");j("\\grayI","\\textcolor{##21242c}{#1}");j("\\kaBlue","\\textcolor{##314453}{#1}");j("\\kaGreen","\\textcolor{##71B307}{#1}");var rv={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class aC{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new rC(iC,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new w2(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,a;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:a,end:r}=this.consumeArg(["]"])}else({tokens:a,start:n,end:r}=this.consumeArg());return this.pushToken(new pr("EOF",r.loc)),this.pushTokens(a),new pr("",nr.range(n,r))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var a=this.future(),s,l=0,c=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++l;else if(s.text==="}"){if(--l,l===-1)throw new we("Extra }",s)}else if(s.text==="EOF")throw new we("Unexpected end of input in a macro argument, expected '"+(t&&r?t[c]:"}")+"'",s);if(t&&r)if((l===0||l===1&&t[c]==="{")&&s.text===t[c]){if(++c,c===t.length){n.splice(-c,c);break}}else c=0}while(l!==0||r);return a.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:a,end:s}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new we("The length of delimiters doesn't match the number of args!");for(var r=n[0],a=0;a<r.length;a++){var s=this.popToken();if(r[a]!==s.text)throw new we("Use of the macro doesn't match its definition",s)}}for(var l=[],c=0;c<t;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new we("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,a=n.noexpand?null:this._getExpansion(r);if(a==null||t&&a.unexpandable){if(t&&a==null&&r[0]==="\\"&&!this.isDefined(r))throw new we("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=a.tokens,l=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){s=s.slice();for(var c=s.length-1;c>=0;--c){var d=s[c];if(d.text==="#"){if(c===0)throw new we("Incomplete placeholder at end of macro body",d);if(d=s[--c],d.text==="#")s.splice(c+1,1);else if(/^[1-9]$/.test(d.text))s.splice(c,2,...l[+d.text-1]);else throw new we("Not a valid argument number",d)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new pr(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),n.push(a)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var a=typeof n=="function"?n(this):n;if(typeof a=="string"){var s=0;if(a.indexOf("#")!==-1)for(var l=a.replace(/##/g,"");l.indexOf("#"+(s+1))!==-1;)++s;for(var c=new w2(a,this.settings),d=[],f=c.lex();f.text!=="EOF";)d.push(f),f=c.lex();d.reverse();var h={tokens:d,numArgs:s};return h}return a}isDefined(t){return this.macros.has(t)||ea.hasOwnProperty(t)||It.math.hasOwnProperty(t)||It.text.hasOwnProperty(t)||rv.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:ea.hasOwnProperty(t)&&!ea[t].primitive}}var N2=/^[]/,wu=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),rm={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},T2={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Tc{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new aC(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new we("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new pr("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(Tc.endOfExpression.indexOf(a.text)!==-1||n&&a.text===n||t&&ea[a.text]&&ea[a.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,a=0;a<t.length;a++)if(t[a].type==="infix"){if(n!==-1)throw new we("only one infix operator per group",t[a].token);n=a,r=t[a].replaceWith}if(n!==-1&&r){var s,l,c=t.slice(0,n),d=t.slice(n+1);c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c},d.length===1&&d[0].type==="ordgroup"?l=d[0]:l={type:"ordgroup",mode:this.mode,body:d};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,t[n],l],[]):f=this.callFunction(r,[s,l],[]),[f]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var a;do{var s;a=this.parseGroup(t)}while(((s=a)==null?void 0:s.type)==="internal");if(!a)throw new we("Expected group after '"+r+"'",n);return a}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var a={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return s}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,a;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var l=s.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new we("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new we("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(a)throw new we("Double subscript",s);a=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new we("Double superscript",s);var c={type:"textord",mode:this.mode,text:"\\prime"},d=[c];for(this.consume();this.fetch().text==="'";)d.push(c),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:d}}else if(wu[s.text]){var f=N2.test(s.text),h=[];for(h.push(new pr(wu[s.text])),this.consume();;){var g=this.fetch().text;if(!wu[g]||N2.test(g)!==f)break;h.unshift(new pr(wu[g])),this.consume()}var v=this.subparse(h);f?a={type:"ordgroup",mode:"math",body:v}:r={type:"ordgroup",mode:"math",body:v}}else break}return r||a?{type:"supsub",mode:this.mode,base:n,sup:r,sub:a}:n}parseFunction(t,n){var r=this.fetch(),a=r.text,s=ea[a];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new we("Got function '"+a+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new we("Can't use function '"+a+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new we("Can't use function '"+a+"' in math mode",r);var{args:l,optArgs:c}=this.parseArguments(a,s);return this.callFunction(a,l,c,r,t)}callFunction(t,n,r,a,s){var l={funcName:t,parser:this,token:a,breakOnTokenText:s},c=ea[t];if(c&&c.handler)return c.handler(l,n,r);throw new we("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var a=[],s=[],l=0;l<r;l++){var c=n.argTypes&&n.argTypes[l],d=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&s[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+t+"'",c,d);if(d)s.push(f);else if(f!=null)a.push(f);else throw new we("Null argument, please report this as a bug")}return{args:a,optArgs:s}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var a=this.parseArgumentGroup(r,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new we("A primitive argument cannot be optional");var l=this.parseGroup(t);if(l==null)throw new we("Expected group as "+t,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new we("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var a="",s;(s=this.fetch()).text!=="EOF";)a+=s.text,this.consume();return this.consume(),r.text=a,r}parseRegexGroup(t,n){for(var r=this.fetch(),a=r,s="",l;(l=this.fetch()).text!=="EOF"&&t.test(s+l.text);)a=l,s+=a.text,this.consume();if(s==="")throw new we("Invalid "+n+": '"+r.text+"'",r);return r.range(a,s)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new we("Invalid color: '"+n.text+"'",n);var a=r[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!a)throw new we("Invalid size: '"+n.text+"'",n);var s={number:+(a[1]+a[2]),unit:a[3]};if(!fb(s))throw new we("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var a=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(a),l}parseGroup(t,n){var r=this.fetch(),a=r.text,s;if(a==="{"||a==="\\begingroup"){this.consume();var l=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),d=this.fetch();this.expect(l),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:nr.range(r,d),body:c,semisimple:a==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,t)||this.parseSymbol(),s==null&&a[0]==="\\"&&!rv.hasOwnProperty(a)){if(this.settings.throwOnError)throw new we("Undefined control sequence: "+a,r);s=this.formatUnsupportedCmd(a),this.consume()}return s}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var a=t[r],s=a.text;s==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:nr.range(a,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:nr.range(a,t[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&t[r+1].text===s&&(t.splice(r,2,{type:"textord",mode:"text",loc:nr.range(a,t[r+1]),text:s+s}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),a=r.charAt(0)==="*";if(a&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new we(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:a}}T2.hasOwnProperty(n[0])&&!It[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=T2[n[0]]+n.slice(1));var s=tC.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var l;if(It[this.mode][n]){this.settings.strict&&this.mode==="math"&&Bm.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var c=It[this.mode][n].group,d=nr.range(t),f;if(VN.hasOwnProperty(c)){var h=c;f={type:"atom",mode:this.mode,family:h,loc:d,text:n}}else f={type:c,mode:this.mode,loc:d,text:n};l=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(mb(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),l={type:"textord",mode:"text",loc:nr.range(t),text:n};else return null;if(this.consume(),s)for(var g=0;g<s[0].length;g++){var v=s[0][g];if(!rm[v])throw new we("Unknown accent ' "+v+"'",t);var x=rm[v][this.mode]||rm[v].text;if(!x)throw new we("Accent "+v+" unsupported in "+this.mode+" mode",t);l={type:"accent",mode:this.mode,loc:nr.range(t),label:x,isStretchy:!1,isShifty:!0,base:l}}return l}}Tc.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Vf=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Tc(t,n);delete r.gullet.macros.current["\\df@tag"];var a=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new we("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:r.subparse([new pr("\\df@tag")])}]}return a},iv=function(t,n,r){n.textContent="";var a=Kf(t,r).toNode();n.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),iv=function(){throw new we("KaTeX doesn't work in quirks mode.")});var sC=function(t,n){var r=Kf(t,n).toMarkup();return r},oC=function(t,n){var r=new Mf(n);return Vf(t,r)},av=function(t,n,r){if(r.throwOnError||!(t instanceof we))throw t;var a=ae.makeSpan(["katex-error"],[new Ar(n)]);return a.setAttribute("title",t.toString()),a.setAttribute("style","color:"+r.errorColor),a},Kf=function(t,n){var r=new Mf(n);try{var a=Vf(t,r);return gT(a,t,r)}catch(s){return av(s,t,r)}},lC=function(t,n){var r=new Mf(n);try{var a=Vf(t,r);return xT(a,t,r)}catch(s){return av(s,t,r)}},uC="0.16.25",cC={Span:qo,Anchor:jf,SymbolNode:Ar,SvgNode:Ei,PathNode:aa,LineNode:Pm},C2={version:uC,render:iv,renderToString:sC,ParseError:we,SETTINGS_SCHEMA:Ou,__parse:oC,__renderToDomTree:Kf,__renderToHTMLTree:lC,__setFontMetrics:BN,__defineSymbol:y,__defineFunction:Ie,__defineMacro:j,__domTree:cC};const dC={};function mC(e){const t=this,n=e||dC,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(dN(n)),s.push(rN()),l.push(iN(n))}const _2=(function(e,t,n){const r=Ho(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),$a=(function(e){if(e==null)return pC;if(typeof e=="string")return hC(e);if(typeof e=="object")return fC(e);if(typeof e=="function")return Yf(e);throw new Error("Expected function, string, or array as `test`")});function fC(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=$a(e[n]);return Yf(r);function r(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function hC(e){return Yf(t);function t(n){return n.tagName===e}}function Yf(e){return t;function t(n,r,a){return!!(gC(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function pC(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function gC(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const M2=/\n/g,A2=/[\t ]+/g,qm=$a("br"),I2=$a(SC),xC=$a("p"),j2=$a("tr"),bC=$a(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",wC,EC]),sv=$a(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function ov(e,t){const n=t||{},r="children"in e?e.children:[],a=sv(e),s=cv(e,{whitespace:n.whitespace||"normal"}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...uv(e,{breakBefore:!0,breakAfter:!0}));let c=-1;for(;++c<r.length;)l.push(...lv(r[c],e,{whitespace:s,breakBefore:c?void 0:a,breakAfter:c<r.length-1?qm(r[c+1]):a}));const d=[];let f;for(c=-1;++c<l.length;){const h=l[c];typeof h=="number"?f!==void 0&&h>f&&(f=h):h&&(f!==void 0&&f>-1&&d.push(`
`.repeat(f)||" "),f=-1,d.push(h))}return d.join("")}function lv(e,t,n){return e.type==="element"?vC(e,t,n):e.type==="text"?n.whitespace==="normal"?uv(e,n):yC(e):[]}function vC(e,t,n){const r=cv(e,n),a=e.children||[];let s=-1,l=[];if(bC(e))return l;let c,d;for(qm(e)||j2(e)&&_2(t,e,j2)?d=`
`:xC(e)?(c=2,d=2):sv(e)&&(c=1,d=1);++s<a.length;)l=l.concat(lv(a[s],e,{whitespace:r,breakBefore:s?void 0:c,breakAfter:s<a.length-1?qm(a[s+1]):d}));return I2(e)&&_2(t,e,I2)&&l.push("	"),c&&l.unshift(c),d&&l.push(d),l}function uv(e,t){const n=String(e.value),r=[],a=[];let s=0;for(;s<=n.length;){M2.lastIndex=s;const d=M2.exec(n),f=d&&"index"in d?d.index:n.length;r.push(kC(n.slice(s,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,f===n.length?t.breakAfter:!0)),s=f+1}let l=-1,c;for(;++l<r.length;)r[l].charCodeAt(r[l].length-1)===8203||l<r.length-1&&r[l+1].charCodeAt(0)===8203?(a.push(r[l]),c=void 0):r[l]?(typeof c=="number"&&a.push(c),a.push(r[l]),c=0):(l===0||l===r.length-1)&&a.push(0);return a}function yC(e){return[String(e.value)]}function kC(e,t,n){const r=[];let a=0,s;for(;a<e.length;){A2.lastIndex=a;const l=A2.exec(e);s=l?l.index:e.length,!a&&!s&&l&&!t&&r.push(""),a!==s&&r.push(e.slice(a,s)),a=l?s+l[0].length:s}return a!==s&&!n&&r.push(""),r.join(" ")}function cv(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function wC(e){return!!(e.properties||{}).hidden}function SC(e){return e.tagName==="td"||e.tagName==="th"}function EC(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function NC(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",c={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},v={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},x=t.optional(a)+e.IDENT_RE+"\\s*\\(",w=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],E=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],N=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],T=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],B={type:E,keyword:w,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:N},D={className:"function.dispatch",relevance:0,keywords:{_hint:T},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},O=[D,g,c,n,e.C_BLOCK_COMMENT_MODE,h,f],te={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:B,contains:O.concat([{begin:/\(/,end:/\)/,keywords:B,contains:O.concat(["self"]),relevance:0}]),relevance:0},G={className:"function",begin:"("+l+"[\\*&\\s]+)+"+x,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:B,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:B,relevance:0},{begin:x,returnBegin:!0,contains:[v],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:B,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,h,c,{begin:/\(/,end:/\)/,keywords:B,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,h,c]}]},c,n,e.C_BLOCK_COMMENT_MODE,g]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:B,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(te,G,D,O,[g,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:B,contains:["self",c]},{begin:e.IDENT_RE+"::",keywords:B},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function TC(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=NC(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function CC(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),l={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},c={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,a]};a.contains.push(c);const d={match:/\\"/},f={className:"string",begin:/'/,end:/'/},h={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},v=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],x=e.SHEBANG({binary:`(${v.join("|")})`,relevance:10}),w={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},E=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],N=["true","false"],T={match:/(\/[a-z._-]+)+/},I=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],L=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],B=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],D=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:E,literal:N,built_in:[...I,...L,"set","shopt",...B,...D]},contains:[x,e.SHEBANG(),w,g,s,l,T,c,d,f,h,n]}}function _C(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",l="("+r+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",c={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},v={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},x=t.optional(a)+e.IDENT_RE+"\\s*\\(",N={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},T=[g,c,n,e.C_BLOCK_COMMENT_MODE,h,f],I={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:N,contains:T.concat([{begin:/\(/,end:/\)/,keywords:N,contains:T.concat(["self"]),relevance:0}]),relevance:0},L={begin:"("+l+"[\\*&\\s]+)+"+x,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:N,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:N,relevance:0},{begin:x,returnBegin:!0,contains:[e.inherit(v,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,h,c,{begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,h,c]}]},c,n,e.C_BLOCK_COMMENT_MODE,g]};return{name:"C",aliases:["h"],keywords:N,disableAutodetect:!0,illegal:"</",contains:[].concat(I,L,T,[g,{begin:e.IDENT_RE+"::",keywords:N},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:g,strings:f,keywords:N}}}function MC(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",c={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},h={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},v={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},x=t.optional(a)+e.IDENT_RE+"\\s*\\(",w=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],E=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],N=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],T=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],B={type:E,keyword:w,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:N},D={className:"function.dispatch",relevance:0,keywords:{_hint:T},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},O=[D,g,c,n,e.C_BLOCK_COMMENT_MODE,h,f],te={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:B,contains:O.concat([{begin:/\(/,end:/\)/,keywords:B,contains:O.concat(["self"]),relevance:0}]),relevance:0},G={className:"function",begin:"("+l+"[\\*&\\s]+)+"+x,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:B,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:B,relevance:0},{begin:x,returnBegin:!0,contains:[v],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,h]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:B,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,h,c,{begin:/\(/,end:/\)/,keywords:B,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,h,c]}]},c,n,e.C_BLOCK_COMMENT_MODE,g]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:B,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(te,G,D,O,[g,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:B,contains:["self",c]},{begin:e.IDENT_RE+"::",keywords:B},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function AC(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],a=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],l={keyword:a.concat(s),built_in:t,literal:r},c=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},f={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},h={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},g=e.inherit(h,{illegal:/\n/}),v={className:"subst",begin:/\{/,end:/\}/,keywords:l},x=e.inherit(v,{illegal:/\n/}),w={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,x]},E={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},v]},N=e.inherit(E,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},x]});v.contains=[E,w,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.C_BLOCK_COMMENT_MODE],x.contains=[N,w,g,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const T={variants:[f,E,w,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},I={begin:"<",end:">",contains:[{beginKeywords:"in out"},c]},L=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",B={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:l,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},T,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},c,I,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,I,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+L+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:l,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,I],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,relevance:0,contains:[T,d,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},B]}}const IC=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),jC=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],RC=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],LC=[...jC,...RC],OC=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),DC=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),zC=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),PC=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function BC(e){const t=e.regex,n=IC(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",s=/@-?\w[\w]*(-\w+)*/,l="[a-zA-Z-][a-zA-Z0-9_-]*",c=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+l,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+DC.join("|")+")"},{begin:":(:)?("+zC.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+PC.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:OC.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+LC.join("|")+")\\b"}]}}function FC(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function $C(e){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function HC(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function UC(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const a={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},c={begin:/\[/,end:/\]/,contains:[r,s,a,l,n,"self"],relevance:0},d=/[A-Za-z0-9_-]+/,f=/"(\\"|[^"])*"/,h=/'[^']*'/,g=t.either(d,f,h),v=t.concat(g,"(\\s*\\.\\s*",g,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:v,className:"attr",starts:{end:/$/,contains:[r,c,s,a,l,n]}}]}}var Es="[0-9](_*[0-9])*",Su=`\\.(${Es})`,Eu="[0-9a-fA-F](_*[0-9a-fA-F])*",R2={className:"number",variants:[{begin:`(\\b(${Es})((${Su})|\\.)?|(${Su}))[eE][+-]?(${Es})[fFdD]?\\b`},{begin:`\\b(${Es})((${Su})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Su})[fFdD]?\\b`},{begin:`\\b(${Es})[fFdD]\\b`},{begin:`\\b0[xX]((${Eu})\\.?|(${Eu})?\\.(${Eu}))[pP][+-]?(${Es})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Eu})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function dv(e,t,n){return n===-1?"":e.replace(t,r=>dv(e,t,n-1))}function WC(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+dv("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),d={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},f={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},h={className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:d,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:d,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[f,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,R2,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},R2,f]}}const L2="[A-Za-z$_][0-9A-Za-z$_]*",qC=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],GC=["true","false","null","undefined","NaN","Infinity"],mv=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],fv=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],hv=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],VC=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],KC=[].concat(hv,mv,fv);function YC(e){const t=e.regex,n=(W,{after:Q})=>{const A="</"+W[0].slice(1);return W.input.indexOf(A,Q)!==-1},r=L2,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Q)=>{const A=W[0].length+W.index,H=W.input[A];if(H==="<"||H===","){Q.ignoreMatch();return}H===">"&&(n(W,{after:A})||Q.ignoreMatch());let ne;const R=W.input.substring(A);if(ne=R.match(/^\s*=/)){Q.ignoreMatch();return}if((ne=R.match(/^\s+extends\s+/))&&ne.index===0){Q.ignoreMatch();return}}},c={$pattern:L2,keyword:qC,literal:GC,built_in:KC,"variable.language":VC},d="[0-9](_?[0-9])*",f=`\\.(${d})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${h})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${h})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},v={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},x={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"xml"}},w={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"graphql"}},N={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,v]},I={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},L=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,x,w,E,N,{match:/\$\d+/},g];v.contains=L.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(L)});const B=[].concat(I,v.contains),D=B.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(B)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:D},te={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},G={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...mv,...fv]}},J={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},ie={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function se(W){return t.concat("(?!",W.join("|"),")")}const de={match:t.concat(/\b/,se([...hv,"super","import"].map(W=>`${W}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},K={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},P={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},Y="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",ee={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(Y)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:D,CLASS_REFERENCE:G},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),J,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,x,w,E,N,I,{match:/\$\d+/},g,G,{scope:"attr",match:r+t.lookahead(":"),relevance:0},ee,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:Y,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:D}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},K,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},de,ie,te,P,{match:/\$[(.]/}]}}function XC(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],a={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Ns="[0-9](_*[0-9])*",Nu=`\\.(${Ns})`,Tu="[0-9a-fA-F](_*[0-9a-fA-F])*",ZC={className:"number",variants:[{begin:`(\\b(${Ns})((${Nu})|\\.)?|(${Nu}))[eE][+-]?(${Ns})[fFdD]?\\b`},{begin:`\\b(${Ns})((${Nu})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Nu})[fFdD]?\\b`},{begin:`\\b(${Ns})[fFdD]\\b`},{begin:`\\b0[xX]((${Tu})\\.?|(${Tu})?\\.(${Tu}))[pP][+-]?(${Ns})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Tu})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function QC(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},a={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},l={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,a]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,a]}]};a.contains.push(l);const c={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},d={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(l,{className:"string"}),"self"]}]},f=ZC,h=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),g={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},v=g;return v.variants[1].contains=[g],g.variants[1].contains=[v],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,h,n,r,c,d,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[g,e.C_LINE_COMMENT_MODE,h],relevance:0},e.C_LINE_COMMENT_MODE,h,c,d,l,e.C_NUMBER_MODE]},h]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},c,d]},l,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},f]}}const JC=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),e_=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],t_=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],n_=[...e_,...t_],r_=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),pv=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),gv=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),i_=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),a_=pv.concat(gv).sort().reverse();function s_(e){const t=JC(e),n=a_,r="and or not only",a="[\\w-]+",s="("+a+"|@\\{"+a+"\\})",l=[],c=[],d=function(L){return{className:"string",begin:"~?"+L+".*?"+L}},f=function(L,B,D){return{className:L,begin:B,relevance:D}},h={$pattern:/[a-z-]+/,keyword:r,attribute:r_.join(" ")},g={begin:"\\(",end:"\\)",contains:c,keywords:h,relevance:0};c.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,d("'"),d('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,g,f("variable","@@?"+a,10),f("variable","@\\{"+a+"\\}"),f("built_in","~?`[^`]*?`"),{className:"attribute",begin:a+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const v=c.concat({begin:/\{/,end:/\}/,contains:l}),x={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(c)},w={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+i_.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:c}}]},E={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:h,returnEnd:!0,contains:c,relevance:0}},N={className:"variable",variants:[{begin:"@"+a+"\\s*:",relevance:15},{begin:"@"+a}],starts:{end:"[;}]",returnEnd:!0,contains:v}},T={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,x,f("keyword","all\\b"),f("variable","@\\{"+a+"\\}"),{begin:"\\b("+n_.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,f("selector-tag",s,0),f("selector-id","#"+s),f("selector-class","\\."+s,0),f("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+pv.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+gv.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:v},{begin:"!important"},t.FUNCTION_DISPATCH]},I={begin:a+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[T]};return l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,E,N,I,w,T,x,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:l}}function o_(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},a=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function l_(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},a={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},l={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,a,s,l]}}function u_(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},l={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,d={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},f={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},h={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},g=e.inherit(f,{contains:[]}),v=e.inherit(h,{contains:[]});f.contains.push(v),h.contains.push(g);let x=[n,d];return[f,h,g,v].forEach(T=>{T.contains=T.contains.concat(x)}),x=x.concat(f,h),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:x},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:x}]}]},n,s,f,h,{className:"quote",begin:"^>\\s+",contains:x,end:"$"},a,r,d,l,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function c_(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,c={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},d={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:c,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+d.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:d,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function d_(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,a={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:a},l={begin:/->\{/,end:/\}/},c={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},d={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[c]},f={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},h=[e.BACKSLASH_ESCAPE,s,d],g=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],v=(E,N,T="\\1")=>{const I=T==="\\1"?T:t.concat(T,N);return t.concat(t.concat("(?:",E,")"),N,/(?:\\.|[^\\\/])*?/,I,/(?:\\.|[^\\\/])*?/,T,r)},x=(E,N,T)=>t.concat(t.concat("(?:",E,")"),N,/(?:\\.|[^\\\/])*?/,T,r),w=[d,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),l,{className:"string",contains:h,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},f,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:v("s|tr|y",t.either(...g,{capture:!0}))},{begin:v("s|tr|y","\\(","\\)")},{begin:v("s|tr|y","\\[","\\]")},{begin:v("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:x("(?:m|qr)?",/\//,/\//)},{begin:x("m|qr",t.either(...g,{capture:!0}),/\1/)},{begin:x("m|qr",/\(/,/\)/)},{begin:x("m|qr",/\[/,/\]/)},{begin:x("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,c]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,c,f]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=w,l.contains=w,{name:"Perl",aliases:["pl","pm"],keywords:a,contains:w}}function m_(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),a=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=t.concat(/[A-Z]+/,n),l={scope:"variable",match:"\\$+"+r},c={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},d={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},f=e.inherit(e.APOS_STRING_MODE,{illegal:null}),h=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(d)}),g={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(d),"on:begin":(K,P)=>{P.data._beginMatch=K[1]||K[2]},"on:end":(K,P)=>{P.data._beginMatch!==K[1]&&P.ignoreMatch()}},v=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),x=`[ 	
]`,w={scope:"string",variants:[h,f,g,v]},E={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},N=["false","null","true"],T=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],I=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],B={keyword:T,literal:(K=>{const P=[];return K.forEach(Y=>{P.push(Y),Y.toLowerCase()===Y?P.push(Y.toUpperCase()):P.push(Y.toLowerCase())}),P})(N),built_in:I},D=K=>K.map(P=>P.replace(/\|\d+$/,"")),O={variants:[{match:[/new/,t.concat(x,"+"),t.concat("(?!",D(I).join("\\b|"),"\\b)"),a],scope:{1:"keyword",4:"title.class"}}]},te=t.concat(r,"\\b(?!\\()"),G={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),te],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[a,t.concat(/::/,t.lookahead(/(?!class\b)/)),te],scope:{1:"title.class",3:"variable.constant"}},{match:[a,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[a,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},J={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},z={relevance:0,begin:/\(/,end:/\)/,keywords:B,contains:[J,l,G,e.C_BLOCK_COMMENT_MODE,w,E,O]},ie={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",D(T).join("\\b|"),"|",D(I).join("\\b|"),"\\b)"),r,t.concat(x,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[z]};z.contains.push(ie);const se=[J,G,e.C_BLOCK_COMMENT_MODE,w,E,O],de={begin:t.concat(/#\[\s*\\?/,t.either(a,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:N,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:N,keyword:["new","array"]},contains:["self",...se]},...se,{scope:"meta",variants:[{match:a},{match:s}]}]};return{case_insensitive:!1,keywords:B,contains:[de,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},c,{scope:"variable.language",match:/\$this\b/},l,ie,G,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},O,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:B,contains:["self",de,l,G,e.C_BLOCK_COMMENT_MODE,w,E]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},w,E]}}function f_(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function h_(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function p_(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],c={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},d={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:c,illegal:/#/},h={begin:/\{\{/,relevance:0},g={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,d,h,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,d,h,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,h,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,h,f]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},v="[0-9](_?[0-9])*",x=`(\\b(${v}))?\\.(${v})|\\b(${v})\\.`,w=`\\b|${r.join("|")}`,E={className:"number",relevance:0,variants:[{begin:`(\\b(${v})|(${x}))[eE][+-]?(${v})[jJ]?(?=${w})`},{begin:`(${x})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${w})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${w})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${w})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${w})`},{begin:`\\b(${v})[jJ](?=${w})`}]},N={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:c,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},T={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:["self",d,E,g,e.HASH_COMMENT_MODE]}]};return f.contains=[g,E,d],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:c,illegal:/(<\/|\?)|=>/,contains:[d,E,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},g,N,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[T]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[E,T,g]}]}}function g_(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function x_(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),a=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[a,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:a},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function b_(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),a=t.concat(r,/(::\w+)*/),l={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},c={className:"doctag",begin:"@[A-Za-z]+"},d={begin:"#<",end:">"},f=[e.COMMENT("#","$",{contains:[c]}),e.COMMENT("^=begin","^=end",{contains:[c],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],h={className:"subst",begin:/#\{/,end:/\}/,keywords:l},g={className:"string",contains:[e.BACKSLASH_ESCAPE,h],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,h]})]}]},v="[1-9](_?[0-9])*|0",x="[0-9](_?[0-9])*",w={className:"number",relevance:0,variants:[{begin:`\\b(${v})(\\.(${x}))?([eE][+-]?(${x})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},E={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:l}]},O=[g,{variants:[{match:[/class\s+/,a,/\s+<\s+/,a]},{match:[/\b(class|module)\s+/,a]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:l},{match:[/(include|extend)\s+/,a],scope:{2:"title.class"},keywords:l},{relevance:0,match:[a,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[E]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[g,{begin:n}],relevance:0},w,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:l},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,h],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(d,f),relevance:0}].concat(d,f);h.contains=O,E.contains=O;const z=[{begin:/^\s*=>/,starts:{end:"$",contains:O}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:l,contains:O}}];return f.unshift(d),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:l,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(z).concat(f).concat(O)}}function v_(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),a=t.concat(n,e.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,a,t.lookahead(/\s*\(/))},l="([ui](8|16|32|64|128|size)|f(32|64))?",c=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],d=["true","false","Some","None","Ok","Err"],f=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],h=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:h,keyword:c,literal:d,built_in:f},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+l},{begin:"\\b0o([0-7_]+)"+l},{begin:"\\b0x([A-Fa-f0-9_]+)"+l},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+l}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:f,type:h}},{className:"punctuation",begin:"->"},s]}}const y_=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),k_=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],w_=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],S_=[...k_,...w_],E_=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),N_=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),T_=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),C_=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function __(e){const t=y_(e),n=T_,r=N_,a="@[a-z-]+",s="and or not only",c={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+S_.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},c,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+C_.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,c,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:a,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:E_.join(" ")},contains:[{begin:a,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},c,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function M_(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function A_(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],l=["double precision","large object","with timezone","without timezone"],c=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],d=["add","asc","collation","desc","final","first","last","view"],f=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],h=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],g=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],v=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],x=h,w=[...f,...d].filter(D=>!h.includes(D)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},N={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},T={match:t.concat(/\b/,t.either(...x),/\s*\(/),relevance:0,keywords:{built_in:x}};function I(D){return t.concat(/\b/,t.either(...D.map(O=>O.replace(/\s+/,"\\s+"))),/\b/)}const L={scope:"keyword",match:I(v),relevance:0};function B(D,{exceptions:O,when:te}={}){const G=te;return O=O||[],D.map(J=>J.match(/\|\d+$/)||O.includes(J)?J:G(J)?`${J}|0`:J)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:B(w,{when:D=>D.length<3}),literal:s,type:c,built_in:g},contains:[{scope:"type",match:I(l)},L,T,E,r,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,N]}}function xv(e){return e?typeof e=="string"?e:e.source:null}function So(e){return St("(?=",e,")")}function St(...e){return e.map(n=>xv(n)).join("")}function I_(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Un(...e){return"("+(I_(e).capture?"":"?:")+e.map(r=>xv(r)).join("|")+")"}const Xf=e=>St(/\b/,e,/\w$/.test(e)?/\b/:/\B/),j_=["Protocol","Type"].map(Xf),O2=["init","self"].map(Xf),R_=["Any","Self"],im=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],D2=["false","nil","true"],L_=["assignment","associativity","higherThan","left","lowerThan","none","right"],O_=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],z2=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],bv=Un(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),vv=Un(bv,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),am=St(bv,vv,"*"),yv=Un(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Qu=Un(yv,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Zr=St(yv,Qu,"*"),Cu=St(/[A-Z]/,Qu,"*"),D_=["attached","autoclosure",St(/convention\(/,Un("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",St(/objc\(/,Zr,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],z_=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function P_(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],a={match:[/\./,Un(...j_,...O2)],className:{2:"keyword"}},s={match:St(/\./,Un(...im)),relevance:0},l=im.filter(at=>typeof at=="string").concat(["_|0"]),c=im.filter(at=>typeof at!="string").concat(R_).map(Xf),d={variants:[{className:"keyword",match:Un(...c,...O2)}]},f={$pattern:Un(/\b\w+/,/#\w+/),keyword:l.concat(O_),literal:D2},h=[a,s,d],g={match:St(/\./,Un(...z2)),relevance:0},v={className:"built_in",match:St(/\b/,Un(...z2),/(?=\()/)},x=[g,v],w={match:/->/,relevance:0},E={className:"operator",relevance:0,variants:[{match:am},{match:`\\.(\\.|${vv})+`}]},N=[w,E],T="([0-9]_*)+",I="([0-9a-fA-F]_*)+",L={className:"number",relevance:0,variants:[{match:`\\b(${T})(\\.(${T}))?([eE][+-]?(${T}))?\\b`},{match:`\\b0x(${I})(\\.(${I}))?([pP][+-]?(${T}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},B=(at="")=>({className:"subst",variants:[{match:St(/\\/,at,/[0\\tnr"']/)},{match:St(/\\/,at,/u\{[0-9a-fA-F]{1,8}\}/)}]}),D=(at="")=>({className:"subst",match:St(/\\/,at,/[\t ]*(?:[\r\n]|\r\n)/)}),O=(at="")=>({className:"subst",label:"interpol",begin:St(/\\/,at,/\(/),end:/\)/}),te=(at="")=>({begin:St(at,/"""/),end:St(/"""/,at),contains:[B(at),D(at),O(at)]}),G=(at="")=>({begin:St(at,/"/),end:St(/"/,at),contains:[B(at),O(at)]}),J={className:"string",variants:[te(),te("#"),te("##"),te("###"),G(),G("#"),G("##"),G("###")]},z=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],ie={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:z},se=at=>{const We=St(at,/\//),Ct=St(/\//,at);return{begin:We,end:Ct,contains:[...z,{scope:"comment",begin:`#(?!.*${Ct})`,end:/$/}]}},de={scope:"regexp",variants:[se("###"),se("##"),se("#"),ie]},K={match:St(/`/,Zr,/`/)},P={className:"variable",match:/\$\d+/},Y={className:"variable",match:`\\$${Qu}+`},ee=[K,P,Y],W={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:z_,contains:[...N,L,J]}]}},Q={scope:"keyword",match:St(/@/,Un(...D_),So(Un(/\(/,/\s+/)))},A={scope:"meta",match:St(/@/,Zr)},H=[W,Q,A],ne={match:So(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:St(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Qu,"+")},{className:"type",match:Cu,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:St(/\s+&\s+/,So(Cu)),relevance:0}]},R={begin:/</,end:/>/,keywords:f,contains:[...r,...h,...H,w,ne]};ne.contains.push(R);const xe={match:St(Zr,/\s*:/),keywords:"_|0",relevance:0},Ae={begin:/\(/,end:/\)/,relevance:0,keywords:f,contains:["self",xe,...r,de,...h,...x,...N,L,J,...ee,...H,ne]},ce={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,ne]},fe={begin:Un(So(St(Zr,/\s*:/)),So(St(Zr,/\s+/,Zr,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Zr}]},Me={begin:/\(/,end:/\)/,keywords:f,contains:[fe,...r,...h,...N,L,J,...H,ne,Ae],endsParent:!0,illegal:/["']/},$e={match:[/(func|macro)/,/\s+/,Un(K.match,Zr,am)],className:{1:"keyword",3:"title.function"},contains:[ce,Me,t],illegal:[/\[/,/%/]},Qe={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ce,Me,t],illegal:/\[|%/},kt={match:[/operator/,/\s+/,am],className:{1:"keyword",3:"title"}},Kt={begin:[/precedencegroup/,/\s+/,Cu],className:{1:"keyword",3:"title"},contains:[ne],keywords:[...L_,...D2],end:/}/},cn={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},dn={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},wn={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Zr,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:f,contains:[ce,...h,{begin:/:/,end:/\{/,keywords:f,contains:[{scope:"title.class.inherited",match:Cu},...h],relevance:0}]};for(const at of J.variants){const We=at.contains.find(jt=>jt.label==="interpol");We.keywords=f;const Ct=[...h,...x,...N,L,J,...ee];We.contains=[...Ct,{begin:/\(/,end:/\)/,contains:["self",...Ct]}]}return{name:"Swift",keywords:f,contains:[...r,$e,Qe,cn,dn,wn,kt,Kt,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},de,...h,...x,...N,L,J,...ee,...H,ne,Ae]}}const Ju="[A-Za-z$_][0-9A-Za-z$_]*",kv=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],wv=["true","false","null","undefined","NaN","Infinity"],Sv=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ev=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Nv=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Tv=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Cv=[].concat(Nv,Sv,Ev);function B_(e){const t=e.regex,n=(W,{after:Q})=>{const A="</"+W[0].slice(1);return W.input.indexOf(A,Q)!==-1},r=Ju,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Q)=>{const A=W[0].length+W.index,H=W.input[A];if(H==="<"||H===","){Q.ignoreMatch();return}H===">"&&(n(W,{after:A})||Q.ignoreMatch());let ne;const R=W.input.substring(A);if(ne=R.match(/^\s*=/)){Q.ignoreMatch();return}if((ne=R.match(/^\s+extends\s+/))&&ne.index===0){Q.ignoreMatch();return}}},c={$pattern:Ju,keyword:kv,literal:wv,built_in:Cv,"variable.language":Tv},d="[0-9](_?[0-9])*",f=`\\.(${d})`,h="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${h})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${h})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},v={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},x={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"xml"}},w={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"graphql"}},N={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,v]},I={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},L=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,x,w,E,N,{match:/\$\d+/},g];v.contains=L.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(L)});const B=[].concat(I,v.contains),D=B.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(B)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:D},te={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},G={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Sv,...Ev]}},J={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},ie={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function se(W){return t.concat("(?!",W.join("|"),")")}const de={match:t.concat(/\b/,se([...Nv,"super","import"].map(W=>`${W}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},K={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},P={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},Y="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",ee={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(Y)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:D,CLASS_REFERENCE:G},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),J,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,x,w,E,N,I,{match:/\$\d+/},g,G,{scope:"attr",match:r+t.lookahead(":"),relevance:0},ee,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:Y,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:D}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},K,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},de,ie,te,P,{match:/\$[(.]/}]}}function F_(e){const t=e.regex,n=B_(e),r=Ju,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},l={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},c={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},d=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],f={$pattern:Ju,keyword:kv.concat(d),literal:wv,built_in:Cv.concat(a),"variable.language":Tv},h={className:"meta",begin:"@"+r},g=(E,N,T)=>{const I=E.contains.findIndex(L=>L.label===N);if(I===-1)throw new Error("can not find mode to replace");E.contains.splice(I,1,T)};Object.assign(n.keywords,f),n.exports.PARAMS_CONTAINS.push(h);const v=n.contains.find(E=>E.scope==="attr"),x=Object.assign({},v,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,v,x]),n.contains=n.contains.concat([h,s,l,x]),g(n,"shebang",e.SHEBANG()),g(n,"use_strict",c);const w=n.contains.find(E=>E.label==="func.def");return w.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function $_(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},a=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,l=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,c=/\d{1,2}(:\d{1,2}){1,2}/,d={className:"literal",variants:[{begin:t.concat(/# */,t.either(s,a),/ *#/)},{begin:t.concat(/# */,c,/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,t.either(s,a),/ +/,t.either(l,c),/ *#/)}]},f={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},h={className:"label",begin:/^\w+:/},g=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),v=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,d,f,h,g,v,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[v]}]}}function H_(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],a={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},l={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},c={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},d={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},f={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,l,a,e.QUOTE_STRING_MODE,d,f,c]}}function U_(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},l=e.inherit(s,{begin:/\(/,end:/\)/}),c=e.inherit(e.APOS_STRING_MODE,{className:"string"}),d=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,d,c,l,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,l,d,c]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[d]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:f}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function W_(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},l={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},c=e.inherit(l,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),v={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},x={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},w={begin:/\{/,end:/\}/,contains:[x],illegal:"\\n",relevance:0},E={begin:"\\[",end:"\\]",contains:[x],illegal:"\\n",relevance:0},N=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},v,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},w,E,s,l],T=[...N];return T.pop(),T.push(c),x.contains=T,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:N}}const q_={arduino:TC,bash:CC,c:_C,cpp:MC,csharp:AC,css:BC,diff:FC,go:$C,graphql:HC,ini:UC,java:WC,javascript:YC,json:XC,kotlin:QC,less:s_,lua:o_,makefile:l_,markdown:u_,objectivec:c_,perl:d_,php:m_,"php-template":f_,plaintext:h_,python:p_,"python-repl":g_,r:x_,ruby:b_,rust:v_,scss:__,shell:M_,sql:A_,swift:P_,typescript:F_,vbnet:$_,wasm:H_,xml:U_,yaml:W_};var sm,P2;function G_(){if(P2)return sm;P2=1;function e(q){return q instanceof Map?q.clear=q.delete=q.set=function(){throw new Error("map is read-only")}:q instanceof Set&&(q.add=q.clear=q.delete=function(){throw new Error("set is read-only")}),Object.freeze(q),Object.getOwnPropertyNames(q).forEach(me=>{const _e=q[me],nt=typeof _e;(nt==="object"||nt==="function")&&!Object.isFrozen(_e)&&e(_e)}),q}class t{constructor(me){me.data===void 0&&(me.data={}),this.data=me.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(q){return q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(q,...me){const _e=Object.create(null);for(const nt in q)_e[nt]=q[nt];return me.forEach(function(nt){for(const Rt in nt)_e[Rt]=nt[Rt]}),_e}const a="</span>",s=q=>!!q.scope,l=(q,{prefix:me})=>{if(q.startsWith("language:"))return q.replace("language:","language-");if(q.includes(".")){const _e=q.split(".");return[`${me}${_e.shift()}`,..._e.map((nt,Rt)=>`${nt}${"_".repeat(Rt+1)}`)].join(" ")}return`${me}${q}`};class c{constructor(me,_e){this.buffer="",this.classPrefix=_e.classPrefix,me.walk(this)}addText(me){this.buffer+=n(me)}openNode(me){if(!s(me))return;const _e=l(me.scope,{prefix:this.classPrefix});this.span(_e)}closeNode(me){s(me)&&(this.buffer+=a)}value(){return this.buffer}span(me){this.buffer+=`<span class="${me}">`}}const d=(q={})=>{const me={children:[]};return Object.assign(me,q),me};class f{constructor(){this.rootNode=d(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(me){this.top.children.push(me)}openNode(me){const _e=d({scope:me});this.add(_e),this.stack.push(_e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(me){return this.constructor._walk(me,this.rootNode)}static _walk(me,_e){return typeof _e=="string"?me.addText(_e):_e.children&&(me.openNode(_e),_e.children.forEach(nt=>this._walk(me,nt)),me.closeNode(_e)),me}static _collapse(me){typeof me!="string"&&me.children&&(me.children.every(_e=>typeof _e=="string")?me.children=[me.children.join("")]:me.children.forEach(_e=>{f._collapse(_e)}))}}class h extends f{constructor(me){super(),this.options=me}addText(me){me!==""&&this.add(me)}startScope(me){this.openNode(me)}endScope(){this.closeNode()}__addSublanguage(me,_e){const nt=me.root;_e&&(nt.scope=`language:${_e}`),this.add(nt)}toHTML(){return new c(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function g(q){return q?typeof q=="string"?q:q.source:null}function v(q){return E("(?=",q,")")}function x(q){return E("(?:",q,")*")}function w(q){return E("(?:",q,")?")}function E(...q){return q.map(_e=>g(_e)).join("")}function N(q){const me=q[q.length-1];return typeof me=="object"&&me.constructor===Object?(q.splice(q.length-1,1),me):{}}function T(...q){return"("+(N(q).capture?"":"?:")+q.map(nt=>g(nt)).join("|")+")"}function I(q){return new RegExp(q.toString()+"|").exec("").length-1}function L(q,me){const _e=q&&q.exec(me);return _e&&_e.index===0}const B=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function D(q,{joinWith:me}){let _e=0;return q.map(nt=>{_e+=1;const Rt=_e;let Dt=g(nt),De="";for(;Dt.length>0;){const Le=B.exec(Dt);if(!Le){De+=Dt;break}De+=Dt.substring(0,Le.index),Dt=Dt.substring(Le.index+Le[0].length),Le[0][0]==="\\"&&Le[1]?De+="\\"+String(Number(Le[1])+Rt):(De+=Le[0],Le[0]==="("&&_e++)}return De}).map(nt=>`(${nt})`).join(me)}const O=/\b\B/,te="[a-zA-Z]\\w*",G="[a-zA-Z_]\\w*",J="\\b\\d+(\\.\\d+)?",z="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ie="\\b(0b[01]+)",se="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",de=(q={})=>{const me=/^#![ ]*\//;return q.binary&&(q.begin=E(me,/.*\b/,q.binary,/\b.*/)),r({scope:"meta",begin:me,end:/$/,relevance:0,"on:begin":(_e,nt)=>{_e.index!==0&&nt.ignoreMatch()}},q)},K={begin:"\\\\[\\s\\S]",relevance:0},P={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[K]},Y={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[K]},ee={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},W=function(q,me,_e={}){const nt=r({scope:"comment",begin:q,end:me,contains:[]},_e);nt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Rt=T("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return nt.contains.push({begin:E(/[ ]+/,"(",Rt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),nt},Q=W("//","$"),A=W("/\\*","\\*/"),H=W("#","$"),ne={scope:"number",begin:J,relevance:0},R={scope:"number",begin:z,relevance:0},xe={scope:"number",begin:ie,relevance:0},Ae={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[K,{begin:/\[/,end:/\]/,relevance:0,contains:[K]}]},ce={scope:"title",begin:te,relevance:0},fe={scope:"title",begin:G,relevance:0},Me={begin:"\\.\\s*"+G,relevance:0};var Qe=Object.freeze({__proto__:null,APOS_STRING_MODE:P,BACKSLASH_ESCAPE:K,BINARY_NUMBER_MODE:xe,BINARY_NUMBER_RE:ie,COMMENT:W,C_BLOCK_COMMENT_MODE:A,C_LINE_COMMENT_MODE:Q,C_NUMBER_MODE:R,C_NUMBER_RE:z,END_SAME_AS_BEGIN:function(q){return Object.assign(q,{"on:begin":(me,_e)=>{_e.data._beginMatch=me[1]},"on:end":(me,_e)=>{_e.data._beginMatch!==me[1]&&_e.ignoreMatch()}})},HASH_COMMENT_MODE:H,IDENT_RE:te,MATCH_NOTHING_RE:O,METHOD_GUARD:Me,NUMBER_MODE:ne,NUMBER_RE:J,PHRASAL_WORDS_MODE:ee,QUOTE_STRING_MODE:Y,REGEXP_MODE:Ae,RE_STARTERS_RE:se,SHEBANG:de,TITLE_MODE:ce,UNDERSCORE_IDENT_RE:G,UNDERSCORE_TITLE_MODE:fe});function kt(q,me){q.input[q.index-1]==="."&&me.ignoreMatch()}function Kt(q,me){q.className!==void 0&&(q.scope=q.className,delete q.className)}function cn(q,me){me&&q.beginKeywords&&(q.begin="\\b("+q.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",q.__beforeBegin=kt,q.keywords=q.keywords||q.beginKeywords,delete q.beginKeywords,q.relevance===void 0&&(q.relevance=0))}function dn(q,me){Array.isArray(q.illegal)&&(q.illegal=T(...q.illegal))}function wn(q,me){if(q.match){if(q.begin||q.end)throw new Error("begin & end are not supported with match");q.begin=q.match,delete q.match}}function at(q,me){q.relevance===void 0&&(q.relevance=1)}const We=(q,me)=>{if(!q.beforeMatch)return;if(q.starts)throw new Error("beforeMatch cannot be used with starts");const _e=Object.assign({},q);Object.keys(q).forEach(nt=>{delete q[nt]}),q.keywords=_e.keywords,q.begin=E(_e.beforeMatch,v(_e.begin)),q.starts={relevance:0,contains:[Object.assign(_e,{endsParent:!0})]},q.relevance=0,delete _e.beforeMatch},Ct=["of","and","for","in","not","or","if","then","parent","list","value"],jt="keyword";function je(q,me,_e=jt){const nt=Object.create(null);return typeof q=="string"?Rt(_e,q.split(" ")):Array.isArray(q)?Rt(_e,q):Object.keys(q).forEach(function(Dt){Object.assign(nt,je(q[Dt],me,Dt))}),nt;function Rt(Dt,De){me&&(De=De.map(Le=>Le.toLowerCase())),De.forEach(function(Le){const Ve=Le.split("|");nt[Ve[0]]=[Dt,en(Ve[0],Ve[1])]})}}function en(q,me){return me?Number(me):tn(q)?0:1}function tn(q){return Ct.includes(q.toLowerCase())}const Ft={},$t=q=>{console.error(q)},gn=(q,...me)=>{console.log(`WARN: ${q}`,...me)},ue=(q,me)=>{Ft[`${q}/${me}`]||(console.log(`Deprecated as of ${q}. ${me}`),Ft[`${q}/${me}`]=!0)},ke=new Error;function be(q,me,{key:_e}){let nt=0;const Rt=q[_e],Dt={},De={};for(let Le=1;Le<=me.length;Le++)De[Le+nt]=Rt[Le],Dt[Le+nt]=!0,nt+=I(me[Le-1]);q[_e]=De,q[_e]._emit=Dt,q[_e]._multi=!0}function Je(q){if(Array.isArray(q.begin)){if(q.skip||q.excludeBegin||q.returnBegin)throw $t("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ke;if(typeof q.beginScope!="object"||q.beginScope===null)throw $t("beginScope must be object"),ke;be(q,q.begin,{key:"beginScope"}),q.begin=D(q.begin,{joinWith:""})}}function st(q){if(Array.isArray(q.end)){if(q.skip||q.excludeEnd||q.returnEnd)throw $t("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ke;if(typeof q.endScope!="object"||q.endScope===null)throw $t("endScope must be object"),ke;be(q,q.end,{key:"endScope"}),q.end=D(q.end,{joinWith:""})}}function Yt(q){q.scope&&typeof q.scope=="object"&&q.scope!==null&&(q.beginScope=q.scope,delete q.scope)}function jr(q){Yt(q),typeof q.beginScope=="string"&&(q.beginScope={_wrap:q.beginScope}),typeof q.endScope=="string"&&(q.endScope={_wrap:q.endScope}),Je(q),st(q)}function Vn(q){function me(De,Le){return new RegExp(g(De),"m"+(q.case_insensitive?"i":"")+(q.unicodeRegex?"u":"")+(Le?"g":""))}class _e{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Le,Ve){Ve.position=this.position++,this.matchIndexes[this.matchAt]=Ve,this.regexes.push([Ve,Le]),this.matchAt+=I(Le)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Le=this.regexes.map(Ve=>Ve[1]);this.matcherRe=me(D(Le,{joinWith:"|"}),!0),this.lastIndex=0}exec(Le){this.matcherRe.lastIndex=this.lastIndex;const Ve=this.matcherRe.exec(Le);if(!Ve)return null;const mn=Ve.findIndex((Wr,Ii)=>Ii>0&&Wr!==void 0),_t=this.matchIndexes[mn];return Ve.splice(0,mn),Object.assign(Ve,_t)}}class nt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Le){if(this.multiRegexes[Le])return this.multiRegexes[Le];const Ve=new _e;return this.rules.slice(Le).forEach(([mn,_t])=>Ve.addRule(mn,_t)),Ve.compile(),this.multiRegexes[Le]=Ve,Ve}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Le,Ve){this.rules.push([Le,Ve]),Ve.type==="begin"&&this.count++}exec(Le){const Ve=this.getMatcher(this.regexIndex);Ve.lastIndex=this.lastIndex;let mn=Ve.exec(Le);if(this.resumingScanAtSamePosition()&&!(mn&&mn.index===this.lastIndex)){const _t=this.getMatcher(0);_t.lastIndex=this.lastIndex+1,mn=_t.exec(Le)}return mn&&(this.regexIndex+=mn.position+1,this.regexIndex===this.count&&this.considerAll()),mn}}function Rt(De){const Le=new nt;return De.contains.forEach(Ve=>Le.addRule(Ve.begin,{rule:Ve,type:"begin"})),De.terminatorEnd&&Le.addRule(De.terminatorEnd,{type:"end"}),De.illegal&&Le.addRule(De.illegal,{type:"illegal"}),Le}function Dt(De,Le){const Ve=De;if(De.isCompiled)return Ve;[Kt,wn,jr,We].forEach(_t=>_t(De,Le)),q.compilerExtensions.forEach(_t=>_t(De,Le)),De.__beforeBegin=null,[cn,dn,at].forEach(_t=>_t(De,Le)),De.isCompiled=!0;let mn=null;return typeof De.keywords=="object"&&De.keywords.$pattern&&(De.keywords=Object.assign({},De.keywords),mn=De.keywords.$pattern,delete De.keywords.$pattern),mn=mn||/\w+/,De.keywords&&(De.keywords=je(De.keywords,q.case_insensitive)),Ve.keywordPatternRe=me(mn,!0),Le&&(De.begin||(De.begin=/\B|\b/),Ve.beginRe=me(Ve.begin),!De.end&&!De.endsWithParent&&(De.end=/\B|\b/),De.end&&(Ve.endRe=me(Ve.end)),Ve.terminatorEnd=g(Ve.end)||"",De.endsWithParent&&Le.terminatorEnd&&(Ve.terminatorEnd+=(De.end?"|":"")+Le.terminatorEnd)),De.illegal&&(Ve.illegalRe=me(De.illegal)),De.contains||(De.contains=[]),De.contains=[].concat(...De.contains.map(function(_t){return oi(_t==="self"?De:_t)})),De.contains.forEach(function(_t){Dt(_t,Ve)}),De.starts&&Dt(De.starts,Le),Ve.matcher=Rt(Ve),Ve}if(q.compilerExtensions||(q.compilerExtensions=[]),q.contains&&q.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return q.classNameAliases=r(q.classNameAliases||{}),Dt(q)}function Rr(q){return q?q.endsWithParent||Rr(q.starts):!1}function oi(q){return q.variants&&!q.cachedVariants&&(q.cachedVariants=q.variants.map(function(me){return r(q,{variants:null},me)})),q.cachedVariants?q.cachedVariants:Rr(q)?r(q,{starts:q.starts?r(q.starts):null}):Object.isFrozen(q)?r(q):q}var xn="11.11.1";class br extends Error{constructor(me,_e){super(me),this.name="HTMLInjectionError",this.html=_e}}const _n=n,Ha=r,Ua=Symbol("nomatch"),Ai=7,li=function(q){const me=Object.create(null),_e=Object.create(null),nt=[];let Rt=!0;const Dt="Could not find the language '{}', did you forget to load/include a language module?",De={disableAutodetect:!0,name:"Plain text",contains:[]};let Le={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:h};function Ve(Ee){return Le.noHighlightRe.test(Ee)}function mn(Ee){let qe=Ee.className+" ";qe+=Ee.parentNode?Ee.parentNode.className:"";const ut=Le.languageDetectRe.exec(qe);if(ut){const ft=Lr(ut[1]);return ft||(gn(Dt.replace("{}",ut[1])),gn("Falling back to no-highlight mode for this block.",Ee)),ft?ut[1]:"no-highlight"}return qe.split(/\s+/).find(ft=>Ve(ft)||Lr(ft))}function _t(Ee,qe,ut){let ft="",nn="";typeof qe=="object"?(ft=Ee,ut=qe.ignoreIllegals,nn=qe.language):(ue("10.7.0","highlight(lang, code, ...args) has been deprecated."),ue("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),nn=Ee,ft=qe),ut===void 0&&(ut=!0);const Ut={code:ft,language:nn};ma("before:highlight",Ut);const qr=Ut.result?Ut.result:Wr(Ut.language,Ut.code,ut);return qr.code=Ut.code,ma("after:highlight",qr),qr}function Wr(Ee,qe,ut,ft){const nn=Object.create(null);function Ut(Ce,ze){return Ce.keywords[ze]}function qr(){if(!it.keywords){rn.addText(wt);return}let Ce=0;it.keywordPatternRe.lastIndex=0;let ze=it.keywordPatternRe.exec(wt),et="";for(;ze;){et+=wt.substring(Ce,ze.index);const pt=vr.case_insensitive?ze[0].toLowerCase():ze[0],Xt=Ut(it,pt);if(Xt){const[Sn,Lc]=Xt;if(rn.addText(et),et="",nn[pt]=(nn[pt]||0)+1,nn[pt]<=Ai&&(pa+=Lc),Sn.startsWith("_"))et+=ze[0];else{const el=vr.classNameAliases[Sn]||Sn;Bn(ze[0],el)}}else et+=ze[0];Ce=it.keywordPatternRe.lastIndex,ze=it.keywordPatternRe.exec(wt)}et+=wt.substring(Ce),rn.addText(et)}function Ga(){if(wt==="")return;let Ce=null;if(typeof it.subLanguage=="string"){if(!me[it.subLanguage]){rn.addText(wt);return}Ce=Wr(it.subLanguage,wt,!0,$s[it.subLanguage]),$s[it.subLanguage]=Ce._top}else Ce=da(wt,it.subLanguage.length?it.subLanguage:null);it.relevance>0&&(pa+=Ce.relevance),rn.__addSublanguage(Ce._emitter,Ce.language)}function Pn(){it.subLanguage!=null?Ga():qr(),wt=""}function Bn(Ce,ze){Ce!==""&&(rn.startScope(ze),rn.addText(Ce),rn.endScope())}function fa(Ce,ze){let et=1;const pt=ze.length-1;for(;et<=pt;){if(!Ce._emit[et]){et++;continue}const Xt=vr.classNameAliases[Ce[et]]||Ce[et],Sn=ze[et];Xt?Bn(Sn,Xt):(wt=Sn,qr(),wt=""),et++}}function ji(Ce,ze){return Ce.scope&&typeof Ce.scope=="string"&&rn.openNode(vr.classNameAliases[Ce.scope]||Ce.scope),Ce.beginScope&&(Ce.beginScope._wrap?(Bn(wt,vr.classNameAliases[Ce.beginScope._wrap]||Ce.beginScope._wrap),wt=""):Ce.beginScope._multi&&(fa(Ce.beginScope,ze),wt="")),it=Object.create(Ce,{parent:{value:it}}),it}function ha(Ce,ze,et){let pt=L(Ce.endRe,et);if(pt){if(Ce["on:end"]){const Xt=new t(Ce);Ce["on:end"](ze,Xt),Xt.isMatchIgnored&&(pt=!1)}if(pt){for(;Ce.endsParent&&Ce.parent;)Ce=Ce.parent;return Ce}}if(Ce.endsWithParent)return ha(Ce.parent,ze,et)}function jc(Ce){return it.matcher.regexIndex===0?(wt+=Ce[0],1):(Oi=!0,0)}function Rc(Ce){const ze=Ce[0],et=Ce.rule,pt=new t(et),Xt=[et.__beforeBegin,et["on:begin"]];for(const Sn of Xt)if(Sn&&(Sn(Ce,pt),pt.isMatchIgnored))return jc(ze);return et.skip?wt+=ze:(et.excludeBegin&&(wt+=ze),Pn(),!et.returnBegin&&!et.excludeBegin&&(wt=ze)),ji(et,Ce),et.returnBegin?0:ze.length}function Bs(Ce){const ze=Ce[0],et=qe.substring(Ce.index),pt=ha(it,Ce,et);if(!pt)return Ua;const Xt=it;it.endScope&&it.endScope._wrap?(Pn(),Bn(ze,it.endScope._wrap)):it.endScope&&it.endScope._multi?(Pn(),fa(it.endScope,Ce)):Xt.skip?wt+=ze:(Xt.returnEnd||Xt.excludeEnd||(wt+=ze),Pn(),Xt.excludeEnd&&(wt=ze));do it.scope&&rn.closeNode(),!it.skip&&!it.subLanguage&&(pa+=it.relevance),it=it.parent;while(it!==pt.parent);return pt.starts&&ji(pt.starts,Ce),Xt.returnEnd?0:ze.length}function Jo(){const Ce=[];for(let ze=it;ze!==vr;ze=ze.parent)ze.scope&&Ce.unshift(ze.scope);Ce.forEach(ze=>rn.openNode(ze))}let Ri={};function Li(Ce,ze){const et=ze&&ze[0];if(wt+=Ce,et==null)return Pn(),0;if(Ri.type==="begin"&&ze.type==="end"&&Ri.index===ze.index&&et===""){if(wt+=qe.slice(ze.index,ze.index+1),!Rt){const pt=new Error(`0 width match regex (${Ee})`);throw pt.languageName=Ee,pt.badRule=Ri.rule,pt}return 1}if(Ri=ze,ze.type==="begin")return Rc(ze);if(ze.type==="illegal"&&!ut){const pt=new Error('Illegal lexeme "'+et+'" for mode "'+(it.scope||"<unnamed>")+'"');throw pt.mode=it,pt}else if(ze.type==="end"){const pt=Bs(ze);if(pt!==Ua)return pt}if(ze.type==="illegal"&&et==="")return wt+=`
`,1;if(ga>1e5&&ga>ze.index*3)throw new Error("potential infinite loop, way more iterations than matches");return wt+=et,et.length}const vr=Lr(Ee);if(!vr)throw $t(Dt.replace("{}",Ee)),new Error('Unknown language: "'+Ee+'"');const Fs=Vn(vr);let gt="",it=ft||Fs;const $s={},rn=new Le.__emitter(Le);Jo();let wt="",pa=0,Gr=0,ga=0,Oi=!1;try{if(vr.__emitTokens)vr.__emitTokens(qe,rn);else{for(it.matcher.considerAll();;){ga++,Oi?Oi=!1:it.matcher.considerAll(),it.matcher.lastIndex=Gr;const Ce=it.matcher.exec(qe);if(!Ce)break;const ze=qe.substring(Gr,Ce.index),et=Li(ze,Ce);Gr=Ce.index+et}Li(qe.substring(Gr))}return rn.finalize(),gt=rn.toHTML(),{language:Ee,value:gt,relevance:pa,illegal:!1,_emitter:rn,_top:it}}catch(Ce){if(Ce.message&&Ce.message.includes("Illegal"))return{language:Ee,value:_n(qe),illegal:!0,relevance:0,_illegalBy:{message:Ce.message,index:Gr,context:qe.slice(Gr-100,Gr+100),mode:Ce.mode,resultSoFar:gt},_emitter:rn};if(Rt)return{language:Ee,value:_n(qe),illegal:!1,relevance:0,errorRaised:Ce,_emitter:rn,_top:it};throw Ce}}function Ii(Ee){const qe={value:_n(Ee),illegal:!1,relevance:0,_top:De,_emitter:new Le.__emitter(Le)};return qe._emitter.addText(Ee),qe}function da(Ee,qe){qe=qe||Le.languages||Object.keys(me);const ut=Ii(Ee),ft=qe.filter(Lr).filter(Qo).map(Pn=>Wr(Pn,Ee,!1));ft.unshift(ut);const nn=ft.sort((Pn,Bn)=>{if(Pn.relevance!==Bn.relevance)return Bn.relevance-Pn.relevance;if(Pn.language&&Bn.language){if(Lr(Pn.language).supersetOf===Bn.language)return 1;if(Lr(Bn.language).supersetOf===Pn.language)return-1}return 0}),[Ut,qr]=nn,Ga=Ut;return Ga.secondBest=qr,Ga}function Mc(Ee,qe,ut){const ft=qe&&_e[qe]||ut;Ee.classList.add("hljs"),Ee.classList.add(`language-${ft}`)}function Ds(Ee){let qe=null;const ut=mn(Ee);if(Ve(ut))return;if(ma("before:highlightElement",{el:Ee,language:ut}),Ee.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",Ee);return}if(Ee.children.length>0&&(Le.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(Ee)),Le.throwUnescapedHTML))throw new br("One of your code blocks includes unescaped HTML.",Ee.innerHTML);qe=Ee;const ft=qe.textContent,nn=ut?_t(ft,{language:ut,ignoreIllegals:!0}):da(ft);Ee.innerHTML=nn.value,Ee.dataset.highlighted="yes",Mc(Ee,ut,nn.language),Ee.result={language:nn.language,re:nn.relevance,relevance:nn.relevance},nn.secondBest&&(Ee.secondBest={language:nn.secondBest.language,relevance:nn.secondBest.relevance}),ma("after:highlightElement",{el:Ee,result:nn,text:ft})}function Ac(Ee){Le=Ha(Le,Ee)}const ci=()=>{Wa(),ue("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Vo(){Wa(),ue("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let zs=!1;function Wa(){function Ee(){Wa()}if(document.readyState==="loading"){zs||window.addEventListener("DOMContentLoaded",Ee,!1),zs=!0;return}document.querySelectorAll(Le.cssSelector).forEach(Ds)}function Ko(Ee,qe){let ut=null;try{ut=qe(q)}catch(ft){if($t("Language definition for '{}' could not be registered.".replace("{}",Ee)),Rt)$t(ft);else throw ft;ut=De}ut.name||(ut.name=Ee),me[Ee]=ut,ut.rawDefinition=qe.bind(null,q),ut.aliases&&Zo(ut.aliases,{languageName:Ee})}function Yo(Ee){delete me[Ee];for(const qe of Object.keys(_e))_e[qe]===Ee&&delete _e[qe]}function Xo(){return Object.keys(me)}function Lr(Ee){return Ee=(Ee||"").toLowerCase(),me[Ee]||me[_e[Ee]]}function Zo(Ee,{languageName:qe}){typeof Ee=="string"&&(Ee=[Ee]),Ee.forEach(ut=>{_e[ut.toLowerCase()]=qe})}function Qo(Ee){const qe=Lr(Ee);return qe&&!qe.disableAutodetect}function Ht(Ee){Ee["before:highlightBlock"]&&!Ee["before:highlightElement"]&&(Ee["before:highlightElement"]=qe=>{Ee["before:highlightBlock"](Object.assign({block:qe.el},qe))}),Ee["after:highlightBlock"]&&!Ee["after:highlightElement"]&&(Ee["after:highlightElement"]=qe=>{Ee["after:highlightBlock"](Object.assign({block:qe.el},qe))})}function Ic(Ee){Ht(Ee),nt.push(Ee)}function Ps(Ee){const qe=nt.indexOf(Ee);qe!==-1&&nt.splice(qe,1)}function ma(Ee,qe){const ut=Ee;nt.forEach(function(ft){ft[ut]&&ft[ut](qe)})}function qa(Ee){return ue("10.7.0","highlightBlock will be removed entirely in v12.0"),ue("10.7.0","Please use highlightElement now."),Ds(Ee)}Object.assign(q,{highlight:_t,highlightAuto:da,highlightAll:Wa,highlightElement:Ds,highlightBlock:qa,configure:Ac,initHighlighting:ci,initHighlightingOnLoad:Vo,registerLanguage:Ko,unregisterLanguage:Yo,listLanguages:Xo,getLanguage:Lr,registerAliases:Zo,autoDetection:Qo,inherit:Ha,addPlugin:Ic,removePlugin:Ps}),q.debugMode=function(){Rt=!1},q.safeMode=function(){Rt=!0},q.versionString=xn,q.regex={concat:E,lookahead:v,either:T,optional:w,anyNumberOfTimes:x};for(const Ee in Qe)typeof Qe[Ee]=="object"&&e(Qe[Ee]);return Object.assign(q,Qe),q},ui=li({});return ui.newInstance=()=>li({}),sm=ui,ui.HighlightJS=ui,ui.default=ui,sm}var V_=G_();const K_=rc(V_),B2={},Y_="hljs-";function X_(e){const t=K_.newInstance();return e&&s(e),{highlight:n,highlightAuto:r,listLanguages:a,register:s,registerAlias:l,registered:c};function n(d,f,h){const g=h||B2,v=typeof g.prefix=="string"?g.prefix:Y_;if(!t.getLanguage(d))throw new Error("Unknown language: `"+d+"` is not registered");t.configure({__emitter:Z_,classPrefix:v});const x=t.highlight(f,{ignoreIllegals:!0,language:d});if(x.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:x.errorRaised});const w=x._emitter.root,E=w.data;return E.language=x.language,E.relevance=x.relevance,w}function r(d,f){const g=(f||B2).subset||a();let v=-1,x=0,w;for(;++v<g.length;){const E=g[v];if(!t.getLanguage(E))continue;const N=n(E,d,f);N.data&&N.data.relevance!==void 0&&N.data.relevance>x&&(x=N.data.relevance,w=N)}return w||{type:"root",children:[],data:{language:void 0,relevance:x}}}function a(){return t.listLanguages()}function s(d,f){if(typeof d=="string")t.registerLanguage(d,f);else{let h;for(h in d)Object.hasOwn(d,h)&&t.registerLanguage(h,d[h])}}function l(d,f){if(typeof d=="string")t.registerAliases(typeof f=="string"?f:[...f],{languageName:d});else{let h;for(h in d)if(Object.hasOwn(d,h)){const g=d[h];t.registerAliases(typeof g=="string"?g:[...g],{languageName:h})}}}function c(d){return!!t.getLanguage(d)}}class Z_{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],a=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:a}):r.children.push(...a)}openNode(t){const n=this,r=t.split(".").map(function(l,c){return c?l+"_".repeat(c):n.options.classPrefix+l}),a=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};a.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Q_={};function J_(e){const t=e||Q_,n=t.aliases,r=t.detect||!1,a=t.languages||q_,s=t.plainText,l=t.prefix,c=t.subset;let d="hljs";const f=X_(a);if(n&&f.registerAlias(n),l){const h=l.indexOf("-");d=h===-1?l:l.slice(0,h)}return function(h,g){vc(h,"element",function(v,x,w){if(v.tagName!=="code"||!w||w.type!=="element"||w.tagName!=="pre")return;const E=eM(v);if(E===!1||!E&&!r||E&&s&&s.includes(E))return;Array.isArray(v.properties.className)||(v.properties.className=[]),v.properties.className.includes(d)||v.properties.className.unshift(d);const N=ov(v,{whitespace:"pre"});let T;try{T=E?f.highlight(E,N,{prefix:l}):f.highlightAuto(N,{prefix:l,subset:c})}catch(I){const L=I;if(E&&/Unknown language/.test(L.message)){g.message("Cannot highlight as `"+E+"`, its not registered",{ancestors:[w,v],cause:L,place:v.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw L}!E&&T.data&&T.data.language&&v.properties.className.push("language-"+T.data.language),T.children.length>0&&(v.children=T.children)})}}function eM(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let r;for(;++n<t.length;){const a=String(t[n]);if(a==="no-highlight"||a==="nohighlight")return!1;!r&&a.slice(0,5)==="lang-"&&(r=a.slice(5)),!r&&a.slice(0,9)==="language-"&&(r=a.slice(9))}return r}const F2=/[#.]/g;function tM(e,t){const n=e||"",r={};let a=0,s,l;for(;a<n.length;){F2.lastIndex=a;const c=F2.exec(n),d=n.slice(a,c?c.index:n.length);d&&(s?s==="#"?r.id=d:Array.isArray(r.className)?r.className.push(d):r.className=[d]:l=d,a+=d.length),c&&(s=c[0],a++)}return{type:"element",tagName:l||t||"div",properties:r,children:[]}}function _v(e,t,n){const r=n?aM(n):void 0;function a(s,l,...c){let d;if(s==null){d={type:"root",children:[]};const f=l;c.unshift(f)}else{d=tM(s,t);const f=d.tagName.toLowerCase(),h=r?r.get(f):void 0;if(d.tagName=h||f,nM(l))c.unshift(l);else for(const[g,v]of Object.entries(l))rM(e,d.properties,g,v)}for(const f of c)Gm(d.children,f);return d.type==="element"&&d.tagName==="template"&&(d.content={type:"root",children:d.children},d.children=[]),d}return a}function nM(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const s=a;for(const l of s)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function rM(e,t,n,r){const a=u4(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?a.spaceSeparated?s=sg(r):a.commaSeparated?s=tg(r):a.commaOrSpaceSeparated?s=sg(tg(r).join(" ")):s=$2(a,a.property,r):Array.isArray(r)?s=[...r]:s=a.property==="style"?iM(r):String(r);if(Array.isArray(s)){const l=[];for(const c of s)l.push($2(a,a.property,c));s=l}a.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[a.property]=s}}function Gm(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Gm(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Gm(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function $2(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Lo(n)===Lo(t)))return!0}return n}function iM(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function aM(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const sM=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],oM=_v(c4,"div"),lM=_v(hc,"g",sM),om={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function uM(e,t){return Mv(e,{})||{type:"root",children:[]}}function Mv(e,t){const n=cM(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function cM(e,t){switch(e.nodeType){case 1:return hM(e,t);case 3:return mM(e);case 8:return fM(e);case 9:return H2(e,t);case 10:return dM();case 11:return H2(e,t);default:return}}function H2(e,t){return{type:"root",children:Av(e,t)}}function dM(){return{type:"doctype"}}function mM(e){return{type:"text",value:e.nodeValue||""}}function fM(e){return{type:"comment",value:e.nodeValue||""}}function hM(e,t){const n=e.namespaceURI,r=n===om.svg?lM:oM,a=n===om.html?e.tagName.toLowerCase():e.tagName,s=n===om.html&&a==="template"?e.content:e,l=e.getAttributeNames(),c={};let d=-1;for(;++d<l.length;)c[l[d]]=e.getAttribute(l[d])||"";return r(a,c,Av(s,t))}function Av(e,t){const n=e.childNodes,r=[];let a=-1;for(;++a<n.length;){const s=Mv(n[a],t);s!==void 0&&r.push(s)}return r}new DOMParser;function pM(e,t){const n=gM(e);return uM(n)}function gM(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const xM={},bM=[];function vM(e){const t=e||xM;return function(n,r){Ef(n,"element",function(a,s){const l=Array.isArray(a.properties.className)?a.properties.className:bM,c=l.includes("language-math"),d=l.includes("math-display"),f=l.includes("math-inline");let h=d;if(!c&&!d&&!f)return;let g=s[s.length-1],v=a;if(a.tagName==="code"&&c&&g&&g.type==="element"&&g.tagName==="pre"&&(v=g,g=s[s.length-2],h=!0),!g)return;const x=ov(v,{whitespace:"pre"});let w;try{w=C2.renderToString(x,{...t,displayMode:h,throwOnError:!0})}catch(N){const T=N,I=T.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...s,a],cause:T,place:a.position,ruleId:I,source:"rehype-katex"});try{w=C2.renderToString(x,{...t,displayMode:h,strict:"ignore",throwOnError:!1})}catch{w=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(N)},children:[{type:"text",value:x}]}]}}typeof w=="string"&&(w=pM(w).children);const E=g.children.indexOf(v);return g.children.splice(E,1,...w),z4})}}function yM(e){if(!e||typeof e!="string")return!1;const t=/<!doctype\s+html/i,n=/<html[\s>]/i;return t.test(e)||n.test(e)}function kM(e){const t=/<style[^>]*>[\s\S]*?<\/style>/gi,n=[];let r=e,a;for(;(a=t.exec(e))!==null;)n.push(a[0]);return r=e.replace(t,""),{styles:n,remaining:r}}function wM(e){if(yM(e))return e;const{styles:t,remaining:n}=kM(e);return`<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /*  */
    * { box-sizing: border-box; }
    body { 
      margin: 0; 
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
  </style>
  ${t.join(`
  `)}
</head>
<body>
${n}
</body>
</html>`}function SM({html:e,isOpen:t,onClose:n}){const r=C.useMemo(()=>wM(e),[e]),a=C.useCallback(s=>{s.key==="Escape"&&n()},[n]);return C.useEffect(()=>(t&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}),[t,a]),t?Ci.createPortal(u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:n,children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[12px]",style:{WebkitBackdropFilter:"blur(12px)"}}),u.jsxs("div",{className:"relative w-[80vw] h-[80vh] max-w-[1200px] max-h-[800px] bg-white dark:bg-slate-900 rounded-xl shadow-2xl overflow-hidden",onClick:s=>s.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-100 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(EM,{className:"w-5 h-5 text-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"HTML "})]}),u.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",title:" (ESC)",children:u.jsx(NM,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"w-full h-[calc(100%-52px)] bg-white",children:u.jsx("iframe",{srcDoc:r,sandbox:"allow-scripts allow-same-origin",className:"w-full h-full border-0",title:"HTML "})})]})]}),document.body):null}function EM({className:e}){return u.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}function NM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}const U2=15;function ec(e){var t;return typeof e=="string"?e:typeof e=="number"?String(e):Array.isArray(e)?e.map(ec).join(""):Ts.isValidElement(e)&&((t=e.props)!=null&&t.children)?ec(e.props.children):""}function Iv({content:e,className:t=""}){const[n,r]=C.useState(null),[a,s]=C.useState(!1),l=C.useCallback(h=>{r(h),s(!0)},[]),c=C.useCallback(()=>{s(!1),r(null)},[]),d=C.useMemo(()=>({...CM,code({className:h,children:g,node:v,...x}){if(!(h&&/language-\w+/.test(h)))return u.jsx("code",{className:"px-1.5 py-0.5 rounded-md bg-slate-100 dark:bg-slate-700/80 text-pink-600 dark:text-pink-400 text-sm font-mono border border-slate-200 dark:border-slate-600",...x,children:g});const N=/language-(\w+)/.exec(h||""),T=N?N[1]:"",I=(T==null?void 0:T.toLowerCase())==="html",L=ec(g).replace(/\n$/,"");return u.jsx(TM,{className:h,onPreview:I?()=>l(L):void 0,...x,children:g})}}),[l]),f=C.useMemo(()=>u.jsx(B4,{remarkPlugins:[cb,mC],rehypePlugins:[J_,vM],components:d,children:e}),[e,d]);return u.jsxs("div",{className:`markdown-content ${t}`,children:[f,a&&n&&u.jsx(SM,{html:n,isOpen:a,onClose:c})]})}function TM({children:e,className:t,onPreview:n,...r}){const[a,s]=C.useState(!1),[l,c]=C.useState(!1),d=/language-(\w+)/.exec(t||""),f=d?d[1]:"",h=(f==null?void 0:f.toLowerCase())==="html",g=ec(e).replace(/\n$/,""),v=g.split(`
`).length,x=v>U2&&!l,w=C.useCallback(async()=>{try{await navigator.clipboard.writeText(g),s(!0),setTimeout(()=>s(!1),2e3)}catch(N){console.error(":",N)}},[g]),E=C.useCallback(()=>{c(N=>!N)},[]);return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800 dark:bg-slate-900 border-b border-slate-700 dark:border-slate-600 rounded-t-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(AM,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-xs font-medium text-slate-300 uppercase tracking-wide",children:f||"code"}),u.jsxs("span",{className:"text-xs text-slate-500",children:[v," "]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[h&&n&&u.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 hover:text-blue-300 transition-all duration-200 text-xs font-medium",title:" HTML",children:[u.jsx(IM,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:""})]}),u.jsx("button",{onClick:w,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-md transition-all duration-200 text-xs font-medium ${a?"bg-green-600/20 text-green-400":"bg-slate-700/50 hover:bg-slate-600/50 text-slate-300 hover:text-white"}`,title:a?"":"",children:a?u.jsxs(u.Fragment,{children:[u.jsx(MM,{className:"w-3.5 h-3.5 animate-scale-in"}),u.jsx("span",{className:"animate-fade-in",children:""})]}):u.jsxs(u.Fragment,{children:[u.jsx(_M,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:""})]})})]})]}),u.jsxs("div",{className:`relative ${x?"max-h-[360px] overflow-hidden":""}`,children:[u.jsx("code",{className:t,...r,children:e}),x&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-slate-900 to-transparent flex items-end justify-center pb-2",children:u.jsxs("button",{onClick:E,className:"flex items-center gap-1.5 px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-slate-200 text-sm font-medium transition-colors shadow-lg",children:[u.jsx(jM,{className:"w-4 h-4"}),u.jsxs("span",{children:[" (",v," )"]})]})})]}),v>U2&&l&&u.jsx("div",{className:"flex justify-center py-2 bg-slate-800 dark:bg-slate-900 border-t border-slate-700 dark:border-slate-600 rounded-b-lg",children:u.jsxs("button",{onClick:E,className:"flex items-center gap-1.5 px-4 py-1.5 rounded-lg bg-slate-700 hover:bg-slate-600 text-slate-200 text-sm font-medium transition-colors",children:[u.jsx(RM,{className:"w-4 h-4"}),u.jsx("span",{children:""})]})})]})}const CM={pre({children:e,...t}){return u.jsx("pre",{className:"overflow-x-auto rounded-b-lg bg-slate-900 dark:bg-slate-950 p-4 my-0 text-sm [&:first-child]:rounded-t-lg [&:first-child]:mt-4",...t,children:e})},h1:({children:e,...t})=>u.jsx("h1",{className:"text-2xl font-bold mt-6 mb-4 pb-2 border-b border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100",...t,children:e}),h2:({children:e,...t})=>u.jsx("h2",{className:"text-xl font-bold mt-5 mb-3 pb-1 border-b border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100",...t,children:e}),h3:({children:e,...t})=>u.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2 text-slate-900 dark:text-slate-100",...t,children:e}),h4:({children:e,...t})=>u.jsx("h4",{className:"text-base font-semibold mt-3 mb-2 text-slate-900 dark:text-slate-100",...t,children:e}),h5:({children:e,...t})=>u.jsx("h5",{className:"text-sm font-semibold mt-3 mb-1 text-slate-900 dark:text-slate-100",...t,children:e}),h6:({children:e,...t})=>u.jsx("h6",{className:"text-sm font-medium mt-2 mb-1 text-slate-600 dark:text-slate-400",...t,children:e}),p:({children:e,...t})=>u.jsx("p",{className:"my-2 leading-7",...t,children:e}),ul:({children:e,...t})=>u.jsx("ul",{className:"list-disc pl-6 my-3 space-y-1 marker:text-slate-500 dark:marker:text-slate-400 [&_ul]:my-1 [&_ul]:pl-4 [&_ol]:my-1 [&_ol]:pl-4",...t,children:e}),ol:({children:e,...t})=>u.jsx("ol",{className:"list-decimal pl-6 my-3 space-y-1 marker:text-slate-500 dark:marker:text-slate-400 [&_ul]:my-1 [&_ul]:pl-4 [&_ol]:my-1 [&_ol]:pl-4",...t,children:e}),li:({children:e,...t})=>u.jsx("li",{className:"leading-7 text-slate-700 dark:text-slate-300 pl-1",...t,children:e}),a:({children:e,href:t,...n})=>u.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 underline",...n,children:e}),strong:({children:e,...t})=>u.jsx("strong",{className:"font-semibold text-slate-900 dark:text-slate-100",...t,children:e}),em:({children:e,...t})=>u.jsx("em",{className:"italic",...t,children:e}),blockquote:({children:e,...t})=>u.jsx("blockquote",{className:"border-l-4 border-blue-500 dark:border-blue-400 pl-4 pr-4 py-2 my-4 bg-slate-50 dark:bg-slate-800/50 rounded-r-lg italic text-slate-600 dark:text-slate-400",...t,children:e}),hr:e=>u.jsx("hr",{className:"my-6 border-slate-200 dark:border-slate-700",...e}),table:({children:e,...t})=>u.jsx("div",{className:"overflow-x-auto my-4 rounded-lg border border-slate-200 dark:border-slate-700",children:u.jsx("table",{className:"min-w-full border-collapse",...t,children:e})}),thead:({children:e,...t})=>u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800/80",...t,children:e}),tbody:({children:e,...t})=>u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900/50",...t,children:e}),tr:({children:e,...t})=>u.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",...t,children:e}),th:({children:e,...t})=>u.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100 border-b border-slate-200 dark:border-slate-700 first:rounded-tl-lg last:rounded-tr-lg",...t,children:e}),td:({children:e,...t})=>u.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 dark:text-slate-300",...t,children:e}),img:({src:e,alt:t,...n})=>u.jsx("img",{src:e,alt:t,className:"max-w-full h-auto rounded-lg my-4",loading:"lazy",...n})};function _M({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function MM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function AM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}function IM({className:e}){return u.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}function jM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function RM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}function LM(e){return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function OM({selectedBookmarkId:e,onNavigate:t,onDelete:n}){const{bookmarks:r}=fc(),a=e?r.find(c=>c.id===e):null,s=C.useCallback(()=>{a&&t(a)},[a,t]),l=C.useCallback(()=>{a&&n(a.messageId)},[a,n]);return a?u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-neutral-900",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(zM,{className:"w-6 h-6 text-primary-500"}),u.jsx("h2",{className:"text-xl font-semibold text-neutral-800 dark:text-neutral-200",children:""})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:s,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",title:"",children:[u.jsx(PM,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:l,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-neutral-600 dark:text-neutral-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",title:"",children:[u.jsx(BM,{className:"w-4 h-4"}),""]})]})]}),u.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-800/50",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("span",{className:`px-2.5 py-1 rounded-md text-sm font-medium ${a.messageRole==="user"?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400"}`,children:a.messageRole==="user"?"":"AI"}),u.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-neutral-600 dark:text-neutral-400",children:[u.jsx(FM,{className:"w-4 h-4"}),u.jsxs("span",{children:[": ",a.windowTitle]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-neutral-500 dark:text-neutral-500",children:[u.jsx($M,{className:"w-4 h-4"}),u.jsx("span",{children:LM(a.createdAt)})]})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 custom-scrollbar",children:u.jsx("div",{className:"prose prose-neutral dark:prose-invert max-w-none",children:u.jsx(Iv,{content:a.messagePreview})})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[u.jsx(DM,{className:"w-16 h-16 text-neutral-300 dark:text-neutral-600 mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:""}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-500 max-w-sm",children:""})]})}function DM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}function zM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}function PM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}function BM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function FM({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}function $M({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}const jv=C.createContext(null);function Zf(){const e=C.useContext(jv);if(!e)throw new Error("useSidebarView must be used within Layout");return e}function HM(e){return e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}function UM(){const[e,t]=C.useState(()=>typeof window<"u"?window.innerWidth<$u.md:!1);return C.useEffect(()=>{const n=()=>{t(window.innerWidth<$u.md)};return window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),e}const lm={threshold:50,edgeWidth:20,maxTime:300};function WM(e,t,n=!0){const r=C.useRef(null),a=C.useRef(null),s=C.useRef(null),l=C.useRef(!1),c=C.useCallback(f=>{if(!n)return;const h=f.touches[0];h&&(r.current=h.clientX,a.current=h.clientY,s.current=Date.now(),l.current=h.clientX<=lm.edgeWidth)},[n]),d=C.useCallback(f=>{if(!n||r.current===null||a.current===null)return;const h=f.changedTouches[0];if(!h)return;const g=h.clientX-r.current,v=h.clientY-a.current,x=Date.now()-(s.current||0),w=Math.abs(g)>Math.abs(v),E=Math.abs(g)>=lm.threshold&&x<=lm.maxTime;w&&E&&(g>0&&l.current?t():g<0&&e()),r.current=null,a.current=null,s.current=null,l.current=!1},[n,e,t]);C.useEffect(()=>{if(n)return document.addEventListener("touchstart",c,{passive:!0}),document.addEventListener("touchend",d,{passive:!0}),()=>{document.removeEventListener("touchstart",c),document.removeEventListener("touchend",d)}},[n,c,d])}function qM(e){switch(e){case"api":return u.jsx(E6,{});case"model":return u.jsx(N6,{});case"generation":return u.jsx(C6,{});case"system":return u.jsx(_6,{});case"safety":return u.jsx(I6,{});case"data":return u.jsx(j6,{});default:return null}}function GM({sidebar:e,children:t}){const{sidebarCollapsed:n,toggleSidebar:r,setSidebarCollapsed:a,theme:s,setTheme:l}=Jt(),{createWindow:c,selectWindow:d,selectSubTopic:f}=la(),{currentModel:h}=Jt(),{updateTemplate:g,deleteTemplate:v,addTemplate:x}=sf(),{removeBookmark:w}=fc(),[E,N]=C.useState(()=>HM(s)),[T,I]=C.useState("assistants"),[L,B]=C.useState(null),[D,O]=C.useState(null),[te,G]=C.useState(!1),[J,z]=C.useState(!1),[ie,se]=C.useState(null),[de,K]=C.useState(!1),[P,Y]=C.useState(null),ee=UM();WM(()=>{n||a(!0)},()=>{n&&a(!1)},ee),C.useEffect(()=>{ee&&!n&&(sessionStorage.getItem("layout-initialized")||(a(!0),sessionStorage.setItem("layout-initialized","true")))},[ee,n,a]),C.useEffect(()=>{const We=document.documentElement;if(We.style.setProperty("--theme-transition-duration","300ms"),s==="system"){const Ct=window.matchMedia("(prefers-color-scheme: dark)"),jt=()=>{Ct.matches?(We.classList.add("dark"),N("dark")):(We.classList.remove("dark"),N("light"))};return jt(),Ct.addEventListener("change",jt),()=>Ct.removeEventListener("change",jt)}else s==="dark"?(We.classList.add("dark"),N("dark")):(We.classList.remove("dark"),N("light"))},[s]);const W=C.useCallback(()=>{l(E==="dark"?"light":"dark")},[E,l]),Q=C.useCallback(()=>{I("assistants"),a(!1)},[a]),A=C.useCallback(()=>{I("images"),a(!0)},[a]),H=C.useCallback(()=>{I("templates"),a(!1)},[a]),ne=C.useCallback(()=>{I("bookmarks"),a(!1)},[a]),R=C.useCallback(()=>{G(!0)},[]),xe=C.useCallback(()=>{G(!1)},[]),Ae=C.useCallback(()=>{z(!0)},[]),ce=C.useCallback(()=>{z(!1)},[]),fe=C.useCallback(()=>{I("assistants")},[]),Me=C.useCallback(We=>{se(We)},[]),$e=C.useCallback(()=>{se(null)},[]),Qe=C.useCallback(We=>{Y(We),K(!0)},[]),kt=C.useCallback(async We=>{await v(We),L===We&&B(null)},[v,L]),Kt=C.useCallback(We=>{c({model:h,systemInstruction:We.systemInstruction}),I("assistants")},[c,h]),cn=C.useCallback(async We=>{"id"in We?await g(We.id,We.updates):await x(We),K(!1),Y(null)},[g,x]),dn=C.useCallback(()=>{K(!1),Y(null)},[]),wn=C.useCallback(We=>{d(We.windowId),f(We.windowId,We.subTopicId),I("assistants"),O(null)},[d,f]),at=C.useCallback(async We=>{await w(We),O(null)},[w]);return u.jsx(jv.Provider,{value:{currentView:T,setCurrentView:I,selectedTemplateId:L,setSelectedTemplateId:B,selectedBookmarkId:D,setSelectedBookmarkId:O},children:u.jsxs("div",{className:"flex h-screen overflow-hidden bg-white dark:bg-neutral-900 transition-colors duration-300",children:[!n&&ee&&T!=="images"&&u.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 transition-opacity duration-300",onClick:r,"aria-hidden":"true"}),u.jsxs("nav",{className:"flex flex-col w-12 bg-primary-600 dark:bg-primary-700 flex-shrink-0 z-40 transition-colors duration-300",children:[u.jsx("div",{className:"flex items-center justify-center h-12 border-b border-primary-500/30",children:u.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-sm",children:"G"})})}),u.jsxs("div",{className:"flex-1 flex flex-col items-center py-3 gap-2",children:[u.jsx(ja,{icon:u.jsx(VM,{}),label:"",isActive:T==="assistants"&&!n,onClick:Q}),u.jsx(ja,{icon:u.jsx(QM,{}),label:"",isActive:T==="templates"&&!n,onClick:H}),u.jsx(ja,{icon:u.jsx(JM,{}),label:"",isActive:T==="bookmarks"&&!n,onClick:ne}),u.jsx(ja,{icon:u.jsx(ZM,{}),label:"",isActive:T==="images"&&!n,onClick:A})]}),u.jsxs("div",{className:"flex flex-col items-center py-3 gap-2 border-t border-primary-500/30",children:[u.jsx(ja,{icon:u.jsx(eA,{}),label:"API ",isActive:J,onClick:Ae}),u.jsx(ja,{icon:E==="dark"?u.jsx(XM,{}):u.jsx(YM,{}),label:E==="dark"?"":"",onClick:W}),u.jsx(ja,{icon:u.jsx(KM,{}),label:"",isActive:te,onClick:R})]})]}),u.jsx("aside",{className:`
            fixed inset-y-0 left-12 z-30 w-64 transform transition-all duration-300 ease-out
            md:relative md:left-0 md:translate-x-0
            ${n||T==="images"?"-translate-x-full md:w-0 md:overflow-hidden":"translate-x-0"}
            bg-neutral-50 dark:bg-neutral-800 border-r border-neutral-200 dark:border-neutral-700
          `,children:u.jsx("div",{className:"flex h-full flex-col",children:e})}),u.jsx("main",{className:"flex flex-1 flex-col overflow-hidden transition-colors duration-300",children:T==="images"?u.jsx(kk,{onBackToChat:fe,onImageClick:Me}):T==="templates"?u.jsx(_k,{selectedTemplateId:L,onEdit:Qe,onDelete:kt,onUseTemplate:Kt}):T==="bookmarks"?u.jsx(OM,{selectedBookmarkId:D,onNavigate:wn,onDelete:at}):t}),u.jsx(J3,{isOpen:te,onClose:xe,renderContent:qM}),u.jsx(X6,{isOpen:J,onClose:ce}),u.jsx(mc,{image:ie,isOpen:ie!==null,onClose:$e}),u.jsx(e4,{isOpen:de,onClose:dn,template:P,onSave:cn})]})})}function ja({icon:e,label:t,isActive:n,onClick:r}){return u.jsx("button",{onClick:r,className:`
        w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200
        ${n?"bg-white/25 text-white shadow-sm":"text-white/70 hover:bg-white/15 hover:text-white"}
      `,title:t,"aria-label":t,children:u.jsx("span",{className:"w-5 h-5",children:e})})}function VM(){return u.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}function KM(){return u.jsxs("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function YM(){return u.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}function XM(){return u.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}function ZM(){return u.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function QM(){return u.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function JM(){return u.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}function eA(){return u.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}const tA={"gemini-3":{bg:"bg-purple-100",text:"text-purple-700",darkBg:"dark:bg-purple-900/30",darkText:"dark:text-purple-300"},"gemini-2.5":{bg:"bg-primary-100",text:"text-primary-700",darkBg:"dark:bg-primary-900/30",darkText:"dark:text-primary-300"},"gemini-2.0":{bg:"bg-blue-100",text:"text-blue-700",darkBg:"dark:bg-blue-900/30",darkText:"dark:text-blue-300"},unknown:{bg:"bg-neutral-100",text:"text-neutral-700",darkBg:"dark:bg-neutral-700",darkText:"dark:text-neutral-300"}};function nA(e){return e.includes("gemini-3")?"gemini-3":e.includes("gemini-2.5")?"gemini-2.5":e.includes("gemini-2.0")?"gemini-2.0":"unknown"}function rA(e){const t=nA(e);return tA[t]}function iA(e){let t=e.replace(/^gemini-/,"").replace(/-preview$/,"");if(t.includes("-image")){t=t.replace("-image","");const s=t.split("-"),l=s[0],c=s[1]||"";return c==="pro"?`${l} Pro Img`:c==="flash"?`${l} Img`:`${l} Img`}if(t.includes("-lite"))return t=t.replace("-lite",""),`${t.split("-")[0]} Lite`;const n=t.split("-"),r=n[0],a=n[1]||"";return a==="pro"?`${r} Pro`:a==="flash"?`${r} Flash`:r||e}function aA({modelId:e,className:t=""}){const n=iA(e),r=rA(e);return u.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 text-xs font-medium rounded ${r.bg} ${r.text} ${r.darkBg} ${r.darkText} ${t}`,children:n})}function sA(e){const n=Date.now()-e,r=Math.floor(n/6e4),a=Math.floor(n/36e5),s=Math.floor(n/864e5);return r<1?"":r<60?`${r} `:a<24?`${a} `:s<7?`${s} `:new Date(e).toLocaleDateString("zh-CN")}function oA({subTopic:e,isActive:t,onSelect:n}){return u.jsx("button",{onClick:r=>{r.stopPropagation(),n()},className:`
        w-full text-left px-3 py-1.5 text-sm rounded transition-colors touch-manipulation
        ${t?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700/50"}
      `,style:{minHeight:Et.minimum},children:u.jsx("span",{className:"truncate block",children:e.title})})}function lA({window:e,isActive:t,onSelect:n,onEdit:r,onDelete:a,onSelectSubTopic:s}){const[l,c]=C.useState(!1),[d,f]=C.useState(!1),[h,g]=C.useState(!1),v=T=>{T.stopPropagation(),c(!l)},x=T=>{T.stopPropagation(),a(),f(!1)},w=T=>{T.stopPropagation(),f(!1)},E=e.subTopics.length>1,N=e.subTopics.reduce((T,I)=>T+I.messages.length,0);return d?u.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:""}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:x,className:"flex-1 px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white text-sm rounded transition-colors",children:""}),u.jsx("button",{onClick:w,className:"flex-1 px-3 py-1.5 bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 text-neutral-700 dark:text-neutral-300 text-sm rounded transition-colors",children:""})]})]}):u.jsxs("div",{onClick:n,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),className:`
        group relative rounded-lg cursor-pointer transition-all duration-150 mb-1.5
        ${t?"bg-primary-50 dark:bg-primary-900/30 border-l-4 border-l-primary-500":"hover:bg-neutral-100 dark:hover:bg-neutral-700/50"}
      `,children:[u.jsxs("div",{className:"flex items-center gap-3 p-2.5 pl-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(mA,{className:"w-5 h-5 text-amber-400",filled:!0})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`
            text-sm font-medium truncate
            ${t?"text-primary-700 dark:text-primary-300":"text-neutral-800 dark:text-neutral-200"}
          `,children:e.title}),N>0&&u.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-0.5",children:[N,"   ",sA(e.updatedAt)]})]}),u.jsx(aA,{modelId:e.config.model,className:"flex-shrink-0"}),N>0&&t&&u.jsx("span",{className:"flex-shrink-0 bg-primary-500 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:N}),h&&!t&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:T=>{T.stopPropagation(),r()},className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-600 transition-colors",title:"",children:u.jsx(uA,{className:"h-4 w-4 text-neutral-500 dark:text-neutral-400"})}),u.jsx("button",{onClick:T=>{T.stopPropagation(),f(!0)},className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"",children:u.jsx(cA,{className:"h-4 w-4 text-neutral-500 dark:text-neutral-400 hover:text-red-500"})})]})]}),E&&u.jsxs("button",{onClick:v,className:"flex items-center gap-1 px-3 pb-2 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",children:[u.jsx(dA,{className:`h-3 w-3 transition-transform duration-200 ${l?"rotate-90":""}`}),u.jsxs("span",{children:[e.subTopics.length," "]})]}),E&&l&&u.jsx("div",{className:"px-3 pb-2 space-y-0.5 border-t border-neutral-200 dark:border-neutral-700 pt-2 ml-8",children:e.subTopics.map(T=>u.jsx(oA,{subTopic:T,isActive:T.id===e.activeSubTopicId,onSelect:()=>s==null?void 0:s(T.id)},T.id))})]})}function uA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function cA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function dA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function mA({className:e,filled:t}){return t?u.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}):u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}function fA(e,t){if(!t.trim())return e;const n=t.toLowerCase().trim();return e.filter(r=>r.title.toLowerCase().includes(n))}function hA({value:e,onChange:t,placeholder:n="...",className:r=""}){const a=C.useCallback(c=>{t(c.target.value)},[t]),s=C.useCallback(()=>{t("")},[t]),l=C.useCallback(c=>{c.key==="Escape"&&t("")},[t]);return u.jsxs("div",{className:`relative ${r}`,children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(pA,{className:"h-4 w-4 text-neutral-400 dark:text-neutral-500"})}),u.jsx("input",{type:"text",value:e,onChange:a,onKeyDown:l,placeholder:n,className:`\r
          w-full pl-9 pr-9 text-sm\r
          bg-neutral-100 dark:bg-neutral-800\r
          border border-transparent\r
          rounded-lg\r
          text-neutral-900 dark:text-neutral-100\r
          placeholder-neutral-500 dark:placeholder-neutral-400\r
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\r
          transition-all duration-200\r
        `,style:{minHeight:Et.minimum}}),e&&u.jsx("button",{onClick:s,className:"absolute inset-y-0 right-0 pr-1 flex items-center touch-manipulation",style:{minWidth:Et.minimum,minHeight:Et.minimum},title:"",children:u.jsx(gA,{className:"h-4 w-4 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors"})})]})}function pA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function gA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function xA(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length||t===n)return e;const r=[...e],[a]=r.splice(t,1);return a!==void 0&&r.splice(n,0,a),r}function bA({items:e,keyExtractor:t,renderItem:n,onReorder:r,className:a=""}){const[s,l]=C.useState({dragIndex:null,dropIndex:null}),c=C.useRef(null),d=C.useCallback((x,w)=>{x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",String(w)),c.current={index:w},l({dragIndex:w,dropIndex:null}),requestAnimationFrame(()=>{const E=x.target;E.style.opacity="0.5"})},[]),f=C.useCallback(x=>{const w=x.target;w.style.opacity="1",l({dragIndex:null,dropIndex:null}),c.current=null},[]),h=C.useCallback((x,w)=>{x.preventDefault(),x.dataTransfer.dropEffect="move",s.dropIndex!==w&&l(E=>({...E,dropIndex:w}))},[s.dropIndex]),g=C.useCallback(x=>{const w=x.relatedTarget;x.currentTarget.contains(w)||l(N=>({...N,dropIndex:null}))},[]),v=C.useCallback((x,w)=>{var N;x.preventDefault();const E=(N=c.current)==null?void 0:N.index;if(E!=null&&E!==w){const T=xA(e,E,w);r(T)}l({dragIndex:null,dropIndex:null}),c.current=null},[e,r]);return u.jsx("div",{className:`space-y-1 ${a}`,children:e.map((x,w)=>{const E=t(x),N=s.dragIndex===w,T=s.dropIndex===w&&s.dragIndex!==w;return u.jsx("div",{draggable:!0,onDragStart:I=>d(I,w),onDragEnd:f,onDragOver:I=>h(I,w),onDragLeave:g,onDrop:I=>v(I,w),className:`
              transition-all duration-200 cursor-grab active:cursor-grabbing
              ${T?"transform translate-y-1 border-t-2 border-primary-500":""}
            `,children:n(x,w,N,T)},E)})})}const Da={EXPIRY_MS:10080*60*1e3,STORAGE_KEY:"gemini-chat-jwt-token",SECRET:"gemini-chat-local-secret",SUBJECT:"local-user"};function Ro(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function W2(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),atob(t)}function vA(){return typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.importKey=="function"}function q2(e,t){let n=0;const r=t+e+t;for(let l=0;l<r.length;l++){const c=r.charCodeAt(l);n=(n<<5)-n+c|0,n=Math.imul(n,31)|0}let a=5381;for(let l=0;l<r.length;l++)a=(a<<5)+a^r.charCodeAt(l);return(n>>>0).toString(16).padStart(8,"0")+(a>>>0).toString(16).padStart(8,"0")}async function Rv(e,t){if(!vA())return ct.warn("crypto.subtle  HMAC"),Ro(q2(e,t));try{const n=new TextEncoder,r=n.encode(t),a=n.encode(e),s=await crypto.subtle.importKey("raw",r,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),l=await crypto.subtle.sign("HMAC",s,a),d=Array.from(new Uint8Array(l)).map(f=>f.toString(16).padStart(2,"0")).join("");return Ro(d)}catch(n){return ct.warn("crypto.subtle  HMAC",n),Ro(q2(e,t))}}async function yA(){const e=Date.now(),t={alg:"HS256",typ:"JWT"},n={iat:e,exp:e+Da.EXPIRY_MS,sub:Da.SUBJECT},r=Ro(JSON.stringify(t)),a=Ro(JSON.stringify(n)),s=`${r}.${a}`,l=await Rv(s,Da.SECRET);return ct.info("JWT Token "),`${s}.${l}`}async function kA(e){try{const t=e.split(".");if(t.length!==3)return ct.warn("JWT Token "),null;const n=t[0],r=t[1],a=t[2],s=`${n}.${r}`,l=await Rv(s,Da.SECRET);if(a!==l)return ct.warn("JWT Token "),null;const c=W2(n),d=JSON.parse(c);if(d.alg!=="HS256"||d.typ!=="JWT")return ct.warn("JWT Token "),null;const f=W2(r),h=JSON.parse(f);return typeof h.iat!="number"||typeof h.exp!="number"||typeof h.sub!="string"?(ct.warn("JWT Token "),null):(ct.info("JWT Token "),h)}catch(t){return ct.error("JWT Token ",t),null}}function wA(e){return Date.now()>=e.exp}function SA(e){try{localStorage.setItem(Da.STORAGE_KEY,e),ct.info("JWT Token  LocalStorage")}catch(t){throw ct.error(" JWT Token ",t),new Error(" JWT Token")}}function EA(){try{return localStorage.getItem(Da.STORAGE_KEY)}catch(e){return ct.error(" JWT Token ",e),null}}function zu(){try{localStorage.removeItem(Da.STORAGE_KEY),ct.info("JWT Token  LocalStorage ")}catch(e){ct.error(" JWT Token ",e)}}function NA(){return typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function"}function G2(e){let t=0;const n=31;for(let s=0;s<e.length;s++){const l=e.charCodeAt(s);t=(t<<5)-t+l|0,t=Math.imul(t,n)|0}const r=t>>>0,a=TA(e+r.toString());return r.toString(16).padStart(8,"0")+a.toString(16).padStart(8,"0")}function TA(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return t>>>0}async function Qf(e){if(!NA())return ct.warn("crypto.subtle "),G2(e);try{const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(l=>l.toString(16).padStart(2,"0")).join("")}catch(t){return ct.warn("crypto.subtle ",t),G2(e)}}async function CA(e,t){return await Qf(e)===t}function _A(e,t){return e===t}function Jf(){try{const e=localStorage.getItem(jx);return e?JSON.parse(e):null}catch(e){return ct.error("",e),null}}function Lv(e){try{localStorage.setItem(jx,JSON.stringify(e)),ct.info("")}catch(t){ct.error("",t)}}async function MA(){let e=Jf();return e||(e={passwordHash:await Qf(u3()),isDefaultPassword:!Ix()},Lv(e),ct.info("")),e}async function AA(e){const n={passwordHash:await Qf(e),isDefaultPassword:!1};Lv(n),ct.info("")}async function IA(e){try{const t=Jf();if(!t)return ct.error(""),!1;if(!await CA(e,t.passwordHash))return ct.warn(""),!1;const r=await yA();return SA(r),ct.info("JWT Token "),!0}catch(t){return ct.error("",t),!1}}async function jA(){try{const e=EA();if(!e)return ct.info(" Token"),!1;const t=await kA(e);return t?wA(t)?(ct.warn("Token  Token"),zu(),!1):(ct.info(" Token "),!0):(ct.warn("Token  Token"),zu(),!1)}catch(e){return ct.error("",e),zu(),!1}}function RA(){zu(),ct.info(" JWT Token")}const Cc=oa(e=>({isAuthenticated:!1,needsPasswordReset:!1,initialized:!1,isLoading:!1,error:null,initialize:async()=>{e({isLoading:!0,error:null});try{const t=await MA(),n=await jA();e({initialized:!0,isLoading:!1,isAuthenticated:n,needsPasswordReset:t.isDefaultPassword}),n?ct.info(" Token "):ct.info("")}catch(t){ct.error("",t),e({initialized:!0,isLoading:!1,error:""})}},login:async t=>{e({isLoading:!0,error:null});try{const n=Jf();return n?await IA(t)?(e({isAuthenticated:!0,isLoading:!1,needsPasswordReset:n.isDefaultPassword}),ct.info(""),!0):(e({isLoading:!1,error:""}),ct.warn(""),!1):(e({isLoading:!1,error:""}),!1)}catch(n){return ct.error("",n),e({isLoading:!1,error:""}),!1}},logout:()=>{RA(),e({isAuthenticated:!1,error:null}),ct.info("")},resetPassword:async(t,n)=>{if(e({isLoading:!0,error:null}),t!==n)return e({isLoading:!1,error:""}),!1;if(t.length<6)return e({isLoading:!1,error:" 6 "}),!1;try{return await AA(t),e({isLoading:!1,needsPasswordReset:!1}),ct.info(""),!0}catch(r){return ct.error("",r),e({isLoading:!1,error:""}),!1}},clearError:()=>{e({error:null})}}));function LA({isExpanded:e=!0}){const[t,n]=C.useState(new Set(["model","advanced"])),r=C.useCallback(a=>{n(s=>{const l=new Set(s);return l.has(a)?l.delete(a):l.add(a),l})},[]);return e?u.jsx("div",{className:"flex flex-col h-full overflow-y-auto custom-scrollbar",children:u.jsxs("div",{className:"p-3 space-y-2",children:[u.jsx(Eo,{id:"api",title:"API ",icon:u.jsx(FA,{}),isExpanded:t.has("api"),onToggle:()=>r("api"),children:u.jsx(OA,{})}),u.jsx(Eo,{id:"model",title:"",icon:u.jsx($A,{}),isExpanded:t.has("model"),onToggle:()=>r("model"),children:u.jsx(DA,{})}),u.jsx(Eo,{id:"advanced",title:"",icon:u.jsx(HA,{}),isExpanded:t.has("advanced"),onToggle:()=>r("advanced"),children:u.jsx(zA,{})}),u.jsx(Eo,{id:"generation",title:"",icon:u.jsx(UA,{}),isExpanded:t.has("generation"),onToggle:()=>r("generation"),children:u.jsx(PA,{})}),u.jsx(Eo,{id:"system",title:"",icon:u.jsx(WA,{}),isExpanded:t.has("system"),onToggle:()=>r("system"),children:u.jsx(BA,{})}),u.jsx(VA,{})]})}):null}function Eo({title:e,icon:t,isExpanded:n,onToggle:r,children:a}){return u.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[u.jsxs("button",{onClick:r,className:`w-full flex items-center justify-between px-3 py-2.5 \r
          hover:bg-neutral-50 dark:hover:bg-neutral-700/50 \r
          transition-colors touch-manipulation`,style:{minHeight:Et.minimum,transitionDuration:vd.fast},"aria-expanded":n,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"h-4 w-4 text-neutral-500 dark:text-neutral-400",children:t}),u.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200",children:e})]}),u.jsx(qA,{className:`h-4 w-4 text-neutral-400 transition-transform ${n?"rotate-180":""}`,style:{transitionDuration:vd.fast,transitionTimingFunction:ln.easeOut}})]}),u.jsx("div",{className:`
          overflow-hidden transition-all
          ${n?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}
        `,style:{transitionDuration:vd.normal,transitionTimingFunction:ln.easeOut},children:u.jsx("div",{className:"px-3 pb-3 pt-1 border-t border-neutral-100 dark:border-neutral-700",children:a})})]})}function OA(){const{apiEndpoint:e,apiKey:t,setApiEndpoint:n,setApiKey:r,testConnection:a,connectionStatus:s}=Jt();return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-1",children:"API "}),u.jsx("input",{type:"url",value:e,onChange:l=>n(l.target.value),placeholder:"https://generativelanguage.googleapis.com/v1beta",className:`w-full px-2.5 py-1.5 text-sm rounded-md border border-neutral-300 dark:border-neutral-600 \r
            bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100\r
            focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500`})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-1",children:"API "}),u.jsx("input",{type:"password",value:t,onChange:l=>r(l.target.value),placeholder:" API ",className:`w-full px-2.5 py-1.5 text-sm rounded-md border border-neutral-300 dark:border-neutral-600 \r
            bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100\r
            focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500`})]}),u.jsx("button",{onClick:()=>a(),disabled:s==="testing"||!t,className:`w-full px-3 py-1.5 text-xs font-medium rounded-md\r
          bg-primary-500 hover:bg-primary-600 disabled:bg-neutral-300 dark:disabled:bg-neutral-600\r
          text-white transition-colors disabled:cursor-not-allowed`,children:s==="testing"?"...":s==="success"?" ":s==="error"?" ":""})]})}function DA(){const{currentModel:e,setCurrentModel:t}=Jt(),{models:n}=Cn(),r=qx(n);return u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-1",children:""}),u.jsx("select",{value:e,onChange:a=>t(a.target.value),className:`w-full px-2.5 py-1.5 text-sm rounded-md border border-neutral-300 dark:border-neutral-600 \r
          bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100\r
          focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500`,children:r.map(a=>u.jsx("option",{value:a.id,children:a.id},a.id))}),u.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-mono truncate",children:e})]})}function zA(){const{currentModel:e}=Jt(),{activeWindowId:t,windows:n,updateAdvancedConfig:r}=la(),{getModelById:a}=Cn(),s=n.find(D=>D.id===t),l=s==null?void 0:s.config.advancedConfig,c=a(e),d=c==null?void 0:c.capabilities,f=(d==null?void 0:d.supportsImageGeneration)??!1,h=(d==null?void 0:d.supportsImageSize)!==!1,g=(d==null?void 0:d.thinkingConfigType)||"none",v=d==null?void 0:d.thinkingBudgetConfig,x=(d==null?void 0:d.supportsThoughtSummary)===!0,w=(l==null?void 0:l.thinkingBudget)??(v==null?void 0:v.defaultValue)??-1,E=C.useCallback(D=>{t&&r(t,{thinkingLevel:D})},[t,r]),N=C.useCallback(D=>{t&&r(t,{thinkingBudget:D})},[t,r]),T=C.useCallback(D=>{t&&r(t,D)},[t,r]),I=C.useCallback(D=>{t&&(l!=null&&l.imageConfig)?r(t,{imageConfig:{...l.imageConfig,...D}}):t&&r(t,{imageConfig:{aspectRatio:"1:1",imageSize:"1K",...D}})},[t,l,r]);if(!t||!(g!=="none"||f||x))return u.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-center py-2",children:t?"":""});const B=(l==null?void 0:l.includeThoughts)??!1;return u.jsxs("div",{className:"space-y-4",children:[g==="level"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:""}),u.jsx(of,{value:(l==null?void 0:l.thinkingLevel)??"high",onChange:E,variant:"compact",modelId:e})]}),g==="budget"&&v&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:""}),u.jsx(lf,{value:w,config:v,onChange:N,variant:"compact"})]}),x&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400",children:""}),u.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:""})]}),u.jsx("button",{type:"button",role:"switch","aria-checked":B,onClick:()=>T({includeThoughts:!B}),className:`
              relative inline-flex h-5 w-9 items-center rounded-full transition-colors
              focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
              ${B?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600"}
            `,children:u.jsx("span",{className:`
                inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform
                ${B?"translate-x-5":"translate-x-0.5"}
              `})})]}),f&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-2",children:""}),u.jsx(uf,{config:(l==null?void 0:l.imageConfig)??{aspectRatio:"1:1",imageSize:"1K"},onChange:I,variant:"compact",supportsImageSize:h})]})]})}function PA(){const{generationConfig:e,updateGenerationConfig:t}=Jt();return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("label",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"Temperature"}),u.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:e.temperature??1})]}),u.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:e.temperature??1,onChange:n=>t({temperature:parseFloat(n.target.value)}),className:"w-full h-1.5 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-primary-500"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("label",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:"Top P"}),u.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:e.topP??.95})]}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.topP??.95,onChange:n=>t({topP:parseFloat(n.target.value)}),className:"w-full h-1.5 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-primary-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-1",children:" Token"}),u.jsx("input",{type:"number",min:"1",max:"65536",value:e.maxOutputTokens??"",onChange:n=>t({maxOutputTokens:n.target.value?parseInt(n.target.value):void 0}),placeholder:"",className:`w-full px-2.5 py-1.5 text-sm rounded-md border border-neutral-300 dark:border-neutral-600 \r
            bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100\r
            focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500`})]})]})}function BA(){const{systemInstruction:e,updateSystemInstruction:t}=Jt();return u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-1",children:""}),u.jsx("textarea",{value:e,onChange:n=>t(n.target.value),placeholder:" AI ...",rows:3,className:`w-full px-2.5 py-1.5 text-sm rounded-md border border-neutral-300 dark:border-neutral-600 \r
          bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100\r
          focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 resize-none`}),u.jsx("p",{className:"mt-1 text-xs text-neutral-400 dark:text-neutral-500",children:""})]})}function FA(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}function $A(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}function HA(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}function UA(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}function WA(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}function qA({className:e,style:t}){return u.jsx("svg",{className:e,style:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function GA(){return u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}function VA(){const{logout:e}=Cc(),[t,n]=C.useState(!1),r=C.useCallback(()=>{e()},[e]);return u.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:t?u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 text-center",children:""}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:r,className:`flex-1 px-3 py-1.5 text-xs font-medium rounded-md\r
                bg-red-500 hover:bg-red-600 text-white transition-colors`,children:""}),u.jsx("button",{onClick:()=>n(!1),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded-md\r
                bg-neutral-200 dark:bg-neutral-600 hover:bg-neutral-300 dark:hover:bg-neutral-500\r
                text-neutral-700 dark:text-neutral-200 transition-colors`,children:""})]})]}):u.jsxs("button",{onClick:()=>n(!0),className:`w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md\r
            bg-neutral-100 dark:bg-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-600\r
            text-neutral-700 dark:text-neutral-200 transition-colors`,children:[u.jsx(GA,{}),u.jsx("span",{children:""})]})})}function KA({onImageClick:e,windowId:t}){const{images:n,isLoading:r,loadImages:a,getImagesByWindow:s}=df();C.useEffect(()=>{a()},[a]);const l=t?s(t):n,c=C.useCallback(d=>{e(d)},[e]);return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[u.jsx(XA,{className:"h-16 w-16 text-neutral-300 dark:text-neutral-600 mb-4"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-medium",children:""}),u.jsx("p",{className:"text-sm text-neutral-400 dark:text-neutral-500 mt-1",children:"AI "})]}):u.jsx("div",{className:"p-3",children:u.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(d=>u.jsx(YA,{image:d,onClick:()=>c(d)},d.id))})})}function YA({image:e,onClick:t}){const n=`data:${e.mimeType};base64,${e.data}`,r=a=>{const s=new Date(a),c=new Date().getTime()-s.getTime(),d=Math.floor(c/(1e3*60*60*24));return d===0?s.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):d===1?"":d<7?`${d}`:s.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})};return u.jsxs("button",{onClick:t,className:"group relative aspect-square rounded-lg overflow-hidden bg-neutral-100 dark:bg-neutral-700 hover:ring-2 hover:ring-primary-500 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("img",{src:n,alt:e.prompt||"",className:"w-full h-full object-cover",loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors duration-200"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-1.5 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:u.jsx("p",{className:"text-xs text-white truncate",children:r(e.createdAt)})})]})}function XA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function ZA(){const{templates:e,initialized:t,loadTemplates:n,addTemplate:r,updateTemplate:a}=sf(),{selectedTemplateId:s,setSelectedTemplateId:l}=Zf(),[c,d]=C.useState(!1);C.useEffect(()=>{t||n()},[t,n]);const f=C.useCallback(E=>{l(E)},[l]),h=C.useCallback(()=>{d(!0)},[]),g=C.useCallback(async E=>{if("id"in E)await a(E.id,E.updates);else{const N=await r(E);l(N.id)}d(!1)},[r,a,l]),v=C.useCallback(()=>{d(!1)},[]),x=e.filter(E=>E.isBuiltIn),w=e.filter(E=>!E.isBuiltIn);return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-3",children:u.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors duration-200 font-medium shadow-sm touch-manipulation",style:{minHeight:Et.minimum},children:[u.jsx(QA,{className:"h-5 w-5"}),""]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-2 custom-scrollbar",children:[x.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider mb-2 px-1",children:""}),u.jsx("div",{className:"space-y-2",children:x.map(E=>u.jsx(V2,{template:E,isSelected:s===E.id,onSelect:()=>f(E.id)},E.id))})]}),w.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider mb-2 px-1",children:""}),u.jsx("div",{className:"space-y-2",children:w.map(E=>u.jsx(V2,{template:E,isSelected:s===E.id,onSelect:()=>f(E.id)},E.id))})]}),e.length===0&&u.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8",children:[u.jsx(JA,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:""}),u.jsx("p",{className:"text-sm mt-1",children:""})]})]}),u.jsx("div",{className:"p-3 border-t border-neutral-200 dark:border-neutral-700",children:u.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-center",children:[e.length," "]})}),u.jsx(e4,{isOpen:c,onClose:v,template:null,onSave:g})]})}function V2({template:e,isSelected:t,onSelect:n}){return u.jsx("button",{onClick:n,className:`
        w-full p-3 text-left rounded-lg border transition-all duration-200
        touch-manipulation cursor-pointer
        ${t?"bg-primary-50 dark:bg-primary-900/20 border-primary-400 dark:border-primary-600 ring-1 ring-primary-400 dark:ring-primary-600":"bg-white dark:bg-neutral-700 border-neutral-200 dark:border-neutral-600 hover:border-primary-300 dark:hover:border-primary-600 hover:bg-neutral-50 dark:hover:bg-neutral-650"}
      `,style:{minHeight:Et.minimum},children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h4",{className:`
              font-medium truncate
              ${t?"text-primary-700 dark:text-primary-300":"text-neutral-800 dark:text-neutral-200"}
            `,children:e.name}),e.isBuiltIn&&u.jsx("span",{className:"flex-shrink-0 px-1.5 py-0.5 text-xs bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 rounded",children:""})]}),e.description&&u.jsx("p",{className:`
              text-xs mt-0.5 line-clamp-2
              ${t?"text-primary-600 dark:text-primary-400":"text-neutral-500 dark:text-neutral-400"}
            `,children:e.description})]}),t&&u.jsx("div",{className:"flex-shrink-0 w-2 h-2 mt-1.5 rounded-full bg-primary-500"})]})})}function QA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function JA({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function eI(){const{bookmarks:e,initialized:t,loadBookmarks:n}=fc(),{selectedBookmarkId:r,setSelectedBookmarkId:a}=Zf();C.useEffect(()=>{t||n()},[t,n]);const s=C.useCallback(c=>{a(c.id)},[a]),l=c=>{const d=new Date(c),f=new Date,h=f.getTime()-d.getTime();return h<1440*60*1e3&&d.getDate()===f.getDate()?d.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):h<2880*60*1e3?"":h<10080*60*1e3?["","","","","","",""][d.getDay()]||"":d.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 custom-scrollbar",children:e.length===0?u.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8",children:[u.jsx(nI,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:""}),u.jsx("p",{className:"text-sm mt-1",children:""})]}):u.jsx("div",{className:"space-y-2",children:e.map(c=>u.jsx(tI,{bookmark:c,isSelected:r===c.id,onSelect:()=>s(c),formatTime:l},c.id))})}),u.jsx("div",{className:"p-3 border-t border-neutral-200 dark:border-neutral-700",children:u.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-center",children:[e.length," "]})})]})}function tI({bookmark:e,isSelected:t,onSelect:n,formatTime:r}){return u.jsx("div",{onClick:n,className:`
        p-3 rounded-lg border transition-colors cursor-pointer
        ${t?"bg-primary-50 dark:bg-primary-900/20 border-primary-300 dark:border-primary-600 ring-1 ring-primary-300 dark:ring-primary-600":"bg-white dark:bg-neutral-700 border-neutral-200 dark:border-neutral-600 hover:border-primary-300 dark:hover:border-primary-600"}
      `,children:u.jsx("div",{className:"flex items-start gap-2",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm text-neutral-800 dark:text-neutral-200 line-clamp-2",children:e.messagePreview||"()"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1.5 text-xs text-neutral-500 dark:text-neutral-400",children:[u.jsx("span",{className:`px-1.5 py-0.5 rounded ${e.messageRole==="user"?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400"}`,children:e.messageRole==="user"?"":"AI"}),u.jsx("span",{className:"truncate max-w-[100px]",title:e.windowTitle,children:e.windowTitle}),u.jsx("span",{children:r(e.createdAt)})]})]})})})}function nI({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}function rI(){const{windows:e,activeWindowId:t,createWindow:n,selectWindow:r,deleteWindow:a,updateWindow:s,selectSubTopic:l,reorderWindows:c}=la(),{currentModel:d,systemInstruction:f}=Jt(),{currentView:h}=Zf(),[g,v]=C.useState(""),[x,w]=C.useState(null),[E,N]=C.useState(""),[T,I]=C.useState(null),[L,B]=C.useState(!1),D=C.useMemo(()=>fA(e,g),[e,g]),O=C.useCallback(()=>{n({model:d,systemInstruction:f||void 0})},[n,d,f]),te=C.useCallback(W=>{x!==W&&r(W)},[x,r]),G=C.useCallback(W=>{const Q=e.find(A=>A.id===W);Q&&(w(W),N(Q.title))},[e]),J=C.useCallback(async()=>{x&&E.trim()&&await s(x,{title:E.trim()}),w(null),N("")},[x,E,s]),z=C.useCallback(()=>{w(null),N("")},[]),ie=C.useCallback(W=>{W.key==="Enter"?J():W.key==="Escape"&&z()},[J,z]),se=C.useCallback(async W=>{await a(W)},[a]),de=C.useCallback((W,Q)=>{l(W,Q)},[l]),K=C.useCallback(W=>{c(W)},[c]),P=C.useCallback(W=>{I(W),B(!0)},[]),Y=C.useCallback(()=>{B(!1),I(null)},[]),ee=C.useCallback((W,Q,A,H)=>{const ne=W.id===t;return W.id===x?u.jsxs("div",{className:"p-3 bg-white dark:bg-neutral-800 rounded-lg border border-primary-400 dark:border-primary-600 shadow-sm",children:[u.jsx("input",{type:"text",value:E,onChange:xe=>N(xe.target.value),onKeyDown:ie,onBlur:J,autoFocus:!0,className:"w-full px-2 py-1 text-sm bg-neutral-50 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:xe=>xe.stopPropagation()}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{onClick:J,className:"flex-1 px-3 py-1 text-xs bg-primary-500 hover:bg-primary-600 text-white rounded transition-colors",children:""}),u.jsx("button",{onClick:z,className:"flex-1 px-3 py-1 text-xs bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 text-neutral-700 dark:text-neutral-300 rounded transition-colors",children:""})]})]}):u.jsx("div",{className:`transition-opacity duration-200 ${A?"opacity-50":"opacity-100"} ${H?"ring-2 ring-primary-500 ring-offset-2":""}`,children:u.jsx(lA,{window:W,isActive:ne,onSelect:()=>te(W.id),onEdit:()=>G(W.id),onDelete:()=>se(W.id),onSelectSubTopic:xe=>de(W.id,xe)})})},[t,x,E,ie,J,z,te,G,se,de]);return u.jsxs("div",{className:"flex h-full flex-col bg-neutral-50 dark:bg-neutral-800 transition-colors duration-300",children:[u.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-700",children:u.jsx("h2",{className:"text-base font-semibold text-neutral-800 dark:text-neutral-200",children:h==="assistants"?"":h==="images"?"":h==="templates"?"":h==="bookmarks"?"":""})}),h==="assistants"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-3",children:u.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors duration-200 font-medium shadow-sm touch-manipulation",style:{minHeight:Et.minimum},children:[u.jsx(iI,{className:"h-5 w-5"}),""]})}),u.jsx("div",{className:"px-3 pb-2",children:u.jsx(hA,{value:g,onChange:v,placeholder:"..."})}),u.jsx("div",{className:"flex-1 overflow-y-auto px-2 custom-scrollbar",children:D.length===0?u.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8",children:[u.jsx(aI,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),g?u.jsxs(u.Fragment,{children:[u.jsx("p",{children:""}),u.jsx("p",{className:"text-sm mt-1",children:""})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{children:""}),u.jsx("p",{className:"text-sm mt-1",children:""})]})]}):u.jsx(bA,{items:D,keyExtractor:W=>W.id,renderItem:ee,onReorder:K})}),u.jsx("div",{className:"p-3 border-t border-neutral-200 dark:border-neutral-700",children:u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-center",children:D.length===e.length?`${e.length} `:` ${D.length} / ${e.length} `})})]}):h==="images"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:u.jsx(KA,{onImageClick:P})}),u.jsx(mc,{image:T,isOpen:L,onClose:Y})]}):h==="templates"?u.jsx(ZA,{}):h==="bookmarks"?u.jsx(eI,{}):u.jsx(LA,{isExpanded:!0})]})}function iI({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function aI({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}function sI(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const oI=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function na(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let vs=null;function Ov(e={}){return vs||(e.includeStyleProperties?(vs=e.includeStyleProperties,vs):(vs=na(window.getComputedStyle(document.documentElement)),vs))}function tc(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function lI(e){const t=tc(e,"border-left-width"),n=tc(e,"border-right-width");return e.clientWidth+t+n}function uI(e){const t=tc(e,"border-top-width"),n=tc(e,"border-bottom-width");return e.clientHeight+t+n}function Dv(e,t={}){const n=t.width||lI(e),r=t.height||uI(e);return{width:n,height:r}}function cI(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const dr=16384;function dI(e){(e.width>dr||e.height>dr)&&(e.width>dr&&e.height>dr?e.width>e.height?(e.height*=dr/e.width,e.width=dr):(e.width*=dr/e.height,e.height=dr):e.width>dr?(e.height*=dr/e.width,e.width=dr):(e.width*=dr/e.height,e.height=dr))}function nc(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function mI(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function fI(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),mI(a)}const rr=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||rr(n,t)};function hI(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function pI(e,t){return Ov(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function gI(e,t,n,r){const a=`.${e}:${t}`,s=n.cssText?hI(n):pI(n,r);return document.createTextNode(`${a}{${s}}`)}function K2(e,t,n,r){const a=window.getComputedStyle(e,n),s=a.getPropertyValue("content");if(s===""||s==="none")return;const l=oI();try{t.className=`${t.className} ${l}`}catch{return}const c=document.createElement("style");c.appendChild(gI(l,n,a,r)),t.appendChild(c)}function xI(e,t,n){K2(e,t,":before",n),K2(e,t,":after",n)}const Y2="application/font-woff",X2="image/jpeg",bI={woff:Y2,woff2:Y2,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:X2,jpeg:X2,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function vI(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function eh(e){const t=vI(e).toLowerCase();return bI[t]||""}function yI(e){return e.split(/,/)[1]}function Vm(e){return e.search(/^(data:)/)!==-1}function kI(e,t){return`data:${t};base64,${e}`}async function zv(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((s,l)=>{const c=new FileReader;c.onerror=l,c.onloadend=()=>{try{s(n({res:r,result:c.result}))}catch(d){l(d)}},c.readAsDataURL(a)})}const um={};function wI(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function th(e,t,n){const r=wI(e,t,n.includeQueryParams);if(um[r]!=null)return um[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await zv(e,n.fetchRequestInit,({res:l,result:c})=>(t||(t=l.headers.get("Content-Type")||""),yI(c)));a=kI(s,t)}catch(s){a=n.imagePlaceholder||"";let l=`Failed to fetch resource: ${e}`;s&&(l=typeof s=="string"?s:s.message),l&&console.warn(l)}return um[r]=a,a}async function SI(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):nc(t)}async function EI(e,t){if(e.currentSrc){const s=document.createElement("canvas"),l=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,l==null||l.drawImage(e,0,0,s.width,s.height);const c=s.toDataURL();return nc(c)}const n=e.poster,r=eh(n),a=await th(n,r,t);return nc(a)}async function NI(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await _c(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function TI(e,t){return rr(e,HTMLCanvasElement)?SI(e):rr(e,HTMLVideoElement)?EI(e,t):rr(e,HTMLIFrameElement)?NI(e,t):e.cloneNode(Pv(e))}const CI=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Pv=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function _I(e,t,n){var r,a;if(Pv(t))return t;let s=[];return CI(e)&&e.assignedNodes?s=na(e.assignedNodes()):rr(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?s=na(e.contentDocument.body.childNodes):s=na(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||rr(e,HTMLVideoElement)||await s.reduce((l,c)=>l.then(()=>_c(c,n)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function MI(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):Ov(n).forEach(s=>{let l=a.getPropertyValue(s);s==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),rr(e,HTMLIFrameElement)&&s==="display"&&l==="inline"&&(l="block"),s==="d"&&t.getAttribute("d")&&(l=`path(${t.getAttribute("d")})`),r.setProperty(s,l,a.getPropertyPriority(s))})}function AI(e,t){rr(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),rr(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function II(e,t){if(rr(e,HTMLSelectElement)){const r=Array.from(t.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function jI(e,t,n){return rr(t,Element)&&(MI(e,t,n),xI(e,t,n),AI(e,t),II(e,t)),t}async function RI(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let s=0;s<n.length;s++){const c=n[s].getAttribute("xlink:href");if(c){const d=e.querySelector(c),f=document.querySelector(c);!d&&f&&!r[c]&&(r[c]=await _c(f,t,!0))}}const a=Object.values(r);if(a.length){const s="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg");l.setAttribute("xmlns",s),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const c=document.createElementNS(s,"defs");l.appendChild(c);for(let d=0;d<a.length;d++)c.appendChild(a[d]);e.appendChild(l)}return e}async function _c(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>TI(r,t)).then(r=>_I(e,r,t)).then(r=>jI(e,r,t)).then(r=>RI(r,t))}const Bv=/url\((['"]?)([^'"]+?)\1\)/g,LI=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,OI=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function DI(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function zI(e){const t=[];return e.replace(Bv,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Vm(n))}async function PI(e,t,n,r,a){try{const s=n?sI(t,n):t,l=eh(t);let c;return a||(c=await th(s,l,r)),e.replace(DI(t),`$1${c}$3`)}catch{}return e}function BI(e,{preferredFontFormat:t}){return t?e.replace(OI,n=>{for(;;){const[r,,a]=LI.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function Fv(e){return e.search(Bv)!==-1}async function $v(e,t,n){if(!Fv(e))return e;const r=BI(e,n);return zI(r).reduce((s,l)=>s.then(c=>PI(c,l,t,n)),Promise.resolve(r))}async function ys(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const s=await $v(a,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function FI(e,t){await ys("background",e,t)||await ys("background-image",e,t),await ys("mask",e,t)||await ys("-webkit-mask",e,t)||await ys("mask-image",e,t)||await ys("-webkit-mask-image",e,t)}async function $I(e,t){const n=rr(e,HTMLImageElement);if(!(n&&!Vm(e.src))&&!(rr(e,SVGImageElement)&&!Vm(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await th(r,eh(r),t);await new Promise((s,l)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...d)=>{try{s(t.onImageErrorHandler(...d))}catch(f){l(f)}}:l;const c=e;c.decode&&(c.decode=s),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function HI(e,t){const r=na(e.childNodes).map(a=>Hv(a,t));await Promise.all(r).then(()=>e)}async function Hv(e,t){rr(e,Element)&&(await FI(e,t),await $I(e,t),await HI(e,t))}function UI(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const Z2={};async function Q2(e){let t=Z2[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},Z2[e]=t,t}async function J2(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async l=>{let c=l.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),zv(c,t.fetchRequestInit,({result:d})=>(n=n.replace(l,`url(${d})`),[l,d]))});return Promise.all(s).then(()=>n)}function ex(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=a.exec(r);if(d===null)break;t.push(d[0])}r=r.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(l,"gi");for(;;){let d=s.exec(r);if(d===null){if(d=c.exec(r),d===null)break;s.lastIndex=c.lastIndex}else c.lastIndex=s.lastIndex;t.push(d[0])}return t}async function WI(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{na(a.cssRules||[]).forEach((s,l)=>{if(s.type===CSSRule.IMPORT_RULE){let c=l+1;const d=s.href,f=Q2(d).then(h=>J2(h,t)).then(h=>ex(h).forEach(g=>{try{a.insertRule(g,g.startsWith("@import")?c+=1:a.cssRules.length)}catch(v){console.error("Error inserting rule from remote css",{rule:g,error:v})}})).catch(h=>{console.error("Error loading remote css",h.toString())});r.push(f)}})}catch(s){const l=e.find(c=>c.href==null)||document.styleSheets[0];a.href!=null&&r.push(Q2(a.href).then(c=>J2(c,t)).then(c=>ex(c).forEach(d=>{l.insertRule(d,l.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{na(a.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),n))}function qI(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Fv(t.style.getPropertyValue("src")))}async function GI(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=na(e.ownerDocument.styleSheets),r=await WI(n,t);return qI(r)}function Uv(e){return e.trim().replace(/["']/g,"")}function VI(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{t.add(Uv(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function KI(e,t){const n=await GI(e,t),r=VI(e);return(await Promise.all(n.filter(s=>r.has(Uv(s.style.fontFamily))).map(s=>{const l=s.parentStyleSheet?s.parentStyleSheet.href:null;return $v(s.cssText,l,t)}))).join(`
`)}async function YI(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await KI(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function XI(e,t={}){const{width:n,height:r}=Dv(e,t),a=await _c(e,t,!0);return await YI(a,t),await Hv(a,t),UI(a,t),await fI(a,n,r)}async function ZI(e,t={}){const{width:n,height:r}=Dv(e,t),a=await XI(e,t),s=await nc(a),l=document.createElement("canvas"),c=l.getContext("2d"),d=t.pixelRatio||cI(),f=t.canvasWidth||n,h=t.canvasHeight||r;return l.width=f*d,l.height=h*d,t.skipAutoScale||dI(l),l.style.width=`${f}`,l.style.height=`${h}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,l.width,l.height)),c.drawImage(s,0,0,l.width,l.height),l}async function QI(e,t={}){return(await ZI(e,t)).toDataURL()}function JI(e){var a;const t=((a=e.title)==null?void 0:a.trim())||"",n=Is(e.exportedAt).replace(/[/:]/g,"-");return`${t.replace(/[<>:"/\\|?*]/g,"_")}_${n}.png`}async function ej(e,t){try{const n=await QI(e,{width:t.width,height:e.scrollHeight,backgroundColor:t.backgroundColor,pixelRatio:t.pixelRatio,skipFonts:!1,style:{transform:"none",transformOrigin:"top left"},filter:a=>{var s;if(a instanceof HTMLElement){const l=(s=a.tagName)==null?void 0:s.toLowerCase();if(l==="script"||l==="noscript")return!1}return!0}});return tj(n)}catch(n){throw console.error(":",n),new rj("",n)}}function tj(e){var d;const t=e.split(","),n=(d=t[0])==null?void 0:d.match(/:(.*?);/),r=n?n[1]:"image/png",a=t[1]??"",s=atob(a),l=new ArrayBuffer(s.length),c=new Uint8Array(l);for(let f=0;f<s.length;f++)c[f]=s.charCodeAt(f);return new Blob([c],{type:r})}async function nj(e,t,n){const r=n.theme==="dark"?Mr.DARK_THEME:Mr.LIGHT_THEME,a={width:Mr.WIDTH,backgroundColor:r.background,pixelRatio:Mr.PIXEL_RATIO},s=await ej(e,a),l=JI(t);qv(s,l,"image/png")}class rj extends Error{constructor(n,r){super(n);ps(this,"cause");this.name="ImageExportError",this.cause=r}}const Mr={WIDTH:800,PADDING:24,MESSAGE_GAP:16,PIXEL_RATIO:2,LIGHT_THEME:{background:"#ffffff",headerBackground:"#f5f5f5",userMessageBackground:"#e3f2fd",aiMessageBackground:"#f5f5f5",textColor:"#1a1a1a",secondaryTextColor:"#666666",borderColor:"#e0e0e0"},DARK_THEME:{background:"#1a1a1a",headerBackground:"#262626",userMessageBackground:"#1e3a5f",aiMessageBackground:"#262626",textColor:"#ffffff",secondaryTextColor:"#a0a0a0",borderColor:"#404040"}};function Is(e){return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Wv(e){return e==="user"?"":"AI"}function ij(e,t){const n=[];if(t&&e.thoughtSummary&&n.push(`>  :
> ${e.thoughtSummary.split(`
`).join(`
> `)}`),e.content&&n.push(e.content),e.attachments&&e.attachments.length>0){const r=e.attachments.filter(a=>a.type==="image");r.length>0&&(n.push(`
**:**`),r.forEach((a,s)=>{n.push(`![${a.name||` ${s+1}`}](data:${a.mimeType};base64,${a.data})`)}))}return e.generatedImages&&e.generatedImages.length>0&&(n.push(`
**:**`),e.generatedImages.forEach((r,a)=>{n.push(`![ ${a+1}](data:${r.mimeType};base64,${r.data})`)})),n.join(`

`)}function aj(e,t,n){const r=[];r.push(`# ${t.title||""}`),r.push(""),r.push("## "),r.push(""),r.push(`- ****: ${t.modelName||""}`),r.push(`- ****: ${Is(t.exportedAt)}`),r.push(`- ****: ${e.length}`),r.push(""),r.push("---"),r.push(""),r.push("## "),r.push("");for(const a of e){const s=Wv(a.role),l=a.role==="user"?"":"",c=n.includeTimestamps&&a.timestamp?` (${Is(a.timestamp)})`:"";r.push(`### ${l} ${s}${c}`),r.push("");const d=ij(a,n.includeThoughts);r.push(d),r.push("")}return r.push("---"),r.push(""),r.push("* Gemini Chat *"),r.join(`
`)}function qv(e,t,n="text/plain"){const r=e instanceof Blob?e:new Blob([e],{type:n}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}async function sj(e,t,n){const{format:r,...a}=n,s=`${t.title||""}_${Is(t.exportedAt).replace(/[/:]/g,"-")}`;switch(r){case"markdown":{const l=aj(e,t,a);qv(l,`${s}.md`,"text/markdown");break}case"image":throw new Error(" DOM  exportChatToImage ");default:{const l=r;throw new Error(`: ${l}`)}}}const oj=C.forwardRef(function({messages:t,metadata:n,options:r,theme:a,onRenderComplete:s},l){const c=a==="dark"?Mr.DARK_THEME:Mr.LIGHT_THEME,d=C.useCallback(f=>{f&&s&&requestAnimationFrame(()=>{s(f)}),typeof l=="function"?l(f):l&&(l.current=f)},[l,s]);return u.jsxs("div",{ref:d,style:{width:`${Mr.WIDTH}px`,backgroundColor:c.background,color:c.textColor,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:"14px",lineHeight:"1.6"},children:[u.jsx(lj,{metadata:n,colors:c}),u.jsx("div",{style:{padding:`${Mr.PADDING}px`},children:t.map((f,h)=>u.jsx(uj,{message:f,options:r,colors:c,isLast:h===t.length-1},f.id))}),u.jsx(fj,{colors:c})]})});function lj({metadata:e,colors:t}){return u.jsxs("div",{style:{backgroundColor:t.headerBackground,padding:`${Mr.PADDING}px`,borderBottom:`1px solid ${t.borderColor}`},children:[u.jsx("h1",{style:{margin:0,fontSize:"20px",fontWeight:600,color:t.textColor,marginBottom:"8px"},children:e.title||""}),u.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"13px",color:t.secondaryTextColor},children:[u.jsxs("span",{children:[": ",e.modelName||""]}),u.jsxs("span",{children:[": ",Is(e.exportedAt)]})]})]})}function uj({message:e,options:t,colors:n,isLast:r}){const a=e.role==="user",s=a?n.userMessageBackground:n.aiMessageBackground,l=a?"":"",c=Wv(e.role);return u.jsxs("div",{style:{backgroundColor:s,borderRadius:"8px",padding:"16px",marginBottom:r?0:`${Mr.MESSAGE_GAP}px`,border:`1px solid ${n.borderColor}`},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:600,fontSize:"14px"},children:[u.jsx("span",{children:l}),u.jsx("span",{children:c})]}),t.includeTimestamps&&e.timestamp&&u.jsx("span",{style:{fontSize:"12px",color:n.secondaryTextColor},children:Is(e.timestamp)})]}),t.includeThoughts&&e.thoughtSummary&&u.jsx(cj,{thoughtSummary:e.thoughtSummary,colors:n}),u.jsx(hj,{content:e.content,colors:n}),e.attachments&&e.attachments.length>0&&u.jsx(mj,{attachments:e.attachments,colors:n}),e.generatedImages&&e.generatedImages.length>0&&u.jsx(dj,{images:e.generatedImages,colors:n})]})}function cj({thoughtSummary:e,colors:t}){return u.jsxs("div",{style:{backgroundColor:t.background,borderRadius:"6px",padding:"12px",marginBottom:"12px",borderLeft:`3px solid ${t.borderColor}`},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",fontWeight:500,color:t.secondaryTextColor,marginBottom:"8px"},children:[u.jsx("span",{children:""}),u.jsx("span",{children:""})]}),u.jsx("div",{style:{fontSize:"13px",color:t.secondaryTextColor,whiteSpace:"pre-wrap",lineHeight:"1.5"},children:e})]})}function dj({images:e,colors:t}){const n=e.length===1?1:2;return u.jsx("div",{style:{marginTop:"12px",display:"grid",gridTemplateColumns:`repeat(${n}, 1fr)`,gap:"8px"},children:e.map((r,a)=>u.jsx("div",{style:{borderRadius:"8px",overflow:"hidden",border:`1px solid ${t.borderColor}`,backgroundColor:t.background},children:u.jsx("img",{src:`data:${r.mimeType};base64,${r.data}`,alt:` ${a+1}`,style:{width:"100%",height:"auto",display:"block"}})},a))})}function mj({attachments:e,colors:t}){const n=e.filter(a=>a.type==="image");if(n.length===0)return null;const r=n.length===1?1:2;return u.jsx("div",{style:{marginTop:"12px",display:"grid",gridTemplateColumns:`repeat(${r}, 1fr)`,gap:"8px"},children:n.map(a=>u.jsx("div",{style:{borderRadius:"8px",overflow:"hidden",border:`1px solid ${t.borderColor}`,backgroundColor:t.background},children:u.jsx("img",{src:`data:${a.mimeType};base64,${a.data}`,alt:a.name,style:{width:"100%",height:"auto",display:"block"}})},a.id))})}function fj({colors:e}){return u.jsx("div",{style:{backgroundColor:e.headerBackground,padding:`${Mr.PADDING/2}px ${Mr.PADDING}px`,borderTop:`1px solid ${e.borderColor}`,textAlign:"center",fontSize:"12px",color:e.secondaryTextColor},children:" Gemini Chat "})}function hj({content:e,colors:t}){const n=C.useMemo(()=>({p:({children:r})=>u.jsx("p",{style:{margin:"8px 0",lineHeight:"1.7"},children:r}),h1:({children:r})=>u.jsx("h1",{style:{fontSize:"20px",fontWeight:600,margin:"16px 0 8px",borderBottom:`1px solid ${t.borderColor}`,paddingBottom:"4px"},children:r}),h2:({children:r})=>u.jsx("h2",{style:{fontSize:"18px",fontWeight:600,margin:"14px 0 6px",borderBottom:`1px solid ${t.borderColor}`,paddingBottom:"4px"},children:r}),h3:({children:r})=>u.jsx("h3",{style:{fontSize:"16px",fontWeight:600,margin:"12px 0 4px"},children:r}),h4:({children:r})=>u.jsx("h4",{style:{fontSize:"15px",fontWeight:600,margin:"10px 0 4px"},children:r}),h5:({children:r})=>u.jsx("h5",{style:{fontSize:"14px",fontWeight:600,margin:"8px 0 4px"},children:r}),h6:({children:r})=>u.jsx("h6",{style:{fontSize:"13px",fontWeight:500,margin:"8px 0 4px",color:t.secondaryTextColor},children:r}),ul:({children:r})=>u.jsx("ul",{style:{margin:"8px 0",paddingLeft:"24px",listStyleType:"disc"},children:r}),ol:({children:r})=>u.jsx("ol",{style:{margin:"8px 0",paddingLeft:"24px",listStyleType:"decimal"},children:r}),li:({children:r})=>u.jsx("li",{style:{margin:"4px 0",lineHeight:"1.6"},children:r}),a:({children:r,href:a})=>u.jsx("a",{href:a,style:{color:"#3b82f6",textDecoration:"underline"},children:r}),strong:({children:r})=>u.jsx("strong",{style:{fontWeight:600},children:r}),em:({children:r})=>u.jsx("em",{style:{fontStyle:"italic"},children:r}),code:({children:r,className:a})=>a&&/language-\w+/.test(a)?u.jsx("code",{children:r}):u.jsx("code",{style:{backgroundColor:t.headerBackground,padding:"2px 6px",borderRadius:"4px",fontSize:"13px",fontFamily:'Consolas, Monaco, "Courier New", monospace',border:`1px solid ${t.borderColor}`},children:r}),pre:({children:r})=>u.jsx("pre",{style:{backgroundColor:"#1e293b",color:"#e2e8f0",padding:"12px 16px",borderRadius:"6px",margin:"12px 0",overflow:"auto",fontSize:"13px",fontFamily:'Consolas, Monaco, "Courier New", monospace',lineHeight:"1.5"},children:r}),blockquote:({children:r})=>u.jsx("blockquote",{style:{borderLeft:"4px solid #3b82f6",paddingLeft:"16px",margin:"12px 0",color:t.secondaryTextColor,fontStyle:"italic"},children:r}),hr:()=>u.jsx("hr",{style:{border:"none",borderTop:`1px solid ${t.borderColor}`,margin:"16px 0"}}),table:({children:r})=>u.jsx("div",{style:{overflowX:"auto",margin:"12px 0"},children:u.jsx("table",{style:{borderCollapse:"collapse",width:"100%",border:`1px solid ${t.borderColor}`,borderRadius:"6px"},children:r})}),thead:({children:r})=>u.jsx("thead",{style:{backgroundColor:t.headerBackground},children:r}),tbody:({children:r})=>u.jsx("tbody",{children:r}),tr:({children:r})=>u.jsx("tr",{style:{borderBottom:`1px solid ${t.borderColor}`},children:r}),th:({children:r})=>u.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontWeight:600,borderBottom:`1px solid ${t.borderColor}`},children:r}),td:({children:r})=>u.jsx("td",{style:{padding:"8px 12px",borderBottom:`1px solid ${t.borderColor}`},children:r}),img:({src:r,alt:a})=>u.jsx("img",{src:r,alt:a,style:{maxWidth:"100%",height:"auto",borderRadius:"6px",margin:"8px 0"}})}),[t]);return u.jsx("div",{style:{color:t.textColor},children:u.jsx(B4,{remarkPlugins:[cb],components:n,children:e})})}function pj({isOpen:e,onClose:t,windowId:n,windowTitle:r,messages:a,modelName:s}){const[l,c]=C.useState("markdown"),[d,f]=C.useState(!0),[h,g]=C.useState(!1),[v,x]=C.useState(!1),[w,E]=C.useState(null),[N,T]=C.useState(!1),[I,L]=C.useState(!1),B=C.useRef(null),D=C.useRef(null),[O,te]=C.useState("light");C.useEffect(()=>{const ie=()=>{const de=document.documentElement.classList.contains("dark");te(de?"dark":"light")};ie();const se=new MutationObserver(ie);return se.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>se.disconnect()},[]);const G=C.useCallback(async()=>{if(L(!0),await new Promise(de=>setTimeout(de,300)),!D.current)throw new Error("");const ie={title:r,exportedAt:Date.now()},se={theme:O};await nj(D.current,ie,se),L(!1)},[r,s,d,h,O]),J=C.useCallback(async()=>{x(!0),E(null),T(!1);try{if(l==="image")await G();else{const ie={format:l,includeTimestamps:d,includeThoughts:h},se={title:r,modelName:s,exportedAt:Date.now()};await sj(a,se,ie)}T(!0),setTimeout(()=>{t(),T(!1)},2e3)}catch(ie){console.error(":",ie),E(ie instanceof Error?ie.message:""),L(!1)}finally{x(!1)}},[l,d,h,r,s,a,t,G]),z=C.useCallback(()=>{v||(E(null),T(!1),t())},[v,t]);return e?u.jsxs(u.Fragment,{children:[I&&Ci.createPortal(u.jsx("div",{ref:B,style:{position:"fixed",left:"-9999px",top:0,zIndex:9999,opacity:1,pointerEvents:"none"},children:u.jsx(oj,{ref:D,messages:a,metadata:{title:r,modelName:s,exportedAt:Date.now()},options:{includeTimestamps:d,includeThoughts:h},theme:O})}),document.body),u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:z}),u.jsxs("div",{className:"relative bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200 dark:border-neutral-700",children:[u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:""}),u.jsx("button",{onClick:z,disabled:v,className:"p-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400 transition-colors disabled:opacity-50","aria-label":"",children:u.jsx(gj,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"px-6 py-4 space-y-6",children:[u.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[u.jsxs("p",{children:[": ",u.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:r||""})]}),u.jsxs("p",{children:[": ",u.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:a.length})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:""}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(tx,{format:"markdown",currentFormat:l,onClick:()=>c("markdown"),icon:u.jsx(xj,{className:"w-5 h-5"}),label:"Markdown",description:".md "}),u.jsx(tx,{format:"image",currentFormat:l,onClick:()=>c("image"),icon:u.jsx(bj,{className:"w-5 h-5"}),label:"",description:".png "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:""}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(nx,{checked:d,onChange:f,label:"",description:""}),u.jsx(nx,{checked:h,onChange:g,label:"",description:" AI "})]})]}),w&&u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:[u.jsx(yj,{className:"w-5 h-5 flex-shrink-0"}),u.jsx("span",{children:w})]}),N&&u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-lg text-sm",children:[u.jsx(kj,{className:"w-5 h-5 flex-shrink-0"}),u.jsx("span",{children:""})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900/50",children:[u.jsx("button",{onClick:z,disabled:v,className:"px-4 py-2 rounded-lg text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50",children:""}),u.jsx("button",{onClick:J,disabled:v||a.length===0,className:"px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:v?u.jsxs(u.Fragment,{children:[u.jsx(wj,{className:"w-4 h-4"}),u.jsx("span",{children:"..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(vj,{className:"w-4 h-4"}),u.jsx("span",{children:""})]})})]})]})]})]}):null}function tx({format:e,currentFormat:t,onClick:n,icon:r,label:a,description:s}){const l=e===t;return u.jsxs("button",{onClick:n,className:`
        flex-1 flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all
        ${l?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300 dark:hover:border-neutral-600"}
      `,children:[u.jsx("div",{className:l?"text-primary-600 dark:text-primary-400":"text-neutral-500 dark:text-neutral-400",children:r}),u.jsxs("div",{children:[u.jsx("div",{className:`font-medium ${l?"text-primary-700 dark:text-primary-300":"text-neutral-700 dark:text-neutral-300"}`,children:a}),u.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:s})]})]})}function nx({checked:e,onChange:t,label:n,description:r}){return u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[u.jsx("div",{className:"pt-0.5",children:u.jsx("input",{type:"checkbox",checked:e,onChange:a=>t(a.target.checked),className:"w-4 h-4 rounded border-neutral-300 dark:border-neutral-600 text-primary-600 focus:ring-primary-500 dark:bg-neutral-700"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300 group-hover:text-neutral-900 dark:group-hover:text-neutral-100",children:n}),u.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:r})]})]})}function gj({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function xj({className:e}){return u.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M22.27 19.385H1.73A1.73 1.73 0 010 17.655V6.345a1.73 1.73 0 011.73-1.73h20.54A1.73 1.73 0 0124 6.345v11.31a1.73 1.73 0 01-1.73 1.73zM5.769 15.923v-4.5l2.308 2.885 2.307-2.885v4.5h2.308V8.077h-2.308l-2.307 2.885-2.308-2.885H3.461v7.846h2.308zM19.385 12h-2.308V8.077h-2.307V12h-2.308l3.461 4.039 3.462-4.039z"})})}function bj({className:e}){return u.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})})}function vj({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}function yj({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function kj({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function wj({className:e}){return u.jsxs("svg",{className:`animate-spin ${e}`,fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function Sj({currentModel:e,models:t,onChange:n}){const[r,a]=C.useState(!1),s=C.useRef(null),l=t.find(h=>h.id===e),c=(l==null?void 0:l.name)||e,d=t.filter(h=>h.enabled!==!1);C.useEffect(()=>{const h=g=>{s.current&&!s.current.contains(g.target)&&a(!1)};return r&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[r]);const f=h=>{n(h),a(!1)};return u.jsxs("div",{ref:s,className:"relative",children:[u.jsxs("button",{onClick:()=>a(!r),className:`\r
          flex items-center gap-1.5 px-2 py-1 rounded-md\r
          text-sm text-neutral-600 dark:text-neutral-400\r
          hover:bg-neutral-100 dark:hover:bg-neutral-800\r
          hover:text-neutral-900 dark:hover:text-neutral-200\r
          transition-colors\r
        `,title:"","aria-label":"","aria-expanded":r,"aria-haspopup":"listbox",children:[u.jsx("span",{className:"max-w-[150px] truncate",children:c}),u.jsx(Tj,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]}),r&&u.jsx("div",{className:`\r
            absolute top-full left-0 mt-1 z-50\r
            min-w-[200px] max-h-[300px] overflow-y-auto\r
            bg-white dark:bg-neutral-800\r
            border border-neutral-200 dark:border-neutral-700\r
            rounded-lg shadow-lg\r
          `,role:"listbox","aria-label":"",children:d.length===0?u.jsx("div",{className:"px-3 py-2 text-sm text-neutral-500 dark:text-neutral-400",children:""}):d.map(h=>u.jsxs("button",{onClick:()=>f(h.id),className:`
                  w-full text-left px-3 py-2
                  text-sm transition-colors
                  ${h.id===e?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}
                `,role:"option","aria-selected":h.id===e,children:[u.jsx("div",{className:"font-medium",children:h.name}),h.description&&u.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-0.5 line-clamp-1",children:h.description})]},h.id))})]})}function Ej({windowId:e,title:t,onOpenConfig:n,currentModel:r,models:a,onModelChange:s,messages:l=[]}){const[c,d]=C.useState(!1),f=a==null?void 0:a.find(g=>g.id===r),h=(f==null?void 0:f.name)||r||"";return u.jsxs("div",{className:`\r
      flex items-center justify-between px-4 py-3\r
      border-b border-neutral-200 dark:border-neutral-700\r
      bg-white dark:bg-neutral-900\r
    `,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h1",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate max-w-md",children:t||""}),r&&a&&s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-neutral-300 dark:text-neutral-600",children:"|"}),u.jsx(Sj,{currentModel:r,models:a,onChange:s})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>d(!0),disabled:l.length===0,className:`\r
            p-2 rounded-lg\r
            hover:bg-neutral-100 dark:hover:bg-neutral-800\r
            text-neutral-500 dark:text-neutral-400\r
            hover:text-neutral-700 dark:hover:text-neutral-200\r
            transition-colors\r
            disabled:opacity-50 disabled:cursor-not-allowed\r
          `,style:{minHeight:Et.minimum,minWidth:Et.minimum},title:"","aria-label":"",children:u.jsx(Cj,{className:"w-5 h-5"})}),u.jsx("button",{onClick:n,className:`\r
            p-2 rounded-lg\r
            hover:bg-neutral-100 dark:hover:bg-neutral-800\r
            text-neutral-500 dark:text-neutral-400\r
            hover:text-neutral-700 dark:hover:text-neutral-200\r
            transition-colors\r
          `,style:{minHeight:Et.minimum,minWidth:Et.minimum},title:"","aria-label":"",children:u.jsx(Nj,{className:"w-5 h-5"})})]}),u.jsx(pj,{isOpen:c,onClose:()=>d(!1),windowId:e,windowTitle:t,messages:l,modelName:h})]})}function Nj({className:e}){return u.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function Tj({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function Cj({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}function _j({subTopic:e,isActive:t,canDelete:n,onSelect:r,onDelete:a,onRename:s,reducedMotion:l}){const[c,d]=C.useState(!1),[f,h]=C.useState(e.title),[g,v]=C.useState(!1),x=C.useRef(null);C.useEffect(()=>{c&&x.current&&(x.current.focus(),x.current.select())},[c]);const w=D=>{D.stopPropagation(),s&&(h(e.title),d(!0))},E=()=>{const D=f.trim();D&&D!==e.title&&s&&s(D),d(!1)},N=D=>{D.key==="Enter"?E():D.key==="Escape"&&(h(e.title),d(!1))},T=D=>{D.stopPropagation(),n&&v(!0)},I=D=>{D.stopPropagation(),a(),v(!1)},L=D=>{D.stopPropagation(),v(!1)},B=l?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`};return u.jsxs("div",{className:`
        group relative flex items-center gap-1 px-3 rounded-lg cursor-pointer touch-manipulation
        ${t?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"hover:bg-neutral-100 dark:hover:bg-neutral-800 text-neutral-600 dark:text-neutral-400"}
      `,style:{...B,minHeight:Et.minimum},onClick:r,onDoubleClick:w,role:"tab","aria-selected":t,tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),r())},children:[c?u.jsx("input",{ref:x,type:"text",value:f,onChange:D=>h(D.target.value),onBlur:E,onKeyDown:N,onClick:D=>D.stopPropagation(),className:`\r
            w-full px-1 py-0.5 text-sm bg-white dark:bg-neutral-900\r
            border border-primary-300 dark:border-primary-600 rounded\r
            focus:outline-none focus:ring-2 focus:ring-primary-500\r
          `,maxLength:50}):u.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:e.title}),n&&!c&&u.jsx("button",{onClick:T,className:`
            ml-1 p-2 rounded opacity-0 group-hover:opacity-100 touch-manipulation
            hover:bg-neutral-200 dark:hover:bg-neutral-700
            text-neutral-400 hover:text-error-light dark:hover:text-error-dark
          `,style:{...B,minWidth:Et.minimum,minHeight:Et.minimum},"aria-label":` ${e.title}`,children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:L}),u.jsxs("div",{className:`\r
              fixed z-50 p-3 bg-white dark:bg-neutral-800\r
              rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700\r
              min-w-[180px]\r
            `,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:D=>D.stopPropagation(),children:[u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:""}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:I,className:`\r
                  flex-1 px-3 py-2 text-sm font-medium text-white touch-manipulation\r
                  bg-red-500 hover:bg-red-600 rounded-lg\r
                  transition-colors\r
                `,children:""}),u.jsx("button",{onClick:L,className:`\r
                  flex-1 px-3 py-2 text-sm font-medium touch-manipulation\r
                  bg-neutral-100 dark:bg-neutral-700 rounded-lg\r
                  hover:bg-neutral-200 dark:hover:bg-neutral-600\r
                  transition-colors\r
                `,children:""})]})]})]})]})}function Mj({windowId:e,subTopics:t,activeSubTopicId:n,onSelect:r,onCreate:a,onDelete:s,onRename:l}){const c=gr(),d=C.useRef(null);C.useEffect(()=>{if(d.current){const g=d.current.querySelector('[aria-selected="true"]');g&&g.scrollIntoView({behavior:c?"auto":"smooth",block:"nearest",inline:"center"})}},[n,c]);const f=c?{}:{transition:`all ${ir.normal}ms ${ln.easeOut}`},h=t.length>1;return u.jsxs("div",{className:`\r
        flex items-center gap-2 px-4 py-2\r
        border-b border-neutral-200 dark:border-neutral-700\r
        bg-white dark:bg-neutral-900\r
      `,role:"tablist","aria-label":"",children:[u.jsx("div",{ref:d,className:"flex-1 flex items-center gap-1 overflow-x-auto scrollbar-thin",style:f,children:t.map(g=>u.jsx(_j,{subTopic:g,isActive:g.id===n,canDelete:h,onSelect:()=>r(g.id),onDelete:()=>s(g.id),onRename:l?v=>l(g.id,v):void 0,reducedMotion:c},g.id))}),u.jsx("button",{onClick:a,className:`\r
          flex items-center justify-center p-2 rounded-lg touch-manipulation\r
          text-neutral-500 dark:text-neutral-400\r
          hover:bg-neutral-100 dark:hover:bg-neutral-800\r
          hover:text-primary-600 dark:hover:text-primary-400\r
        `,style:{...f,minWidth:Et.minimum,minHeight:Et.minimum},"aria-label":"",title:"",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})}function Aj({currentModel:e,models:t,onChange:n}){return u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:""}),u.jsx("select",{value:e,onChange:r=>n(r.target.value),className:`\r
          w-full px-3 py-2 rounded-lg\r
          border border-neutral-300 dark:border-neutral-600\r
          bg-white/80 dark:bg-neutral-800/80\r
          text-neutral-900 dark:text-neutral-100\r
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\r
          text-sm backdrop-blur-sm\r
        `,children:t.map(r=>u.jsx("option",{value:r.id,children:r.id},r.id))})]})}function _u({label:e,value:t,min:n,max:r,step:a,onChange:s,description:l,formatValue:c=d=>d.toString()}){return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:e}),u.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:c(t)})]}),u.jsx("input",{type:"range",min:n,max:r,step:a,value:t,onChange:d=>s(parseFloat(d.target.value)),className:`\r
          w-full h-2 rounded-lg appearance-none cursor-pointer\r
          bg-neutral-200 dark:bg-neutral-700\r
          accent-primary-500\r
        `}),l&&u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:l})]})}function Ij({value:e,onChange:t}){const n=C.useRef(null);return C.useEffect(()=>{n.current&&(n.current.style.height="auto",n.current.style.height=`${Math.min(n.current.scrollHeight,120)}px`)},[e]),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:""}),u.jsx("textarea",{ref:n,value:e,onChange:r=>t(r.target.value),placeholder:" AI ...",rows:2,className:`\r
          w-full px-3 py-2 rounded-lg\r
          border border-neutral-300 dark:border-neutral-600\r
          bg-white/80 dark:bg-neutral-800/80\r
          text-neutral-900 dark:text-neutral-100\r
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\r
          text-sm resize-none backdrop-blur-sm\r
        `})]})}function jj({isOpen:e,onClose:t,config:n,onConfigChange:r}){var z,ie,se,de,K;const a=C.useRef(null),s=gr(),{models:l}=Cn(),c=y6(n.model);C.useEffect(()=>{const P=ee=>{a.current&&!a.current.contains(ee.target)&&t()},Y=ee=>{ee.key==="Escape"&&t()};if(e)return document.addEventListener("mousedown",P),document.addEventListener("keydown",Y),document.body.style.overflow="hidden",()=>{document.removeEventListener("mousedown",P),document.removeEventListener("keydown",Y),document.body.style.overflow=""}},[e,t]);const d=C.useCallback(P=>{r({model:P})},[r]),f=C.useCallback((P,Y)=>{r({generationConfig:{...n.generationConfig,[P]:Y}})},[n.generationConfig,r]),h=C.useCallback(P=>{r({systemInstruction:P})},[r]),g=C.useCallback(P=>{r({advancedConfig:{...n.advancedConfig,thinkingLevel:P}})},[n.advancedConfig,r]),v=C.useCallback(P=>{r({advancedConfig:{...n.advancedConfig,thinkingBudget:P}})},[n.advancedConfig,r]),x=C.useCallback(P=>{r({advancedConfig:{...n.advancedConfig,...P}})},[n.advancedConfig,r]),w=c.thinkingConfigType||"none",E=c.thinkingBudgetConfig,N=((z=n.advancedConfig)==null?void 0:z.thinkingBudget)??(E==null?void 0:E.defaultValue)??-1,T=c.supportsThoughtSummary===!0,I=((ie=n.advancedConfig)==null?void 0:ie.includeThoughts)??!1,L=c.supportsMediaResolution===!0,B=(se=n.advancedConfig)==null?void 0:se.mediaResolution,D=c.supportsImageSize!==!1,O=C.useCallback(P=>{var Y;r({advancedConfig:{...n.advancedConfig,imageConfig:{...((Y=n.advancedConfig)==null?void 0:Y.imageConfig)||za,...P}}})},[n.advancedConfig,r]),te=C.useCallback(P=>{r({advancedConfig:{...n.advancedConfig,mediaResolution:P}})},[n.advancedConfig,r]);if(!e)return null;const G=s?0:ir.normal,J=u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(4px)",transition:`opacity ${G}ms ${ln.easeOut}`},children:u.jsxs("div",{ref:a,className:`\r
          w-full max-w-lg mx-4 max-h-[85vh] overflow-y-auto\r
          rounded-2xl shadow-2xl\r
          bg-white/90 dark:bg-neutral-900/90\r
          border border-neutral-200/50 dark:border-neutral-700/50\r
        `,style:{backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:`transform ${G}ms ${ln.easeOut}, opacity ${G}ms ${ln.easeOut}`},role:"dialog","aria-modal":"true","aria-label":"",children:[u.jsxs("div",{className:`\r
          flex items-center justify-between px-6 py-4\r
          border-b border-neutral-200/50 dark:border-neutral-700/50\r
        `,children:[u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:""}),u.jsx("button",{onClick:t,className:`\r
              p-2 rounded-lg\r
              hover:bg-neutral-100/80 dark:hover:bg-neutral-800/80\r
              text-neutral-500 dark:text-neutral-400\r
              transition-colors\r
            `,"aria-label":"",children:u.jsx(Lj,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"px-6 py-4 space-y-6",children:[u.jsx(Aj,{currentModel:n.model,models:qx(l),onChange:d}),w==="level"&&u.jsx(of,{value:((de=n.advancedConfig)==null?void 0:de.thinkingLevel)||"high",onChange:g,variant:"full",modelId:n.model}),w==="budget"&&E&&u.jsx(lf,{value:N,config:E,onChange:v,variant:"full"}),T&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:""}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:""})]}),u.jsx("button",{type:"button",role:"switch","aria-checked":I,onClick:()=>x({includeThoughts:!I}),className:`
                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                  focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
                  ${I?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600"}
                `,children:u.jsx("span",{className:`
                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                    ${I?"translate-x-6":"translate-x-1"}
                  `})})]}),u.jsx(Rj,{value:n.streamingEnabled,onChange:P=>r({streamingEnabled:P})}),c.supportsImageGeneration&&u.jsx(uf,{config:((K=n.advancedConfig)==null?void 0:K.imageConfig)||za,onChange:O,variant:"full",supportsImageSize:D}),L&&u.jsx(v6,{value:B,onChange:te,variant:"full"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:""}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsx(_u,{label:"Temperature",value:n.generationConfig.temperature??1,min:0,max:2,step:.1,onChange:P=>f("temperature",P),description:""}),u.jsx(_u,{label:"Top P",value:n.generationConfig.topP??.95,min:0,max:1,step:.05,onChange:P=>f("topP",P),description:""}),u.jsx(_u,{label:"Top K",value:n.generationConfig.topK??40,min:1,max:100,step:1,onChange:P=>f("topK",P),description:""}),u.jsx(_u,{label:"",value:n.generationConfig.maxOutputTokens??c.maxOutputTokens??8192,min:256,max:c.maxOutputTokens??8192,step:256,onChange:P=>f("maxOutputTokens",P),formatValue:P=>`${P} tokens`,description:""})]})]}),u.jsx(Ij,{value:n.systemInstruction||"",onChange:h})]})]})});return Ci.createPortal(J,document.body)}function Rj({value:e,onChange:t}){const n=Jt(c=>c.streamingEnabled),r=()=>e===void 0?` (${n?"":""})`:e?"":"",a=()=>{t(e===void 0?!0:e===!0?!1:void 0)},s=()=>e===void 0?"bg-neutral-400 dark:bg-neutral-500":e?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600",l=()=>e===void 0?"translate-x-3.5":e?"translate-x-6":"translate-x-1";return u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:""}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:r()})]}),u.jsx("button",{type:"button",role:"switch","aria-checked":e===!0,onClick:a,className:`
          relative inline-flex h-6 w-11 items-center rounded-full transition-colors
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
          ${s()}
        `,children:u.jsx("span",{className:`
            inline-block h-4 w-4 transform rounded-full bg-white transition-transform
            ${l()}
          `})})]})}function Lj({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function ks(e,t,n){let r=n.initialDeps??[],a,s=!0;function l(){var c,d,f;let h;n.key&&((c=n.debug)!=null&&c.call(n))&&(h=Date.now());const g=e();if(!(g.length!==r.length||g.some((w,E)=>r[E]!==w)))return a;r=g;let x;if(n.key&&((d=n.debug)!=null&&d.call(n))&&(x=Date.now()),a=t(...g),n.key&&((f=n.debug)!=null&&f.call(n))){const w=Math.round((Date.now()-h)*100)/100,E=Math.round((Date.now()-x)*100)/100,N=E/16,T=(I,L)=>{for(I=String(I);I.length<L;)I=" "+I;return I};console.info(`%c ${T(E,5)} /${T(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*N,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(s&&n.skipInitialOnChange)&&n.onChange(a),s=!1,a}return l.updateDeps=c=>{r=c},l}function rx(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Oj=(e,t)=>Math.abs(e-t)<1.01,Dj=(e,t,n)=>{let r;return function(...a){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,a),n)}},ix=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},zj=e=>e,Pj=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let a=t;a<=n;a++)r.push(a);return r},Bj=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const a=l=>{const{width:c,height:d}=l;t({width:Math.round(c),height:Math.round(d)})};if(a(ix(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(l=>{const c=()=>{const d=l[0];if(d!=null&&d.borderBoxSize){const f=d.borderBoxSize[0];if(f){a({width:f.inlineSize,height:f.blockSize});return}}a(ix(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},ax={passive:!0},sx=typeof window>"u"?!0:"onscrollend"in window,Fj=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let a=0;const s=e.options.useScrollendEvent&&sx?()=>{}:Dj(r,()=>{t(a,!1)},e.options.isScrollingResetDelay),l=h=>()=>{const{horizontal:g,isRtl:v}=e.options;a=g?n.scrollLeft*(v&&-1||1):n.scrollTop,s(),t(a,h)},c=l(!0),d=l(!1);d(),n.addEventListener("scroll",c,ax);const f=e.options.useScrollendEvent&&sx;return f&&n.addEventListener("scrollend",d,ax),()=>{n.removeEventListener("scroll",c),f&&n.removeEventListener("scrollend",d)}},$j=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Hj=(e,{adjustments:t=0,behavior:n},r)=>{var a,s;const l=e+t;(s=(a=r.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class Uj{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const l=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var a;(a=r())==null||a.disconnect(),n=null},observe:a=>{var s;return(s=r())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=r())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,a])=>{typeof a>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:zj,rangeExtractor:Pj,onChange:()=>{},measureElement:$j,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,a;(a=(r=this.options).onChange)==null||a.call(r,this,n)},this.maybeNotify=ks(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const a=new Map,s=new Map;for(let l=r-1;l>=0;l--){const c=n[l];if(a.has(c.lane))continue;const d=s.get(c.lane);if(d==null||c.end>d.end?s.set(c.lane,c):c.end<d.end&&a.set(c.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=ks(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,a,s,l,c)=>(this.prevLanes!==void 0&&this.prevLanes!==c&&(this.lanesChangedFlag=!0),this.prevLanes=c,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:a,getItemKey:s,enabled:l,lanes:c}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=ks(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:a,getItemKey:s,enabled:l,lanes:c},d)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const v of this.laneAssignments.keys())v>=n&&this.laneAssignments.delete(v);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const f=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const h=this.measurementsCache.slice(0,f),g=new Array(c).fill(void 0);for(let v=0;v<f;v++){const x=h[v];x&&(g[x.lane]=v)}for(let v=f;v<n;v++){const x=s(v),w=this.laneAssignments.get(v);let E,N;if(w!==void 0&&this.options.lanes>1){E=w;const B=g[E],D=B!==void 0?h[B]:void 0;N=D?D.end+this.options.gap:r+a}else{const B=this.options.lanes===1?h[v-1]:this.getFurthestMeasurement(h,v);N=B?B.end+this.options.gap:r+a,E=B?B.lane:v%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(v,E)}const T=d.get(x),I=typeof T=="number"?T:this.options.estimateSize(v),L=N+I;h[v]={index:v,start:N,size:I,end:L,key:x,lane:E},g[E]=v}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ks(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,a,s)=>this.range=n.length>0&&r>0?Wj({measurements:n,outerSize:r,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ks(()=>{let n=null,r=null;const a=this.calculateRange();return a&&(n=a.startIndex,r=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,a,s,l)=>s===null||l===null?[]:n({startIndex:s,endIndex:l,overscan:r,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,a=n.getAttribute(r);return a?parseInt(a,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const a=this.indexFromElement(n),s=this.measurementsCache[a];if(!s)return;const l=s.key,c=this.elementsCache.get(l);c!==n&&(c&&this.observer.unobserve(c),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(a,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const a=this.measurementsCache[n];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,l=r-s;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,l,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,a)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(a))});return}this._measureElement(n,void 0)},this.getVirtualItems=ks(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const a=[];for(let s=0,l=n.length;s<l;s++){const c=n[s],d=r[c];a.push(d)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return rx(r[Gv(0,r.length-1,a=>rx(r[a]).start,n)])},this.getOffsetForAlignment=(n,r,a=0)=>{const s=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+s?"end":"start"),r==="center"?n+=(a-s)/2:r==="end"&&(n-=s);const c=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const a=this.measurementsCache[n];if(!a)return;const s=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(a.end>=l+s-this.options.scrollPaddingEnd)r="end";else if(a.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const c=r==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,r,a.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:a})},this.scrollToIndex=(n,{align:r="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const l=10,c=f=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(n,f);if(!h){console.warn("Failed to get offset for index:",n);return}const[g,v]=h;this._scrollToOffset(g,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const x=this.getScrollOffset(),w=this.getOffsetForIndex(n,v);if(!w){console.warn("Failed to get offset for index:",n);return}Oj(w[0],x)||d(v)})},d=f=>{this.targetWindow&&(s++,s<l?this.targetWindow.requestAnimationFrame(()=>c(f)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};c(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let a;if(r.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&s.some(c=>c===null);){const c=r[l];s[c.lane]===null&&(s[c.lane]=c.end),l--}a=Math.max(...s.filter(c=>c!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:a})=>{this.options.scrollToFn(n,{behavior:a,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Gv=(e,t,n,r)=>{for(;e<=t;){const a=(e+t)/2|0,s=n(a);if(s<r)e=a+1;else if(s>r)t=a-1;else return a}return e>0?e-1:0};function Wj({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const a=e.length-1,s=d=>e[d].start;if(e.length<=r)return{startIndex:0,endIndex:a};let l=Gv(0,a,s,n),c=l;if(r===1)for(;c<a&&e[c].end<n+t;)c++;else if(r>1){const d=Array(r).fill(0);for(;c<a&&d.some(h=>h<n+t);){const h=e[c];d[h.lane]=h.end,c++}const f=Array(r).fill(n+t);for(;l>=0&&f.some(h=>h>=n);){const h=e[l];f[h.lane]=h.start,l--}l=Math.max(0,l-l%r),c=Math.min(a,c+(r-1-c%r))}return{startIndex:l,endIndex:c}}const ox=typeof document<"u"?C.useLayoutEffect:C.useEffect;function qj(e){const t=C.useReducer(()=>({}),{})[1],n={...e,onChange:(a,s)=>{var l;s?Ci.flushSync(t):t(),(l=e.onChange)==null||l.call(e,a,s)}},[r]=C.useState(()=>new Uj(n));return r.setOptions(n),ox(()=>r._didMount(),[]),ox(()=>r._willUpdate()),r}function Gj(e){return qj({observeElementRect:Bj,observeElementOffset:Fj,scrollToFn:Hj,...e})}const Vj={maxWidth:ra.SINGLE_MAX_WIDTH,maxHeight:ra.SINGLE_MAX_HEIGHT},Kj={maxWidth:ra.MULTI_MAX_WIDTH,maxHeight:ra.MULTI_MAX_HEIGHT},Yj={default:{skeleton:"bg-neutral-100 dark:bg-neutral-800",error:{bg:"bg-neutral-100 dark:bg-neutral-800",border:"border border-neutral-200 dark:border-neutral-700",text:"text-neutral-400 dark:text-neutral-500"},image:{border:"",hoverBorder:"",shadow:"shadow-md hover:shadow-lg"}},purple:{skeleton:"bg-purple-100 dark:bg-purple-900/30",error:{bg:"bg-purple-100 dark:bg-purple-900/30",border:"border-2 border-purple-200/60 dark:border-purple-700/40",text:"text-purple-400 dark:text-purple-500"},image:{border:"border-2 border-purple-200/60 dark:border-purple-700/40",hoverBorder:"hover:border-purple-400 dark:hover:border-purple-500",shadow:"hover:shadow-lg"}}},Xj=C.memo(function({image:t,index:n,onClick:r,totalCount:a,theme:s="default",singleImageSize:l=Vj,multiImageSize:c=Kj}){const[d,f]=C.useState(!0),[h,g]=C.useState(!1),v=Yj[s],x=a===1?l:c,w=`max-w-[${x.maxWidth}px] max-h-[${x.maxHeight}px]`,E=C.useCallback(()=>{f(!1)},[]),N=C.useCallback(()=>{f(!1),g(!0)},[]),T=C.useCallback(()=>{r&&!h&&r(n)},[r,n,h]),I=`data:${t.mimeType};base64,${t.data}`;return h?u.jsx("div",{className:`
          ${w}
          flex items-center justify-center
          ${v.error.bg}
          rounded-xl ${v.error.border}
        `,style:{maxWidth:x.maxWidth,maxHeight:x.maxHeight,minWidth:100,minHeight:80},children:u.jsxs("div",{className:`flex flex-col items-center gap-2 ${v.error.text}`,children:[u.jsx(Zj,{className:"w-8 h-8"}),u.jsx("span",{className:"text-xs",children:""})]})}):u.jsxs("div",{className:"relative group",children:[d&&u.jsx("div",{className:`
            absolute inset-0
            ${v.skeleton}
            rounded-xl animate-pulse
          `}),u.jsx("img",{src:I,alt:` ${n+1}`,title:s==="purple"?"":void 0,className:`
          h-auto object-contain rounded-xl
          cursor-pointer hover:opacity-90 transition-all duration-200
          hover:scale-[1.02]
          ${v.image.border}
          ${v.image.hoverBorder}
          ${v.image.shadow}
          ${d?"opacity-0":"opacity-100"}
        `,style:{maxWidth:x.maxWidth,maxHeight:x.maxHeight},onLoad:E,onError:N,onClick:T}),s==="purple"&&u.jsx("div",{className:`\r
          absolute bottom-1 left-1/2 -translate-x-1/2\r
          px-2 py-0.5 rounded text-xs\r
          bg-purple-500/80 text-white\r
          opacity-0 group-hover:opacity-100\r
          transition-opacity duration-200\r
          pointer-events-none\r
        `,children:""})]})});function Zj({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}const Qj={maxWidth:ra.SINGLE_MAX_WIDTH,maxHeight:ra.SINGLE_MAX_HEIGHT},Jj={maxWidth:ra.MULTI_MAX_WIDTH,maxHeight:ra.MULTI_MAX_HEIGHT};function eR(e){return e===1?"flex":"grid grid-cols-2"}const nh=C.memo(function({images:t,onImageClick:n,theme:r="default",singleImageSize:a=Qj,multiImageSize:s=Jj,className:l=""}){if(!t||t.length===0)return null;const c=eR(t.length),d=r==="purple"?"gap-2 mt-3":"gap-2 mb-2";return u.jsx("div",{className:`${c} ${d} w-fit ${l}`,children:t.map((f,h)=>u.jsx(Xj,{image:f,index:h,onClick:n,totalCount:t.length,theme:r,singleImageSize:a,multiImageSize:s},`image-grid-item-${h}`))})});function Km({content:e,isStreaming:t=!1,images:n}){const[r,a]=C.useState(!!t),[s,l]=C.useState(!1),c=C.useRef(null),d=C.useRef(t),[f,h]=C.useState(null);C.useEffect(()=>{d.current&&!t&&!s&&a(!1),d.current=t},[t,s]);const g=()=>{l(!0),a(!r)},v=C.useCallback(E=>{h(E)},[]),x=C.useCallback(()=>{h(null)},[]),w=f!==null&&n&&n[f]?n[f]:null;return u.jsxs("div",{className:`\r
        mb-3 rounded-xl overflow-hidden\r
        bg-gradient-to-r from-purple-50 to-indigo-50\r
        dark:from-purple-900/20 dark:to-indigo-900/20\r
        border border-purple-200/60 dark:border-purple-700/40\r
        shadow-sm\r
      `,children:[u.jsxs("button",{onClick:g,className:`\r
          w-full flex items-center justify-between\r
          px-4 py-3\r
          text-left\r
          hover:bg-purple-100/50 dark:hover:bg-purple-800/20\r
          transition-colors duration-150\r
          focus:outline-none focus-visible:ring-2 focus-visible:ring-purple-500/50\r
        `,"aria-expanded":r,"aria-controls":"thought-content",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tR,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),u.jsx("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:""})]}),u.jsx(nR,{className:`
            w-4 h-4 text-purple-500 dark:text-purple-400
            transform transition-transform duration-200
            ${r?"rotate-180":"rotate-0"}
          `})]}),u.jsx("div",{id:"thought-content",className:`
          overflow-hidden
          transition-all duration-300 ease-in-out
          ${r?"max-h-[5000px] opacity-100":"max-h-0 opacity-0"}
        `,children:u.jsxs("div",{ref:c,className:`\r
            px-4 pb-4 pt-1\r
            text-sm text-purple-800/80 dark:text-purple-200/80\r
            leading-relaxed\r
            whitespace-pre-wrap break-words\r
          `,children:[e,u.jsx(nh,{images:n||[],onImageClick:v,theme:"purple"})]})}),u.jsx(mc,{image:w,isOpen:f!==null,onClose:x})]})}function tR({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}function nR({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function rR({message:e,isOpen:t,onClose:n}){if(!e)return null;const r=e.tokenUsage!==void 0,a=e.duration!==void 0||e.ttfb!==void 0,s=r||a;return u.jsx(Jx,{isOpen:t,onClose:n,title:"",size:"md",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsx(cm,{children:""}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[u.jsx(Mu,{label:" ID",value:e.id,copyable:!0}),u.jsx(Mu,{label:"",value:e.role==="user"?"":"AI"}),u.jsx(Mu,{label:"",value:iR(e.timestamp)}),u.jsx(Mu,{label:"",value:`${e.content.length} `})]})]}),u.jsxs("section",{children:[u.jsx(cm,{children:"Token "}),u.jsx("div",{className:"mt-3",children:u.jsx(Xx,{tokenUsage:e.tokenUsage,compact:!1})})]}),u.jsxs("section",{children:[u.jsx(cm,{children:""}),u.jsx("div",{className:"mt-3",children:a?u.jsx(Zx,{duration:e.duration,ttfb:e.ttfb,compact:!1}):u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:""})})]}),!s&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(sR,{className:"w-12 h-12 mx-auto text-neutral-300 dark:text-neutral-600 mb-3"}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:""})]})]})})}function cm({children:e}){return u.jsx("h3",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300 border-b border-neutral-200 dark:border-neutral-700 pb-2",children:e})}function Mu({label:e,value:t,copyable:n=!1}){const r=async()=>{try{await navigator.clipboard.writeText(t)}catch(a){console.error(":",a)}};return u.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-1",children:e}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 font-mono truncate flex-1",children:t}),n&&u.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",title:"",children:u.jsx(aR,{className:"w-3.5 h-3.5"})})]})]})}function iR(e){return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function aR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function sR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function oR({message:e,isUserMessage:t,onEdit:n,onRegenerate:r,onDelete:a,onCopy:s,isRegenerating:l=!1,windowId:c,subTopicId:d,windowTitle:f}){const[h,g]=C.useState(!1),[v,x]=C.useState(!1),{isBookmarked:w,toggleBookmark:E,initialized:N,loadBookmarks:T}=fc(),[I,L]=C.useState(!1);C.useEffect(()=>{N||T()},[N,T]),C.useEffect(()=>{e.id&&L(w(e.id))},[e.id,w,N]);const B=C.useCallback(async()=>{if(e.content)try{await navigator.clipboard.writeText(e.content),g(!0),setTimeout(()=>g(!1),2e3),s==null||s()}catch(G){console.error(":",G)}},[e.content,s]),D=C.useCallback(async()=>{if(!e.id||!c||!d)return;const G=await E({messageId:e.id,windowId:c,subTopicId:d,messagePreview:(e.content||"").substring(0,100),messageRole:t?"user":"model",windowTitle:f||""});L(G)},[e.id,e.content,c,d,f,t,E]),O=C.useCallback(()=>{x(!0)},[]),te=C.useCallback(()=>{x(!1)},[]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ws,{onClick:B,title:h?"":"",disabled:!e.content,children:h?u.jsx(uR,{className:"w-3.5 h-3.5 text-green-500"}):u.jsx(lR,{className:"w-3.5 h-3.5"})}),c&&d&&u.jsx(ws,{onClick:D,title:I?"":"",children:u.jsx(hR,{className:"w-3.5 h-3.5",filled:I})}),t&&n&&u.jsx(ws,{onClick:n,title:"",children:u.jsx(cR,{className:"w-3.5 h-3.5"})}),!t&&r&&u.jsx(ws,{onClick:r,title:"",disabled:l,isLoading:l,children:u.jsx(dR,{className:`w-3.5 h-3.5 ${l?"animate-spin":""}`})}),u.jsx(ws,{onClick:O,title:"",children:u.jsx(mR,{className:"w-3.5 h-3.5"})}),a&&u.jsx(ws,{onClick:a,title:"",children:u.jsx(fR,{className:"w-3.5 h-3.5"})})]}),u.jsx(rR,{message:e,isOpen:v,onClose:te})]})}const ws=C.memo(function({onClick:t,title:n,disabled:r=!1,isLoading:a=!1,children:s}){return u.jsx("button",{onClick:t,title:n,disabled:r||a,className:`
        p-1.5 rounded-md
        text-neutral-400 hover:text-neutral-600
        dark:text-neutral-500 dark:hover:text-neutral-300
        hover:bg-neutral-100 dark:hover:bg-neutral-700
        transition-all duration-200
        ${r||a?"opacity-50 cursor-not-allowed":"opacity-100"}
      `,children:s})});function lR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function uR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function cR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function dR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}function mR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function fR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function hR({className:e,filled:t}){return t?u.jsx("svg",{className:`${e} text-primary-500`,fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}):u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}function pR({message:e,isLastUserMessage:t,onSave:n,onSaveAndResend:r,onCancel:a}){const[s,l]=C.useState(e.content),[c,d]=C.useState(""),f=C.useRef(null);C.useEffect(()=>{f.current&&(f.current.focus(),f.current.selectionStart=f.current.value.length,f.current.selectionEnd=f.current.value.length)},[]),C.useEffect(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=`${f.current.scrollHeight}px`)},[s]);const h=C.useCallback(T=>T.trim().length===0?(d(""),!1):(d(""),!0),[]),g=C.useCallback(T=>T===e.content,[e.content]),v=C.useCallback(()=>{if(g(s)){a();return}h(s)&&n(s)},[s,g,h,n,a]),x=C.useCallback(()=>{h(s)&&r(s)},[s,h,r]),w=C.useCallback(T=>{if(T.key==="Escape"){T.preventDefault(),T.stopPropagation(),a();return}if(T.key==="Enter"&&(T.ctrlKey||T.metaKey)){T.preventDefault(),T.stopPropagation(),t?x():v();return}},[a,t,v,x]),E=C.useCallback(T=>{l(T.target.value),c&&d("")},[c]),N=C.useMemo(()=>!!c,[c]);return u.jsxs("div",{className:"flex-1 min-w-0 max-w-[85%]",children:[u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{ref:f,value:s,onChange:E,onKeyDown:w,className:`
            w-full px-4 py-3 rounded-2xl rounded-br-md
            bg-white dark:bg-neutral-800
            border-2 transition-colors
            ${c?"border-red-500 dark:border-red-400":"border-green-500 dark:border-green-400 focus:border-green-600 dark:focus:border-green-300"}
            text-neutral-900 dark:text-neutral-100
            placeholder-neutral-400 dark:placeholder-neutral-500
            resize-none overflow-hidden
            focus:outline-none focus:ring-2 focus:ring-green-500/20 dark:focus:ring-green-400/20
            shadow-md shadow-green-500/20 dark:shadow-green-400/10
          `,placeholder:"...",rows:1}),c&&u.jsx("div",{className:"absolute -bottom-6 left-0 text-xs text-red-500 dark:text-red-400",children:c})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t?u.jsxs(u.Fragment,{children:[u.jsxs(No,{onClick:x,variant:"primary",disabled:N,children:[u.jsx(dm,{className:"w-4 h-4"}),""]}),u.jsx(No,{onClick:a,variant:"secondary",children:""})]}):u.jsxs(u.Fragment,{children:[u.jsxs(No,{onClick:v,variant:"secondary",disabled:N,children:[u.jsx(dm,{className:"w-4 h-4"}),""]}),u.jsxs(No,{onClick:x,variant:"primary",disabled:N,children:[u.jsx(dm,{className:"w-4 h-4"}),""]}),u.jsx(No,{onClick:a,variant:"secondary",children:""})]}),u.jsxs("div",{className:"ml-auto text-xs text-neutral-400 dark:text-neutral-500",children:[u.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-neutral-100 dark:bg-neutral-700",children:"Esc"})," ","  ",u.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-neutral-100 dark:bg-neutral-700",children:"Ctrl+Enter"})," "]})]})]})}const No=C.memo(function({onClick:t,variant:n,disabled:r=!1,children:a}){const s=n==="primary";return u.jsx("button",{onClick:t,disabled:r,className:`
        flex items-center gap-1.5 px-3 py-1.5 rounded-lg
        text-sm font-medium
        transition-all duration-200
        ${s?"bg-green-500 hover:bg-green-600 text-white shadow-md shadow-green-500/30 hover:shadow-lg hover:shadow-green-500/40":"bg-neutral-100 hover:bg-neutral-200 text-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-200"}
        ${r?"opacity-50 cursor-not-allowed":"hover:scale-105"}
        disabled:hover:scale-100
      `,children:a})});function dm({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}const gR={overscan:5,estimatedItemHeight:120};function xR({messages:e,isSending:t=!1,streamingText:n="",streamingThought:r="",streamingImages:a=[],error:s=null,onRetry:l,onDismissError:c,renderContent:d,onEditMessage:f,onRegenerateMessage:h,onDeleteMessage:g,config:v,regeneratingMessageId:x=null,onImageClick:w,windowId:E,subTopicId:N,windowTitle:T}){const I={...gR,...v},L=C.useRef(null),B=gr(),[D,O]=C.useState(!0),te=C.useRef(e.length),[G,J]=C.useState([]),[z,ie]=C.useState(0),[se,de]=C.useState(!1),K=t&&!x,P=e.length+(K?1:0),Y=Gj({count:P,getScrollElement:()=>L.current,estimateSize:()=>I.estimatedItemHeight,overscan:I.overscan,measureElement:R=>R.getBoundingClientRect().height}),ee=C.useCallback(()=>{const R=L.current;if(!R)return;const{scrollTop:xe,scrollHeight:Ae,clientHeight:ce}=R,fe=Ae-xe-ce<50;O(fe)},[]),W=C.useCallback((R=!0)=>{if(!L.current)return;const xe=L.current;xe.scrollTo({top:xe.scrollHeight,behavior:B||!R?"auto":"smooth"})},[B]);C.useEffect(()=>{const R=e.length,xe=te.current;R>xe&&D&&requestAnimationFrame(()=>W(!0)),te.current=R},[e.length,D,W]),C.useEffect(()=>{t&&n&&D&&requestAnimationFrame(()=>W(!1))},[n,t,D,W]);const Q=C.useCallback(R=>d?d(R):u.jsx("p",{className:"whitespace-pre-wrap break-words",children:R}),[d]),A=C.useCallback((R,xe)=>{J(R),ie(xe),de(!0)},[]),H=C.useCallback(()=>{de(!1),J([]),ie(0)},[]),ne=Y.getVirtualItems();return u.jsxs("div",{ref:L,className:"flex-1 overflow-y-auto px-4 py-6 scroll-smooth",onScroll:ee,children:[e.length===0&&!t&&u.jsx(ER,{}),P>0&&u.jsx("div",{style:{height:`${Y.getTotalSize()}px`,width:"100%",position:"relative"},children:ne.map(R=>{const xe=R.index,Ae=xe===e.length&&K,ce=Ae?null:e[xe],fe=(ce==null?void 0:ce.id)===x&&t;return u.jsx("div",{"data-index":xe,ref:Y.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${R.start}px)`},className:"pb-4",children:Ae?u.jsx(yR,{streamingText:n,streamingThought:r,streamingImages:a,renderContent:Q,onImageClick:w||A}):ce?u.jsx(kR,{message:ce,renderContent:Q,isLast:xe===e.length-1,reducedMotion:B,onEdit:f,onRegenerate:h,onDelete:g,isRegenerating:fe,regeneratingContent:fe?n:"",regeneratingThought:fe?r:"",regeneratingImages:fe?a:[],onRetry:l,onDismissError:c,onImageClick:w||A,windowId:E,subTopicId:N,windowTitle:T}):null},R.key)})}),s&&!t&&u.jsx(bR,{error:s,onRetry:l,onDismiss:c}),u.jsx(mc,{image:G[z]||null,isOpen:se,onClose:H})]})}const bR=C.memo(function({error:t,onRetry:n,onDismiss:r}){return u.jsxs("div",{className:"flex gap-3 animate-fadeIn pb-4",children:[u.jsx(rh,{role:"model"}),u.jsx("div",{className:"flex-1 min-w-0 max-w-[85%]",children:u.jsxs("div",{className:"px-4 py-3 rounded-2xl rounded-bl-md bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Zv,{className:"w-5 h-5 text-red-500 dark:text-red-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:""})]}),u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-3 break-words",children:t}),u.jsxs("div",{className:"flex items-center gap-2",children:[n&&u.jsxs("button",{onClick:()=>n(""),className:`\r
                  inline-flex items-center gap-1.5 px-3 py-1.5\r
                  text-sm font-medium text-white\r
                  bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700\r
                  rounded-lg transition-colors\r
                  shadow-sm hover:shadow\r
                `,children:[u.jsx(Qv,{className:"w-4 h-4"}),""]}),r&&u.jsx("button",{onClick:()=>r(""),className:`\r
                  inline-flex items-center gap-1.5 px-3 py-1.5\r
                  text-sm font-medium\r
                  text-red-600 dark:text-red-400\r
                  hover:bg-red-100 dark:hover:bg-red-900/30\r
                  rounded-lg transition-colors\r
                `,children:""})]})]})})]})}),vR=C.memo(function({error:t,onRetry:n,onDismiss:r}){return u.jsxs("div",{className:"mt-2 px-4 py-3 rounded-2xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 shadow-sm animate-fadeIn",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Zv,{className:"w-5 h-5 text-red-500 dark:text-red-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:""})]}),u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-3 break-words",children:t}),u.jsxs("div",{className:"flex items-center gap-2",children:[n&&u.jsxs("button",{onClick:n,className:`\r
              inline-flex items-center gap-1.5 px-3 py-1.5\r
              text-sm font-medium text-white\r
              bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700\r
              rounded-lg transition-colors\r
              shadow-sm hover:shadow\r
            `,children:[u.jsx(Qv,{className:"w-4 h-4"}),""]}),r&&u.jsx("button",{onClick:r,className:`\r
              inline-flex items-center gap-1.5 px-3 py-1.5\r
              text-sm font-medium\r
              text-red-600 dark:text-red-400\r
              hover:bg-red-100 dark:hover:bg-red-900/30\r
              rounded-lg transition-colors\r
            `,children:""})]})]})});function yR({streamingText:e,streamingThought:t="",streamingImages:n=[],renderContent:r,onImageClick:a}){const s=C.useCallback(c=>{a&&n.length>0&&a(n,c)},[a,n]),l=e||n.length>0;return u.jsxs("div",{className:"flex gap-3 animate-fadeIn",children:[u.jsx(rh,{role:"model"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[t&&u.jsx(Km,{content:t,isStreaming:!0}),u.jsxs(Vv,{isUser:!1,children:[n.length>0&&u.jsx(nh,{images:n,onImageClick:s}),e?u.jsxs(u.Fragment,{children:[r(e),u.jsx(Yv,{})]}):l?null:u.jsx(Kv,{})]})]})]})}const Vv=C.memo(function({isUser:t,children:n,isRegenerating:r=!1}){return u.jsx("div",{className:`
        px-4 py-3 rounded-2xl
        w-fit max-w-full
        ${t?"message-user rounded-br-md shadow-md shadow-green-500/20 dark:shadow-green-400/10":"message-ai rounded-bl-md shadow-sm shadow-neutral-200/50 dark:shadow-neutral-900/50"}
        ${r?"ring-2 ring-purple-400/50 dark:ring-purple-500/50 animate-pulse":""}
      `,children:n})}),kR=C.memo(function({message:t,renderContent:n,isLast:r,reducedMotion:a,onEdit:s,onRegenerate:l,onDelete:c,isRegenerating:d=!1,regeneratingContent:f="",regeneratingThought:h="",regeneratingImages:g=[],onRetry:v,onDismissError:x,onImageClick:w,windowId:E,subTopicId:N,windowTitle:T}){const I=t.role==="user",[L,B]=C.useState(!1),[D,O]=C.useState(!1),[te,G]=C.useState(!1),J=C.useMemo(()=>a?{}:{transition:"all 150ms ease-out"},[a]),z=C.useCallback(()=>{l&&l(t.id)},[l,t.id]),ie=C.useCallback(()=>{G(!0)},[]),se=C.useCallback(()=>{G(!1)},[]),de=C.useCallback(A=>{G(!1),s&&s(t.id,A,!1)},[t.id,s]),K=C.useCallback(A=>{G(!1),s&&s(t.id,A,!0)},[t.id,s]),P=C.useCallback(()=>{c&&c(t.id)},[c,t.id]),Y=C.useCallback(A=>{const H=d?g:t.generatedImages||[];w&&H.length>0&&w(H,A)},[w,d,g,t.generatedImages]),ee=d?f:t.content,W=d?g:t.generatedImages||[],Q=ee||W.length>0;return u.jsxs("div",{className:`flex gap-3 ${I?"flex-row-reverse":""}`,onMouseEnter:()=>{!te&&!d&&(B(!0),O(!0))},onMouseLeave:()=>{B(!1),O(!1)},children:[u.jsx(rh,{role:t.role}),te?u.jsx(pR,{message:t,isLastUserMessage:r&&I,onSave:de,onSaveAndResend:K,onCancel:se}):u.jsxs("div",{className:`relative flex-1 min-w-0 ${I?"flex flex-col items-end":""}`,children:[t.attachments&&t.attachments.length>0&&u.jsx(wR,{attachments:t.attachments,isUser:I}),!I&&(d?h&&u.jsx(Km,{content:h,isStreaming:!0}):t.thoughtSummary&&u.jsx(Km,{content:t.thoughtSummary,isStreaming:!1,images:t.thoughtImages})),(Q||d||!I)&&u.jsxs(Vv,{isUser:I,isRegenerating:d,children:[W.length>0&&u.jsx(nh,{images:W,onImageClick:Y}),d?ee?u.jsxs(u.Fragment,{children:[n(ee),u.jsx(Yv,{})]}):W.length===0?u.jsx(Kv,{}):null:ee?n(ee):!Q&&!I?u.jsx(NR,{}):null]}),t.error&&!d&&u.jsx(vR,{error:t.error,onRetry:v?()=>v(t.id):void 0,onDismiss:x?()=>x(t.id):void 0}),u.jsxs("div",{className:`
              flex items-center gap-2 mt-1
              min-h-[28px]
              ${I?"flex-row-reverse":"flex-row"}
            `,children:[u.jsx("div",{className:"flex items-center gap-1",style:{...J,opacity:D&&!d?1:0},children:D&&!d&&u.jsx(oR,{message:t,isUserMessage:I,onEdit:I?ie:void 0,onRegenerate:I?void 0:z,onDelete:P,windowId:E,subTopicId:N,windowTitle:T})}),u.jsx("div",{className:`
                text-xs text-neutral-400 dark:text-neutral-500 px-1
                ${I?"text-right":"text-left"}
              `,style:{...J,opacity:(L||r)&&!d?1:0},children:_R(t.timestamp)})]})]})]})}),rh=C.memo(function({role:t}){const n=t==="user";return u.jsx("div",{className:`
        flex-shrink-0 w-9 h-9 rounded-xl flex items-center justify-center shadow-sm
        ${n?"bg-brand text-white":"bg-gradient-to-br from-purple-500 to-pink-500 text-white"}
      `,children:n?u.jsx(TR,{className:"w-5 h-5"}):u.jsx(Xv,{className:"w-5 h-5"})})}),wR=C.memo(function({attachments:t,isUser:n}){return u.jsx("div",{className:`flex flex-wrap gap-2 mb-2 ${n?"justify-end":""}`,children:t.map(r=>u.jsx(SR,{attachment:r},r.id))})}),SR=C.memo(function({attachment:t}){return t.type==="image"?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:`data:${t.mimeType};base64,${t.data}`,alt:t.name,className:`\r
            max-w-[200px] max-h-[200px] rounded-xl object-cover \r
            cursor-pointer hover:opacity-90 transition-opacity\r
            shadow-md\r
          `,onClick:()=>{const n=window.open();n&&n.document.write(`
                <html>
                  <head><title>${t.name}</title></head>
                  <body style="margin:0;display:flex;justify-content:center;align-items:center;min-height:100vh;background:#000;">
                    <img src="data:${t.mimeType};base64,${t.data}" style="max-width:100%;max-height:100vh;object-fit:contain;" />
                  </body>
                </html>
              `)}}),u.jsx("div",{className:`\r
          absolute bottom-1 left-1 right-1 \r
          bg-black/60 text-white text-xs px-2 py-1 rounded-lg \r
          truncate opacity-0 group-hover:opacity-100 transition-opacity\r
          backdrop-blur-sm\r
        `,children:t.name})]}):u.jsxs("div",{className:`\r
      flex items-center gap-2 \r
      bg-neutral-100 dark:bg-neutral-700 \r
      rounded-xl px-3 py-2 shadow-sm\r
    `,children:[u.jsx(CR,{className:"w-5 h-5 text-neutral-500 dark:text-neutral-400"}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300 truncate max-w-[150px]",children:t.name}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:MR(t.size)})]})]})}),ER=C.memo(function(){return u.jsxs("div",{className:"flex flex-col items-center text-center pt-24 pb-12",children:[u.jsx("div",{className:`\r
        w-16 h-16 rounded-2xl \r
        bg-gradient-to-br from-green-500 to-emerald-600 \r
        flex items-center justify-center mb-4\r
        shadow-lg shadow-green-500/30\r
      `,children:u.jsx(Xv,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:""}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 max-w-sm",children:" Gemini AI "})]})}),NR=C.memo(function(){return u.jsx("p",{className:"text-neutral-400 dark:text-neutral-500 italic text-sm",children:"AI "})}),Kv=C.memo(function(){return u.jsxs("div",{className:"flex items-center gap-1 py-1",children:[u.jsx("span",{className:"w-2 h-2 bg-neutral-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"600ms"}}),u.jsx("span",{className:"w-2 h-2 bg-neutral-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"150ms",animationDuration:"600ms"}}),u.jsx("span",{className:"w-2 h-2 bg-neutral-400 dark:bg-neutral-500 rounded-full animate-bounce",style:{animationDelay:"300ms",animationDuration:"600ms"}})]})}),Yv=C.memo(function(){return u.jsx("span",{className:`\r
      inline-block w-0.5 h-4 ml-0.5 \r
      bg-brand\r
      animate-pulse\r
    `})});function TR({className:e}){return u.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}function Xv({className:e}){return u.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a2 2 0 01-2 2H5a2 2 0 01-2-2v-1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2zM7.5 13a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm9 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"})})}function CR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function Zv({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function Qv({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}function _R(e){const t=new Date(e),n=new Date;return t.toDateString()===n.toDateString()?t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function MR(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function Jv(e){if(e.type&&e.type!=="application/octet-stream")return e.type;const t=ey(e.name);return t&&Pu[t]?Pu[t]:e.type||"application/octet-stream"}function ey(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?"":e.slice(t).toLowerCase()}function AR(e){return ic.includes(e)?"image":Nx.includes(e)?"document":"unknown"}function IR(e){return ic.includes(e)}function jR(e){const t=Jv(e),n=AR(t);if(n==="unknown"){const r=ey(e.name);if(!r||!Pu[r])return{valid:!1,error:`: ${t||""}JPEGPNGWebPGIFPDFTXT`}}if(n==="image"){if(e.size>Sx)return{valid:!1,error:` 20MB ${Ym(e.size)}`}}else if(e.size>Ex)return{valid:!1,error:` 50MB ${Ym(e.size)}`};return{valid:!0}}function Ym(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function RR(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result.split(",")[1]??"";t(s)},r.onerror=()=>{n(new Error(`: ${e.name}`))},r.readAsDataURL(e)})}function lx({value:e,options:t,onSelect:n,label:r,disabled:a=!1,className:s=""}){const[l,c]=C.useState(!1),[d,f]=C.useState({bottom:0,left:0}),h=C.useRef(null),g=C.useRef(null),v=gr(),x=t.find(D=>D.value===e),w=(x==null?void 0:x.label)||String(e),E=C.useCallback(()=>{if(h.current){const D=h.current.getBoundingClientRect();f({bottom:window.innerHeight-D.top+8,left:D.left})}},[]);C.useEffect(()=>{if(l)return E(),window.addEventListener("scroll",E,!0),window.addEventListener("resize",E),()=>{window.removeEventListener("scroll",E,!0),window.removeEventListener("resize",E)}},[l,E]),C.useEffect(()=>{if(!l)return;const D=O=>{const te=O.target;h.current&&!h.current.contains(te)&&g.current&&!g.current.contains(te)&&c(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[l]);const N=C.useCallback(()=>{a||c(D=>!D)},[a]),T=C.useCallback(D=>{n(D),c(!1)},[n]),I=C.useCallback(D=>{if(!a)switch(D.key){case"Enter":case" ":D.preventDefault(),c(O=>!O);break;case"Escape":c(!1);break;case"ArrowDown":l||(D.preventDefault(),c(!0));break}},[a,l]),L=v?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`},B=()=>{if(!l)return null;const D=u.jsx("div",{ref:g,className:`
          fixed min-w-[120px] py-1
          bg-white dark:bg-neutral-800
          border border-neutral-200 dark:border-neutral-700
          rounded-lg shadow-lg
          ${v?"":"animate-dropdown-in"}
        `,style:{bottom:d.bottom,left:d.left,zIndex:9999},role:"listbox","aria-activedescendant":`option-${e}`,children:t.map(O=>{const te=O.value===e;return u.jsxs("button",{type:"button",onClick:()=>T(O.value),className:`
                w-full px-3 py-2 text-left text-sm
                flex items-center justify-between gap-2
                ${te?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}
              `,style:L,role:"option","aria-selected":te,id:`option-${O.value}`,children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:O.label}),O.description&&u.jsx("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:O.description})]}),te&&u.jsx(OR,{className:"w-4 h-4 text-primary-500 flex-shrink-0"})]},String(O.value))})});return Ci.createPortal(D,document.body)};return u.jsxs("div",{className:`relative inline-block ${s}`,children:[u.jsxs("button",{ref:h,type:"button",onClick:N,onKeyDown:I,disabled:a,className:`
          flex items-center gap-1 px-2 py-1.5 rounded-lg text-sm
          ${a?"opacity-50 cursor-not-allowed bg-neutral-100 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-500":"hover:bg-neutral-100 dark:hover:bg-neutral-800 text-neutral-600 dark:text-neutral-300 active:scale-95"}
        `,style:L,"aria-haspopup":"listbox","aria-expanded":l,children:[r&&u.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:r}),u.jsx("span",{className:"font-medium",children:w}),u.jsx(LR,{className:`w-3.5 h-3.5 text-neutral-400 dark:text-neutral-500 ${l?"rotate-180":""}`,style:L})]}),B()]})}function LR({className:e,style:t}){return u.jsx("svg",{className:e,style:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function OR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}const DR=[{value:"1:1",label:"1:1"},{value:"16:9",label:"16:9"},{value:"9:16",label:"9:16"},{value:"4:3",label:"4:3"},{value:"3:4",label:"3:4"},{value:"3:2",label:"3:2"},{value:"2:3",label:"2:3"},{value:"5:4",label:"5:4"},{value:"4:5",label:"4:5"},{value:"21:9",label:"21:9"}],zR=[{value:"1K",label:"1K",description:""},{value:"2K",label:"2K",description:""},{value:"4K",label:"4K",description:""}];function PR({config:e,onChange:t,disabled:n=!1,supportsImageSize:r=!0}){const a=C.useCallback(l=>{t({aspectRatio:l})},[t]),s=C.useCallback(l=>{t({imageSize:l})},[t]);return u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(lx,{value:e.aspectRatio,options:DR,onSelect:a,label:"",disabled:n}),r&&u.jsx(lx,{value:e.imageSize,options:zR,onSelect:s,label:"",disabled:n})]})}const ux={minimal:"",low:"",medium:"",high:""},cx=C.memo(function({label:t,active:n=!1,onClick:r,disabled:a=!1,title:s}){const c=gr()?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`},d=r&&!a;return u.jsx("button",{type:"button",onClick:d?r:void 0,disabled:a||!r,className:`
        px-2 py-0.5 rounded-md text-xs font-medium
        ${d?"cursor-pointer":"cursor-default"}
        ${n?"bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400"}
        ${d&&!a?"hover:bg-primary-200 dark:hover:bg-primary-800/50 active:scale-95":""}
        disabled:opacity-50 disabled:cursor-not-allowed
      `,style:c,title:s,children:t})}),dx=["low","high"];function BR(e,t){return t.length===0||t.includes(e)?e:t[0]}function FR(e,t){if(t.length===0)return e;const n=t.indexOf(e);if(n===-1)return t[0];const r=(n+1)%t.length;return t[r]}const $R=C.memo(function({level:t,onChange:n,disabled:r=!1,supportedLevels:a=dx}){const l=gr()?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`},c=a.length>0?a:dx,d=BR(t,c),f=()=>{if(r||!n)return;const h=FR(d,c);n(h)};return u.jsxs("button",{type:"button",onClick:f,disabled:r||!n,className:`
        px-2 py-0.5 rounded-md text-xs font-medium
        bg-amber-100 dark:bg-amber-900/40 
        text-amber-700 dark:text-amber-300
        ${!r&&n?"cursor-pointer hover:bg-amber-200 dark:hover:bg-amber-800/50 active:scale-95":"cursor-default"}
        disabled:opacity-50 disabled:cursor-not-allowed
      `,style:l,title:`: ${ux[d]}`,children:[": ",ux[d]]})}),HR=C.memo(function({budget:t,onClick:n,disabled:r=!1}){const s=gr()?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`},l=c=>c===-1?"":c===0?"":c>=1e3?`${(c/1e3).toFixed(1)}K`:c.toString();return u.jsxs("button",{type:"button",onClick:n,disabled:r||!n,className:`
        px-2 py-0.5 rounded-md text-xs font-medium
        ${t===0?"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400":"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300"}
        ${!r&&n?"cursor-pointer hover:bg-purple-200 dark:hover:bg-purple-800/50 active:scale-95":"cursor-default"}
        disabled:opacity-50 disabled:cursor-not-allowed
      `,style:s,title:`: ${l(t)} tokens`,children:[": ",l(t)]})}),UR=C.memo(function({streamingEnabled:t,onStreamingToggle:n,includeThoughts:r,onThoughtsToggle:a,thinkingLevel:s,onThinkingLevelChange:l,thinkingBudget:c,onThinkingBudgetChange:d,capabilities:f,disabled:h=!1,supportedThinkingLevels:g}){const v=f.supportsThoughtSummary===!0,x=f.thinkingConfigType==="level",w=f.thinkingConfigType==="budget";return u.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[u.jsx(cx,{label:t?"":"",active:t,onClick:n,disabled:h,title:t?"":""}),v&&u.jsx(cx,{label:r?"":"",active:r,onClick:a,disabled:h,title:r?"":""}),x&&s!==void 0&&u.jsx($R,{level:s,onChange:l,disabled:h,supportedLevels:g}),w&&c!==void 0&&u.jsx(HR,{budget:c,onClick:d?()=>{}:void 0,disabled:h})]})}),mx=1,WR=6,mm=24;function qR(e){const t={"image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/gif":"gif"};return Object.prototype.hasOwnProperty.call(t,e)?t[e]:"png"}function GR(e,t){const n=Date.now(),r=qR(e);return`pasted-image-${n}.${r}`}function VR({onSend:e,onCancel:t,isSending:n=!1,disabled:r=!1,placeholder:a="...",showExtendedToolbar:s=!0,editingContent:l,isEditing:c=!1,onCancelEdit:d,webSearchEnabled:f=!1,onWebSearchToggle:h,currentModel:g,imageConfig:v,onImageConfigChange:x,streamingEnabled:w=!0,onStreamingToggle:E,includeThoughts:N,onThoughtsToggle:T,thinkingLevel:I,onThinkingLevelChange:L,thinkingBudget:B,onThinkingBudgetChange:D,modelCapabilities:O}){const[te,G]=C.useState(""),[J,z]=C.useState([]),[ie,se]=C.useState(!1),[de,K]=C.useState(!1),[P,Y]=C.useState(null),ee=C.useRef(null),W=C.useRef(null),Q=C.useRef(null),A=C.useRef(null),H=gr(),ne=Cn(je=>je.getEffectiveCapabilities);C.useEffect(()=>{c&&l!==void 0&&(G(l),setTimeout(()=>{var je;(je=ee.current)==null||je.focus()},0))},[c,l]),C.useEffect(()=>{const je=ee.current;if(je){je.style.height="auto";const en=WR*mm,tn=mx*mm,Ft=je.scrollHeight;je.style.height=`${Math.max(tn,Math.min(Ft,en))}px`}},[te]),C.useEffect(()=>{if(P){const je=setTimeout(()=>Y(null),5e3);return()=>clearTimeout(je)}},[P]);const R=!g||!v||!x?!1:ne(g).supportsImageGeneration===!0,xe=g?ne(g).supportsImageSize!==!1:!0,Ae=C.useCallback(async je=>{const en=Array.from(je),tn=[];for(const Ft of en){const $t=jR(Ft);if(!$t.valid){Y($t.error||"");continue}try{const gn=Jv(Ft),ue=await RR(Ft),ke={id:`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,type:IR(gn)?"image":"file",name:Ft.name,mimeType:gn,data:ue,size:Ft.size};tn.push(ke)}catch(gn){console.error(":",gn),Y(`: ${Ft.name}`)}}tn.length>0&&z(Ft=>[...Ft,...tn])},[]),ce=C.useCallback(async je=>{var Ft;const en=(Ft=je.clipboardData)==null?void 0:Ft.items;if(!en)return;const tn=[];for(const $t of en)if($t.kind==="file"&&ic.includes($t.type)){const gn=$t.getAsFile();if(gn){const ue=GR($t.type),ke=new File([gn],ue,{type:gn.type});tn.push(ke)}}tn.length>0&&(je.preventDefault(),await Ae(tn))},[Ae]),fe=()=>{var je;(je=Q.current)==null||je.click()},Me=()=>{var je;(je=W.current)==null||je.click()},$e=je=>{je.target.files&&je.target.files.length>0&&(Ae(je.target.files),je.target.value="")},Qe=je=>{z(en=>en.filter(tn=>tn.id!==je))},kt=je=>{je.preventDefault(),je.stopPropagation(),se(!0)},Kt=je=>{je.preventDefault(),je.stopPropagation(),se(!1)},cn=je=>{je.preventDefault(),je.stopPropagation(),se(!1),je.dataTransfer.files&&je.dataTransfer.files.length>0&&Ae(je.dataTransfer.files)},dn=()=>{const je=te.trim();!je&&J.length===0||(e(je,J.length>0?J:void 0),c||(G(""),z([]),ee.current&&(ee.current.style.height="auto")))},wn=()=>{G(""),z([]),ee.current&&(ee.current.style.height="auto"),d==null||d()},at=je=>{je.key==="Enter"&&!je.shiftKey&&(je.preventDefault(),!n&&!r&&dn())},We=r||n,Ct=(te.trim()||J.length>0)&&!We,jt=H?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`};return u.jsxs("div",{ref:A,className:`
        relative border-t border-neutral-200 dark:border-neutral-700 
        bg-white dark:bg-neutral-900 px-3 py-2 pb-1
        ${ie?"ring-2 ring-primary-500 ring-inset":""}
      `,onDragOver:kt,onDragLeave:Kt,onDrop:cn,children:[c&&u.jsxs("div",{className:`\r
          mb-2 px-3 py-2 rounded-xl\r
          bg-primary-50 dark:bg-primary-900/20 \r
          border border-primary-200 dark:border-primary-800 \r
          flex items-center justify-between\r
        `,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(eL,{className:"w-4 h-4 text-primary-500"}),u.jsx("span",{className:"text-sm font-medium text-primary-700 dark:text-primary-300",children:""})]}),u.jsx("button",{onClick:wn,className:`\r
              text-sm text-primary-600 dark:text-primary-400 \r
              hover:text-primary-700 dark:hover:text-primary-300\r
              font-medium\r
            `,children:""})]}),P&&u.jsx("div",{className:`\r
          mb-2 px-3 py-2 rounded-xl\r
          bg-error-light/10 dark:bg-error-dark/10 \r
          border border-error-light/20 dark:border-error-dark/20 \r
          text-sm text-error-light dark:text-error-dark\r
        `,children:P}),J.length>0&&u.jsx("div",{className:"mb-2 grid grid-cols-4 sm:grid-cols-6 gap-2",children:J.map(je=>u.jsx(KR,{attachment:je,onRemove:()=>Qe(je.id),reducedMotion:H},je.id))}),ie&&u.jsx("div",{className:`\r
          absolute inset-2 flex items-center justify-center \r
          bg-primary-500/10 border-2 border-dashed border-primary-500 \r
          rounded-2xl z-10 backdrop-blur-sm\r
        `,children:u.jsxs("div",{className:"text-center",children:[u.jsx(QR,{className:"w-10 h-10 mx-auto mb-2 text-primary-500"}),u.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-medium",children:""})]})}),u.jsxs("div",{className:"flex items-end gap-2",children:[!s&&u.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[u.jsx(fx,{onClick:fe,disabled:We,title:"",reducedMotion:H,children:u.jsx(hx,{className:"w-5 h-5"})}),u.jsx(fx,{onClick:Me,disabled:We,title:"",className:"hidden sm:flex",reducedMotion:H,children:u.jsx(px,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 min-w-0 relative",children:u.jsx("textarea",{ref:ee,value:te,onChange:je=>G(je.target.value),onKeyDown:at,onPaste:ce,onFocus:()=>K(!0),onBlur:()=>K(!1),placeholder:a,disabled:We,rows:1,className:`
              w-full resize-none rounded-2xl px-4 py-3
              bg-neutral-50 dark:bg-neutral-800
              text-neutral-900 dark:text-neutral-100 
              placeholder-neutral-400 dark:placeholder-neutral-500
              disabled:opacity-50 disabled:cursor-not-allowed
              text-base leading-6
              border-2 outline-none
              message-input-textarea
              ${de?"border-primary-500 shadow-lg shadow-primary-500/10":"border-neutral-200 dark:border-neutral-700 shadow-sm"}
            `,style:{...jt,minHeight:`${mx*mm+24}px`,overflowY:"auto"}})}),n&&t?u.jsx("button",{type:"button",onClick:t,className:`\r
              p-3 rounded-2xl flex-shrink-0 touch-manipulation\r
              flex items-center justify-center\r
              bg-error-light hover:bg-red-600 active:scale-95 \r
              text-white shadow-md shadow-error-light/30 \r
              hover:shadow-lg hover:shadow-error-light/40\r
            `,style:{...jt,minWidth:Et.minimum,minHeight:Et.minimum},title:"",children:u.jsx(JR,{className:"w-5 h-5"})}):u.jsx("button",{type:"button",onClick:dn,disabled:!Ct,className:`
              p-3 rounded-2xl flex-shrink-0 touch-manipulation
              flex items-center justify-center
              ${Ct?"bg-primary-500 hover:bg-primary-600 active:scale-95 text-white shadow-md shadow-primary-500/30 hover:shadow-lg hover:shadow-primary-500/40":"bg-neutral-100 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-500 cursor-not-allowed"}
            `,style:{...jt,minWidth:Et.minimum,minHeight:Et.minimum},title:"",children:n?u.jsx(ZR,{className:"w-5 h-5"}):u.jsx(YR,{className:"w-5 h-5"})})]}),s&&u.jsxs("div",{className:"flex items-center gap-1 mt-2 pt-1",children:[u.jsx(fm,{onClick:fe,disabled:We,title:"",reducedMotion:H,children:u.jsx(hx,{className:"w-4 h-4"})}),u.jsx(fm,{onClick:Me,disabled:We,title:"",reducedMotion:H,children:u.jsx(px,{className:"w-4 h-4"})}),u.jsx("div",{className:"w-px h-4 bg-neutral-200 dark:bg-neutral-700 mx-1"}),u.jsx(fm,{onClick:()=>h==null?void 0:h(),disabled:We,title:f?"":"",active:f,reducedMotion:H,children:u.jsx(tL,{className:"w-4 h-4"})}),R&&v&&x&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-px h-4 bg-neutral-200 dark:bg-neutral-700 mx-1"}),u.jsx(PR,{config:v,onChange:x,disabled:We,supportsImageSize:xe})]}),O&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-px h-4 bg-neutral-200 dark:bg-neutral-700 mx-1"}),u.jsx(UR,{streamingEnabled:w,onStreamingToggle:E,includeThoughts:N,onThoughtsToggle:T,thinkingLevel:I,onThinkingLevelChange:L,thinkingBudget:B,onThinkingBudgetChange:D,capabilities:O,disabled:We,supportedThinkingLevels:O.supportedThinkingLevels})]}),u.jsx("div",{className:"flex-1"}),f&&u.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400 hidden sm:inline",children:""}),u.jsx("span",{className:"text-xs text-neutral-400 dark:text-neutral-500 hidden sm:inline",children:"Enter   Shift+Enter "})]}),u.jsx("input",{ref:Q,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",multiple:!0,onChange:$e,className:"hidden"}),u.jsx("input",{ref:W,type:"file",accept:".pdf,.txt,.js,.ts,.jsx,.tsx,.py,.java,.css,.html,.json,.xml,.md",multiple:!0,onChange:$e,className:"hidden"})]})}function fm({onClick:e,disabled:t,title:n,children:r,active:a=!1,reducedMotion:s}){const l=s?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`};return u.jsx("button",{type:"button",onClick:e,disabled:t,className:`
        p-2 rounded-lg flex items-center justify-center touch-manipulation
        ${a?"text-primary-500 bg-primary-50 dark:bg-primary-900/30":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
        active:scale-95
        disabled:opacity-50 disabled:cursor-not-allowed
      `,style:l,title:n,children:r})}function fx({onClick:e,disabled:t,title:n,children:r,className:a="",reducedMotion:s}){const l=s?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`};return u.jsx("button",{type:"button",onClick:e,disabled:t,className:`
        p-2 rounded-xl flex items-center justify-center touch-manipulation
        text-neutral-500 dark:text-neutral-400
        hover:text-neutral-700 dark:hover:text-neutral-200
        hover:bg-neutral-100 dark:hover:bg-neutral-800
        active:scale-95
        disabled:opacity-50 disabled:cursor-not-allowed
        ${a}
      `,style:{...l,minWidth:Et.minimum,minHeight:Et.minimum},title:n,children:r})}function KR({attachment:e,onRemove:t,reducedMotion:n}){const r=n?{}:{transition:`all ${ir.fast}ms ${ln.easeOut}`};return e.type==="image"?u.jsxs("div",{className:"relative group aspect-square",children:[u.jsx("img",{src:`data:${e.mimeType};base64,${e.data}`,alt:e.name,className:"w-full h-full object-cover rounded-xl"}),u.jsx("button",{onClick:t,className:`\r
            absolute -top-2 -right-2 \r
            bg-error-light hover:bg-red-600 \r
            text-white rounded-full \r
            flex items-center justify-center \r
            opacity-0 group-hover:opacity-100\r
            shadow-md touch-manipulation\r
          `,style:{...r,minWidth:"28px",minHeight:"28px"},title:"",children:u.jsx(gx,{className:"w-3 h-3"})}),u.jsx("div",{className:`\r
          absolute bottom-0 left-0 right-0 \r
          bg-black/60 text-white text-xs px-1.5 py-0.5 \r
          rounded-b-xl truncate\r
          backdrop-blur-sm\r
        `,children:e.name})]}):u.jsxs("div",{className:`\r
      relative group col-span-2\r
      flex items-center gap-2 \r
      bg-neutral-100 dark:bg-neutral-700 \r
      rounded-xl px-3 py-2\r
    `,children:[u.jsx(XR,{className:"w-5 h-5 text-neutral-500 dark:text-neutral-400 flex-shrink-0"}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300 truncate",children:e.name}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Ym(e.size)})]}),u.jsx("button",{onClick:t,className:`\r
          p-2 text-neutral-400 hover:text-error-light touch-manipulation\r
          dark:hover:text-error-dark\r
        `,style:{...r,minWidth:Et.minimum,minHeight:Et.minimum},title:"",children:u.jsx(gx,{className:"w-4 h-4"})})]})}function hx({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function px({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}function YR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}function XR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function gx({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function ZR({className:e}){return u.jsxs("svg",{className:`animate-spin ${e}`,fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function QR({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}function JR({className:e}){return u.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}function eL({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function tL({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}function ty(e,t){return e.streamingEnabled!==void 0?e.streamingEnabled:t.streamingEnabled}const hm=Object.freeze(Object.defineProperty({__proto__:null,resolveStreamingEnabled:ty},Symbol.toStringTag,{value:"Module"}));function nL({windowId:e}){var $t,gn,ue,ke;const[t,n]=C.useState(!1),[r,a]=C.useState(null),{windows:s,activeWindowId:l,isSending:c,streamingText:d,streamingThought:f,error:h,sendMessage:g,cancelRequest:v,createSubTopic:x,deleteSubTopic:w,selectSubTopic:E,updateSubTopic:N,updateWindowConfig:T,updateAdvancedConfig:I,regenerateMessage:L,editMessage:B,updateMessageError:D,retryUserMessage:O,deleteMessage:te,updateMessageContent:G}=la(),{apiEndpoint:J,apiKey:z}=Jt(),ie=Cn(be=>be.getEffectiveCapabilities),se=Cn(be=>be.models),de=Jt(be=>be.getFullSettings),K=e||l,P=K?s.find(be=>be.id===K):null,Y=P?P.subTopics.find(be=>be.id===P.activeSubTopicId):null,ee=C.useCallback(async(be,Je)=>{if(!K||!P)return;const st=P.activeSubTopicId;await g(K,st,be,Je,{endpoint:J,apiKey:z,model:P.config.model})},[K,P,g,J,z]),W=C.useCallback(()=>{K&&x(K)},[K,x]),Q=C.useCallback(be=>{K&&w(K,be)},[K,w]),A=C.useCallback(be=>{K&&E(K,be)},[K,E]),H=C.useCallback((be,Je)=>{K&&N(K,be,{title:Je})},[K,N]),ne=C.useCallback(be=>{K&&T(K,be)},[K,T]),R=C.useCallback(be=>{K&&T(K,{model:be})},[K,T]),xe=C.useCallback(()=>{!K||!P||T(K,{webSearchEnabled:!P.config.webSearchEnabled})},[K,P,T]),Ae=(($t=P==null?void 0:P.config.advancedConfig)==null?void 0:$t.imageConfig)||za,ce=P?ie(P.config.model):void 0,fe=P?ty(P.config,de()):!0,Me=(gn=P==null?void 0:P.config.advancedConfig)==null?void 0:gn.includeThoughts,$e=(ue=P==null?void 0:P.config.advancedConfig)==null?void 0:ue.thinkingLevel,Qe=(ke=P==null?void 0:P.config.advancedConfig)==null?void 0:ke.thinkingBudget,kt=C.useCallback(be=>{K&&I(K,{imageConfig:be})},[K,I]),Kt=C.useCallback(()=>{!K||!P||T(K,{streamingEnabled:!fe})},[K,P,fe,T]),cn=C.useCallback(()=>{K&&I(K,{includeThoughts:!Me})},[K,Me,I]),dn=C.useCallback(be=>{K&&I(K,{thinkingLevel:be})},[K,I]),wn=C.useCallback(be=>{K&&I(K,{thinkingBudget:be})},[K,I]),at=C.useCallback(()=>{n(!0)},[]),We=C.useCallback(()=>{n(!1)},[]),Ct=C.useCallback(async be=>{if(!(!K||!P)){a(be);try{await L(K,P.activeSubTopicId,be)}finally{a(null)}}},[K,P,L]),jt=C.useCallback(async(be,Je,st)=>{if(!K||!P)return;const Yt=P.activeSubTopicId;st?await B(K,Yt,be,Je):await G(K,Yt,be,Je)},[K,P,B,G]),je=C.useCallback(async be=>{if(!K||!P||!Y)return;const Je=Y.messages.find(st=>st.id===be);if(Je)if(await D(K,P.activeSubTopicId,be,null),Je.role==="model"){a(be);try{await L(K,P.activeSubTopicId,be)}finally{a(null)}}else await O(K,P.activeSubTopicId,be)},[K,P,Y,D,L,O]),en=C.useCallback(async be=>{!K||!P||await D(K,P.activeSubTopicId,be,null)},[K,P,D]),tn=C.useCallback(async be=>{!K||!P||await te(K,P.activeSubTopicId,be)},[K,P,te]),Ft=C.useCallback(be=>u.jsx(Iv,{content:be}),[]);return P?u.jsxs("div",{className:"flex-1 flex flex-col bg-white dark:bg-neutral-900 overflow-hidden",children:[u.jsx(Ej,{windowId:P.id,title:P.title,onOpenConfig:at,currentModel:P.config.model,models:se,onModelChange:R,messages:(Y==null?void 0:Y.messages)||[]}),u.jsx(Mj,{windowId:P.id,subTopics:P.subTopics,activeSubTopicId:P.activeSubTopicId,onSelect:A,onCreate:W,onDelete:Q,onRename:H}),u.jsx(xR,{messages:(Y==null?void 0:Y.messages)||[],isSending:c,streamingText:d,streamingThought:f,error:h,onRetry:je,onDismissError:en,renderContent:Ft,onRegenerateMessage:Ct,onEditMessage:jt,onDeleteMessage:tn,regeneratingMessageId:r,windowId:P.id,subTopicId:Y==null?void 0:Y.id,windowTitle:P.title}),u.jsx(VR,{onSend:ee,onCancel:v,isSending:c,disabled:!z,placeholder:z?"... (Enter , Shift+Enter )":" API ",webSearchEnabled:P.config.webSearchEnabled,onWebSearchToggle:xe,currentModel:P.config.model,imageConfig:Ae,onImageConfigChange:kt,streamingEnabled:fe,onStreamingToggle:Kt,includeThoughts:Me,onThoughtsToggle:cn,thinkingLevel:$e,onThinkingLevelChange:dn,thinkingBudget:Qe,onThinkingBudgetChange:wn,modelCapabilities:ce}),u.jsx(jj,{isOpen:t,onClose:We,config:P.config,onConfigChange:ne})]}):u.jsx("div",{className:"flex-1 flex items-center justify-center bg-white dark:bg-neutral-900",children:u.jsx(rL,{})})}function rL(){const{createWindow:e}=la(),t=()=>{e()};return u.jsxs("div",{className:"text-center px-4",children:[u.jsx("div",{className:`\r
        w-20 h-20 mx-auto mb-6 rounded-2xl\r
        bg-gradient-to-br from-primary-400 to-primary-600\r
        flex items-center justify-center\r
        shadow-lg shadow-primary-500/30\r
      `,children:u.jsx(iL,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:""}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mb-6 max-w-sm mx-auto",children:" AI "}),u.jsxs("button",{onClick:t,className:`\r
          inline-flex items-center gap-2 px-6 py-3\r
          bg-primary-500 hover:bg-primary-600 \r
          text-white font-medium rounded-xl\r
          shadow-md shadow-primary-500/30\r
          transition-all duration-200 hover:shadow-lg hover:shadow-primary-500/40\r
          active:scale-95\r
        `,children:[u.jsx(aL,{className:"w-5 h-5"}),""]})]})}function iL({className:e}){return u.jsx("svg",{className:e,viewBox:"0 0 28 28",fill:"none",children:u.jsx("path",{d:"M14 0C14 7.732 7.732 14 0 14C7.732 14 14 20.268 14 28C14 20.268 20.268 14 28 14C20.268 14 14 7.732 14 0Z",fill:"currentColor"})})}function aL({className:e}){return u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function sL({text:e="...",size:t="md",className:n=""}){const r=gr(),a={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},s={sm:"text-sm",md:"text-base",lg:"text-lg"};return u.jsxs("div",{className:`flex flex-col items-center justify-center gap-4 ${n}`,children:[u.jsxs("div",{className:`relative ${a[t]}`,children:[u.jsx("div",{className:`
            absolute inset-0 rounded-full
            border-4 border-slate-200 dark:border-slate-700
          `}),u.jsx("div",{className:`
            absolute inset-0 rounded-full
            border-4 border-transparent border-t-blue-500 border-r-blue-400
            ${r?"":"animate-spin"}
          `,style:{animationDuration:"1s"}}),u.jsx("div",{className:`
            absolute inset-0 m-auto w-2 h-2 rounded-full
            bg-blue-500
            ${r?"":"animate-pulse"}
          `})]}),e&&u.jsx("p",{className:`
          text-slate-600 dark:text-slate-400
          ${s[t]}
          ${r?"":"animate-pulse"}
        `,children:e})]})}function oL({children:e,show:t,duration:n=300,delay:r=0,className:a="",onAnimationComplete:s}){const l=gr(),[c,d]=C.useState(!1),[f,h]=C.useState(t);return C.useEffect(()=>{if(t){h(!0);const g=setTimeout(()=>{d(!0)},r+10),v=setTimeout(()=>{s==null||s()},r+(l?0:n));return()=>{clearTimeout(g),clearTimeout(v)}}else{d(!1);const g=setTimeout(()=>{h(!1)},l?0:n);return()=>clearTimeout(g)}},[t,n,r,l,s]),f?u.jsx("div",{className:a,style:{opacity:c?1:0,transform:c?"translateY(0)":"translateY(10px)",transition:l?"none":`opacity ${n}ms ease-out, transform ${n}ms ease-out`},children:e}):null}function lL({isLoading:e,children:t,minLoadTime:n=500}){const[r,a]=C.useState(!1),[s,l]=C.useState(!1);return C.useEffect(()=>{const c=setTimeout(()=>{l(!0)},n);return()=>clearTimeout(c)},[n]),C.useEffect(()=>{!e&&s&&a(!0)},[e,s]),r?u.jsx(oL,{show:r,duration:300,children:t}):u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white dark:bg-slate-900",children:u.jsx(sL,{text:"Gemini Chat",size:"lg"})})}function uL({className:e=""}){return u.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}function cL({className:e=""}){return u.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("polyline",{points:"23 4 23 10 17 10"}),u.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function ny({title:e="",message:t,onRetry:n,retryText:r="",isRetrying:a=!1,size:s="md",className:l=""}){const c=gr(),f={sm:{container:"p-4",icon:"w-8 h-8",title:"text-base",message:"text-sm",button:"px-3 py-1.5 text-sm"},md:{container:"p-6",icon:"w-12 h-12",title:"text-lg",message:"text-base",button:"px-4 py-2 text-base"},lg:{container:"p-8",icon:"w-16 h-16",title:"text-xl",message:"text-lg",button:"px-6 py-3 text-lg"}}[s];return u.jsxs("div",{className:`
        flex flex-col items-center justify-center text-center
        ${f.container}
        ${l}
      `,children:[u.jsx("div",{className:"mb-4",children:u.jsx(uL,{className:`
            ${f.icon}
            text-red-500 dark:text-red-400
          `})}),u.jsx("h3",{className:`
          ${f.title}
          font-semibold text-slate-900 dark:text-slate-100
          mb-2
        `,children:e}),u.jsx("p",{className:`
          ${f.message}
          text-slate-600 dark:text-slate-400
          mb-6 max-w-md
        `,children:t}),n&&u.jsxs("button",{onClick:n,disabled:a,className:`
            ${f.button}
            inline-flex items-center gap-2
            bg-blue-500 hover:bg-blue-600
            disabled:bg-blue-400 disabled:cursor-not-allowed
            text-white font-medium
            rounded-lg
            ${c?"":"transition-colors duration-200"}
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
            dark:focus:ring-offset-slate-900
          `,children:[u.jsx(cL,{className:`
              w-4 h-4
              ${a&&!c?"animate-spin":""}
            `}),a?"...":r]})]})}class dL extends Ts.Component{constructor(n){super(n);ps(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){var a,s;(s=(a=this.props).onError)==null||s.call(a,n,r),console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError&&this.state.error?this.props.fallback?typeof this.props.fallback=="function"?this.props.fallback(this.state.error,this.handleReset):this.props.fallback:u.jsx(ny,{title:"",message:this.state.error.message||"",onRetry:this.handleReset,retryText:"",size:"lg",className:"min-h-[300px]"}):this.props.children}}function mL(){const[e,t]=C.useState(""),{login:n,isLoading:r,error:a,clearError:s}=Cc(),l=C.useCallback(f=>{t(f.target.value),a&&s()},[a,s]),c=C.useCallback(async f=>{f.preventDefault(),e.trim()&&await n(e)},[e,n]),d=C.useCallback(f=>{f.key==="Enter"&&!r&&c(f)},[c,r]);return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-neutral-100 to-neutral-200 dark:from-neutral-900 dark:to-neutral-800",children:u.jsx("div",{className:"w-full max-w-md p-8",children:u.jsxs("div",{className:"bg-white/80 dark:bg-neutral-800/80 backdrop-blur-xl rounded-2xl shadow-xl p-8 border border-white/20 dark:border-neutral-700/50",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-900/40 mb-4",children:u.jsx(fL,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),u.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Gemini Chat"}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-2",children:""})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:""}),u.jsx("input",{id:"password",type:"password",value:e,onChange:l,onKeyDown:d,placeholder:"",disabled:r,autoFocus:!0,className:`
                  w-full px-4 py-3 rounded-lg border transition-colors
                  bg-white dark:bg-neutral-700
                  text-neutral-900 dark:text-neutral-100
                  placeholder-neutral-400 dark:placeholder-neutral-500
                  focus:outline-none focus:ring-2 focus:ring-primary-500
                  disabled:opacity-50 disabled:cursor-not-allowed
                  ${a?"border-red-500 dark:border-red-400":"border-neutral-300 dark:border-neutral-600"}
                `})]}),a&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 dark:text-red-400",children:[u.jsx(hL,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{children:a})]}),u.jsx("button",{type:"submit",disabled:r||!e.trim(),className:`
                w-full py-3 px-4 rounded-lg font-medium transition-all
                flex items-center justify-center gap-2
                ${r||!e.trim()?"bg-neutral-300 dark:bg-neutral-600 text-neutral-500 dark:text-neutral-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 text-white shadow-lg hover:shadow-xl"}
              `,children:r?u.jsxs(u.Fragment,{children:[u.jsx(pL,{className:"w-5 h-5"}),u.jsx("span",{children:"..."})]}):u.jsx("span",{children:""})})]}),!Ix()&&u.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500 text-center mt-6",children:": adminiadmin"})]})})})}function fL({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}function hL({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function pL({className:e}){return u.jsxs("svg",{className:`animate-spin ${e}`,fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function gL({isOpen:e}){const[t,n]=C.useState(""),[r,a]=C.useState(""),[s,l]=C.useState(null),{resetPassword:c,isLoading:d,error:f}=Cc(),h=s||f,g=C.useCallback(E=>{n(E.target.value),l(null)},[]),v=C.useCallback(E=>{a(E.target.value),l(null)},[]),x=C.useCallback(async E=>{if(E.preventDefault(),t.length<6){l(" 6 ");return}if(!_A(t,r)){l("");return}await c(t,r)},[t,r,c]);if(!e)return null;const w=u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)"},children:u.jsx("div",{className:"w-full max-w-md p-4",children:u.jsxs("div",{className:"bg-white/90 dark:bg-neutral-800/90 backdrop-blur-xl rounded-2xl shadow-xl p-8 border border-white/20 dark:border-neutral-700/50",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-amber-100 dark:bg-amber-900/40 mb-4",children:u.jsx(xL,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),u.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:""}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-2",children:""})]}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:""}),u.jsx("input",{id:"newPassword",type:"password",value:t,onChange:g,placeholder:" 6 ",disabled:d,autoFocus:!0,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:""}),u.jsx("input",{id:"confirmPassword",type:"password",value:r,onChange:v,placeholder:"",disabled:d,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"})]}),h&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 dark:text-red-400",children:[u.jsx(bL,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{children:h})]}),u.jsx("button",{type:"submit",disabled:d||!t||!r,className:`
                w-full py-3 px-4 rounded-lg font-medium transition-all mt-6
                flex items-center justify-center gap-2
                ${d||!t||!r?"bg-neutral-300 dark:bg-neutral-600 text-neutral-500 dark:text-neutral-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 text-white shadow-lg hover:shadow-xl"}
              `,children:d?u.jsxs(u.Fragment,{children:[u.jsx(vL,{className:"w-5 h-5"}),u.jsx("span",{children:"..."})]}):u.jsx("span",{children:""})})]})]})})});return Ci.createPortal(w,document.body)}function xL({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}function bL({className:e}){return u.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function vL({className:e}){return u.jsxs("svg",{className:`animate-spin ${e}`,fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function yL({children:e}){const{isAuthenticated:t,needsPasswordReset:n,initialized:r,isLoading:a,initialize:s}=Cc();return C.useEffect(()=>{!r&&!a&&s()},[r,a,s]),!r||a?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-neutral-100 to-neutral-200 dark:from-neutral-900 dark:to-neutral-800",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(kL,{className:"w-10 h-10 text-primary-600 dark:text-primary-400"}),u.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"..."})]})}):t?u.jsxs(u.Fragment,{children:[e,u.jsx(gL,{isOpen:n})]}):u.jsx(mL,{})}function kL({className:e}){return u.jsxs("svg",{className:`animate-spin ${e}`,fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function wL(){const[e,t]=C.useState(!0),[n,r]=C.useState(null),{initialized:a,loadWindows:s}=la(),{initialized:l,loadSettings:c}=Jt(),{initialized:d,loadModels:f}=Cn();C.useEffect(()=>{(async()=>{t(!0),r(null);try{await c(),Lx()&&await h3(async()=>await Jm(),async x=>{await zx(x)},{model:Jt.getState().currentModel,generationConfig:Jt.getState().generationConfig,systemInstruction:Jt.getState().systemInstruction}),await Promise.all([s(),f()])}catch(x){console.error(":",x),r(x instanceof Error?x.message:"")}finally{t(!1)}})()},[c,s,f]);const h=C.useCallback(()=>{r(null),t(!0),Promise.all([c(),s(),f()]).catch(v=>{r(v instanceof Error?v.message:"")}).finally(()=>{t(!1)})},[c,s,f]),g=e||!a||!l||!d;return n?u.jsx("div",{className:"flex h-screen items-center justify-center bg-white dark:bg-slate-900",children:u.jsx(ny,{title:"",message:n,onRetry:h,size:"lg"})}):u.jsx(dL,{children:u.jsx(yL,{children:u.jsx(lL,{isLoading:g,minLoadTime:500,children:u.jsx(GM,{sidebar:u.jsx(rI,{}),children:u.jsx(nL,{})})})})})}nf.info("Gemini Chat ...");const ry=document.getElementById("root");if(!ry)throw nf.error(" #root"),new Error(" #root");W5.createRoot(ry).render(u.jsx(C.StrictMode,{children:u.jsx(wL,{})}));nf.info("");export{jx as A,Pu as C,kx as D,Tx as E,l3 as F,Bo as G,a3 as H,Sx as I,ic as S,s3 as a,wx as b,sn as c,Ex as d,Nx as e,Co as f,Mx as g,o3 as h,u3 as i,Ix as j,Ax as k};
