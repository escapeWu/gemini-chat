# electron-builder 配置文件
# 用于构建 Windows exe 和 macOS dmg 安装包

# 应用基本信息
appId: com.gemini.chat
productName: Gemini Chat

# 输出目录配置
directories:
  output: release
  buildResources: build

# 包含的文件
files:
  - dist/**/*
  - electron/**/*.cjs

# Windows 平台配置
win:
  target:
    - target: nsis
      arch:
        - x64
  icon: public/logo.png
  # 禁用代码签名（本地开发时不需要）
  signAndEditExecutable: false

# NSIS 安装包配置
nsis:
  # 非一键安装，允许用户选择安装目录
  oneClick: false
  # 允许更改安装目录
  allowToChangeInstallationDirectory: true
  # 创建桌面快捷方式
  createDesktopShortcut: true
  # 创建开始菜单快捷方式
  createStartMenuShortcut: true
  # 安装包名称
  artifactName: "${productName}-Setup-${version}.${ext}"
  # 卸载时显示的名称
  uninstallDisplayName: "${productName}"

# macOS 平台配置
mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  icon: public/logo.png
  category: public.app-category.productivity
  # 安装包名称
  artifactName: "${productName}-${version}-${arch}.${ext}"
  # 禁用代码签名（本地开发时不需要）
  identity: null

# DMG 安装包配置
dmg:
  # DMG 窗口设置
  window:
    width: 540
    height: 380
  # 显示应用图标和 Applications 文件夹链接
  contents:
    - x: 130
      y: 220
      type: file
    - x: 410
      y: 220
      type: link
      path: /Applications
